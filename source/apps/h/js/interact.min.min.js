(function(a1){function bm(){}function al(m){if(!m||"object"!==typeof m){return !1}var l=aH(m)||an;return/object|function/.test(typeof l.Element)?m instanceof l.Element:1===m.nodeType&&"string"===typeof m.nodeName}function bk(l){return l===an||!(!l||!l.Window)&&l instanceof l.Window}function w(l){return ah(l)&&void 0!==typeof l.length&&a9(l.splice)}function ah(l){return !!l&&"object"===typeof l}function a9(l){return"function"===typeof l}function aU(l){return"number"===typeof l}function aZ(l){return"boolean"===typeof l}function aR(l){return"string"===typeof l}function d(l){if(!aR(l)){return !1}aM.querySelector(l);return !0}function ai(m,l){for(var n in l){m[n]=l[n]}return m}function by(m,l){for(var q in l){var p=!1,n;for(n in aY){if(0===q.indexOf(n)&&aY[n].test(q)){p=!0;break}}p||(m[q]=l[q])}return m}function bo(m,l){m.page=m.page||{};m.page.x=l.page.x;m.page.y=l.page.y;m.client=m.client||{};m.client.x=l.client.x;m.client.y=l.client.y;m.timeStamp=l.timeStamp}function bq(m,l,n){m.page.x=n.page.x-l.page.x;m.page.y=n.page.y-l.page.y;m.client.x=n.client.x-l.client.x;m.client.y=n.client.y-l.client.y;m.timeStamp=(new Date).getTime()-l.timeStamp;l=Math.max(m.timeStamp/1000,0.001);m.page.speed=bt(m.page.x,m.page.y)/l;m.page.vx=m.page.x/l;m.page.vy=m.page.y/l;m.client.speed=bt(m.client.x,m.page.y)/l;m.client.vx=m.client.x/l;m.client.vy=m.client.y/l}function bf(l){return l instanceof an.Event||bj&&an.Touch&&l instanceof an.Touch}function bc(m,l,n){n=n||{};m=m||"page";n.x=l[m+"X"];n.y=l[m+"Y"];return n}function aw(m,l){l=l||{};aD&&bf(m)?(bc("screen",m,l),l.x+=an.scrollX,l.y+=an.scrollY):bc("page",m,l);return l}function aj(m,l){l=l||{};aD&&bf(m)?bc("screen",m,l):bc("client",m,l);return l}function aQ(l){return aU(l.pointerId)?l.pointerId:l.identifier}function I(l){return l instanceof a2?l.correspondingUseElement:l}function aH(l){if(bk(l)){return l}l=l.ownerDocument||l;return l.defaultView||l.parentWindow||an}function g(l){return(l=l instanceof s?l.getBoundingClientRect():l.getClientRects()[0])&&{left:l.left,right:l.right,top:l.top,bottom:l.bottom,width:l.width||l.right-l.left,height:l.height||l.bottom-l.top}}function aA(m){var l,n=g(m);!ax&&n&&(l=(l=aH(m))||an,m=l.scrollX||l.document.documentElement.scrollLeft,l=l.scrollY||l.document.documentElement.scrollTop,n.left+=m,n.right+=m,n.top+=l,n.bottom+=l);return n}function bx(m){var l=[];w(m)?(l[0]=m[0],l[1]=m[1]):"touchend"===m.type?1===m.touches.length?(l[0]=m.touches[0],l[1]=m.changedTouches[0]):0===m.touches.length&&(l[0]=m.changedTouches[0],l[1]=m.changedTouches[1]):(l[0]=m.touches[0],l[1]=m.touches[1]);return l}function c(m){for(var l={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},p,n=0;n<m.length;n++){for(p in l){l[p]+=m[n][p]}}for(p in l){l[p]/=m.length}return l}function bn(m){if(m.length||m.touches&&1<m.touches.length){m=bx(m);var l=Math.min(m[0].pageX,m[1].pageX),n=Math.min(m[0].pageY,m[1].pageY);return{x:l,y:n,left:l,top:n,width:Math.max(m[0].pageX,m[1].pageX)-l,height:Math.max(m[0].pageY,m[1].pageY)-n}}}function a5(m,l){l=l||a4.deltaSource;var q=l+"X",p=l+"Y",n=bx(m);return bt(n[0][q]-n[1][q],n[0][p]-n[1][p])}function az(m,l,p){p=p||a4.deltaSource;var n=p+"X";p+="Y";m=bx(m);n=180*Math.atan((m[0][p]-m[1][p])/(m[0][n]-m[1][n]))/Math.PI;aU(l)&&(l=(n-l)%360,315<l?n-=360+n/360|0:135<l?n-=180+n/360|0:-315>l?n+=360+n/360|0:-135>l&&(n+=180+n/360|0));return n}function a3(m,l){var n=m?m.options.origin:a4.origin;"parent"===n?n=aT(l):"self"===n?n=m.getRect(l):d(n)&&(n=ae(l,n)||{x:0,y:0});a9(n)&&(n=n(m&&l));al(n)&&(n=aA(n));n.x="x" in n?n.x:n.left;n.y="y" in n?n.y:n.top;return n}function br(m,l,q,p){var n=1-m;return n*n*l+2*n*m*q+m*m*p}function aE(m,l){for(;l;){if(l===m){return !0}l=l.parentNode}return !1}function ae(m,l){for(var n=aT(m);al(n);){if(aL(n,l)){return n}n=aT(n)}return null}function aT(l){if((l=l.parentNode)&&l instanceof a7){for(;(l=l.host)&&l&&l instanceof a7;){}}return l}function af(m,l){return m._context===l.ownerDocument||aE(m._context,l)}function aC(m,l,n){return(m=m.options.ignoreFrom)&&al(n)?aR(m)?j(n,m,l):al(m)?aE(m,n):!1:!1}function bh(m,l,n){return(m=m.options.allowFrom)?al(n)?aR(m)?j(n,m,l):al(m)?aE(m,n):!1:!1:!0}function bg(m,l){if(!l){return !1}var n=l.options.drag.axis;return"xy"===m||"xy"===n||n===m}function bz(m,l){var n=m.options;/^resize/.test(l)&&(l="resize");return n[l].snap&&n[l].snap.enabled}function bp(m,l){var n=m.options;/^resize/.test(l)&&(l="resize");return n[l].restrict&&n[l].restrict.enabled}function aX(B,A,x){for(var v=B.options,t=v[x.name].max,v=v[x.name].maxPerElement,p=0,r=0,q=0,m=0,z=am.length;m<z;m++){var l=am[m],C=l.prepared.name;if(l.interacting()&&(p++,p>=k||l.target===B&&(r+=C===x.name|0,r>=t||l.element===A&&(q++,C!==x.name||q>=v)))){return !1}}return 0<k}function a(){this.prevDropElement=this.prevDropTarget=this.dropElement=this.dropTarget=this.element=this.target=null;this.prepared={name:null,axis:null,edges:null};this.matches=[];this.matchElements=[];this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null};if(a9(Function.prototype.bind)){this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this)}else{var l=this;this.boundInertiaFrame=function(){return l.inertiaFrame()};this.boundSmoothEndFrame=function(){return l.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]};this.pointers=[];this.pointerIds=[];this.downTargets=[];this.downTimes=[];this.holdTimers=[];this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0};this.downEvent=null;this.downPointer={};this.prevEvent=this._curEventTarget=this._eventTarget=null;this.tapTime=0;this.prevTap=null;this.startOffset={left:0,right:0,top:0,bottom:0};this.restrictOffset={left:0,right:0,top:0,bottom:0};this.snapOffsets=[];this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0};this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1};this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1};this.restrictStatus.snap=this.snapStatus;this.resizing=this.dragging=this.gesturing=this.pointerWasMoved=this.pointerIsDown=!1;this.resizeAxes="xy";this.mouse=!1;am.push(this)}function aO(m,l,v){var t=0,r=am.length,n=/mouse/i.test(m.pointerType||l)||4===m.pointerType,q;m=aQ(m);if(/down|start/i.test(l)){for(t=0;t<r;t++){q=am[t];var p=v;if(q.inertiaStatus.active&&q.target.options[q.prepared.name].inertia.allowResume&&q.mouse===n){for(;p;){if(p===q.element){return q}p=aT(p)}}}}if(n||!bj&&!ay){for(t=0;t<r;t++){if(am[t].mouse&&!am[t].inertiaStatus.active){return am[t]}}for(t=0;t<r;t++){if(am[t].mouse&&(!/down/.test(l)||!am[t].inertiaStatus.active)){return q}}q=new a;q.mouse=!0;return q}for(t=0;t<r;t++){if(-1!==ak(am[t].pointerIds,m)){return am[t]}}if(/up|end|out/i.test(l)){return null}for(t=0;t<r;t++){if(q=am[t],!(q.prepared.name&&!q.target.options.gesture.enabled||q.interacting()||!n&&q.mouse)){return q}}return new a}function ap(l){return function(m){var t,r=I(m.path?m.path[0]:m.target),q=I(m.currentTarget),n;if(bj&&/touch/.test(m.type)){for(u=(new Date).getTime(),n=0;n<m.changedTouches.length;n++){var p=m.changedTouches[n];if(t=aO(p,m.type,r)){t._updateEventTargets(r,q),t[l](p,m,r,q)}}}else{if(!ay&&/mouse/.test(m.type)){for(n=0;n<am.length;n++){if(!am[n].mouse&&am[n].pointerIsDown){return}}if(500>(new Date).getTime()-u){return}}if(t=aO(m,m.type,r)){t._updateEventTargets(r,q),t[l](m,m,r,q)}}}}function a0(P,O,N,M,L,H){var K,J,G=P.target,r=P.snapStatus,B=P.restrictStatus,x=P.pointers,z=(G&&G.options||a4).deltaSource,q=z+"X",F=z+"Y",D=G?G.options:a4,v=a3(G,L),C="start"===M,A="end"===M;K=C?P.startCoords:P.curCoords;L=L||P.element;J=ai({},K.page);K=ai({},K.client);J.x-=v.x;J.y-=v.y;K.x-=v.x;K.y-=v.y;var t=D[N].snap&&D[N].snap.relativePoints;!bz(G,N)||C&&t&&t.length||(this.snap={range:r.range,locked:r.locked,x:r.snappedX,y:r.snappedY,realX:r.realX,realY:r.realY,dx:r.dx,dy:r.dy},r.locked&&(J.x+=r.dx,J.y+=r.dy,K.x+=r.dx,K.y+=r.dy));!bp(G,N)||C&&D[N].restrict.elementRect||!B.restricted||(J.x+=B.dx,J.y+=B.dy,K.x+=B.dx,K.y+=B.dy,this.restrict={dx:B.dx,dy:B.dy});this.pageX=J.x;this.pageY=J.y;this.clientX=K.x;this.clientY=K.y;this.x0=P.startCoords.page.x-v.x;this.y0=P.startCoords.page.y-v.y;this.clientX0=P.startCoords.client.x-v.x;this.clientY0=P.startCoords.client.y-v.y;this.ctrlKey=O.ctrlKey;this.altKey=O.altKey;this.shiftKey=O.shiftKey;this.metaKey=O.metaKey;this.button=O.button;this.buttons=O.buttons;this.target=L;this.t0=P.downTimes[0];this.type=N+(M||"");this.interaction=P;this.interactable=G;L=P.inertiaStatus;L.active&&(this.detail="inertia");H&&(this.relatedTarget=H);A?"client"===z?(this.dx=K.x-P.startCoords.client.x,this.dy=K.y-P.startCoords.client.y):(this.dx=J.x-P.startCoords.page.x,this.dy=J.y-P.startCoords.page.y):C?this.dy=this.dx=0:"inertiastart"===M?(this.dx=P.prevEvent.dx,this.dy=P.prevEvent.dy):"client"===z?(this.dx=K.x-P.prevEvent.clientX,this.dy=K.y-P.prevEvent.clientY):(this.dx=J.x-P.prevEvent.pageX,this.dy=J.y-P.prevEvent.pageY);P.prevEvent&&"inertia"===P.prevEvent.detail&&!L.active&&D[N].inertia&&D[N].inertia.zeroResumeDelta&&(L.resumeDx+=this.dx,L.resumeDy+=this.dy,this.dx=this.dy=0);"resize"===N&&P.resizeAxes?D.resize.square?("y"===P.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=P.resizeAxes,"x"===P.resizeAxes?this.dy=0:"y"===P.resizeAxes&&(this.dx=0)):"gesture"===N&&(this.touches=[x[0],x[1]],C?(this.distance=a5(x,z),this.box=bn(x),this.scale=1,this.ds=0,this.angle=az(x,void 0,z),this.da=0):A||O instanceof a0?(this.distance=P.prevEvent.distance,this.box=P.prevEvent.box,this.scale=P.prevEvent.scale,this.ds=this.scale-1,this.angle=P.prevEvent.angle,this.da=this.angle-P.gesture.startAngle):(this.distance=a5(x,z),this.box=bn(x),this.scale=this.distance/P.gesture.startDistance,this.angle=az(x,P.gesture.prevAngle,z),this.ds=this.scale-P.gesture.prevScale,this.da=this.angle-P.gesture.prevAngle));C?(this.timeStamp=P.downTimes[0],this.velocityY=this.velocityX=this.speed=this.duration=this.dt=0):"inertiastart"===M?(this.timeStamp=P.prevEvent.timeStamp,this.dt=P.prevEvent.dt,this.duration=P.prevEvent.duration,this.speed=P.prevEvent.speed,this.velocityX=P.prevEvent.velocityX,this.velocityY=P.prevEvent.velocityY):(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-P.prevEvent.timeStamp,this.duration=this.timeStamp-P.downTimes[0],O instanceof a0?(O=this[q]-P.prevEvent[q],F=this[F]-P.prevEvent[F],N=this.dt/1000,this.speed=bt(O,F)/N,this.velocityX=O/N,this.velocityY=F/N):(this.speed=P.pointerDelta[z].speed,this.velocityX=P.pointerDelta[z].vx,this.velocityY=P.pointerDelta[z].vy));(A||"inertiastart"===M)&&600<P.prevEvent.speed&&150>this.timeStamp-P.prevEvent.timeStamp&&(M=180*Math.atan2(P.prevEvent.velocityY,P.prevEvent.velocityX)/Math.PI,0>M&&(M+=360),A=112.5<=M&&247.5>M,F=202.5<=M&&337.5>M,this.swipe={up:F,down:!F&&22.5<=M&&157.5>M,left:A,right:!A&&(292.5<=M||67.5>M),angle:M,speed:P.prevEvent.speed,velocity:{x:P.prevEvent.velocityX,y:P.prevEvent.velocityY}})}function bs(){this.originalEvent.preventDefault()}function bi(m){var l="";"drag"===m.name&&(l=be.drag);if("resize"===m.name){if(m.axis){l=be[m.name+m.axis]}else{if(m.edges){for(var l="resize",p=["top","bottom","left","right"],n=0;4>n;n++){m.edges[p[n]]&&(l+=p[n])}l=be[l]}}}return l}function aV(Q,P,O){Q=this.getRect(O);var N=!1,M=null,J=null,L,K=ai({},P.curCoords.page),M=this.options;if(!Q){return null}if(aK.resize&&M.resize.enabled){if(N=M.resize,L={left:!1,right:!1,top:!1,bottom:!1},ah(N.edges)){for(var H in L){var t=L,D=H,z;Q:{z=H;var A=N.edges[H],G=K,F=P._eventTarget,C=O,x=Q,r=N.margin||ad;if(A){if(!0===A){var B=aU(x.width)?x.width:x.right-x.left,v=aU(x.height)?x.height:x.bottom-x.top;0>B&&("left"===z?z="right":"right"===z&&(z="left"));0>v&&("top"===z?z="bottom":"bottom"===z&&(z="top"));if("left"===z){z=G.x<(0<=B?x.left:x.right)+r;break Q}if("top"===z){z=G.y<(0<=v?x.top:x.bottom)+r;break Q}if("right"===z){z=G.x>(0<=B?x.right:x.left)-r;break Q}if("bottom"===z){z=G.y>(0<=v?x.bottom:x.top)-r;break Q}}z=al(F)?al(A)?A===F:j(F,A,C):!1}else{z=!1}}t[D]=z}L.left=L.left&&!L.right;L.top=L.top&&!L.bottom;N=L.left||L.right||L.top||L.bottom}else{O="y"!==M.resize.axis&&K.x>Q.right-ad,Q="x"!==M.resize.axis&&K.y>Q.bottom-ad,N=O||Q,J=(O?"x":"")+(Q?"y":"")}}M=N?"resize":aK.drag&&M.drag.enabled?"drag":null;aK.gesture&&2<=P.pointerIds.length&&!P.dragging&&!P.resizing&&(M="gesture");return M?{name:M,axis:J,edges:L}:null}function aG(m,l){if(!ah(m)){return null}var p=m.name,n=l.options;return("resize"===p&&n.resize.enabled||"drag"===p&&n.drag.enabled||"gesture"===p&&n.gesture.enabled)&&aK[p]?m:null}function i(x,v){var t={},r=aN[x.type],q=I(x.path?x.path[0]:x.target),m=q;v=v?!0:!1;for(var p in x){t[p]=x[p]}t.originalEvent=x;for(t.preventDefault=bs;al(m);){for(p=0;p<r.selectors.length;p++){var n=r.contexts[p];if(aL(m,r.selectors[p])&&aE(n,q)&&aE(n,m)){n=r.listeners[p];t.currentTarget=m;for(var l=0;l<n.length;l++){if(n[l][1]===v){n[l][0](t)}}}}m=aT(m)}}function bu(l){return i.call(this,l,!0)}function au(m,l){return a8.get(m,l)||new a6(m,l)}function a6(m,l){this._element=m;this._iEvents=this._iEvents||{};var p;if(d(m)){this.selector=m;var n=l&&l.context;p=n?aH(n):an;n&&(p.Node?n instanceof p.Node:al(n)||n===p.document)&&(this._context=n)}else{p=aH(m),al(m,p)&&(aP?(aq.add(this._element,aW.down,at.pointerDown),aq.add(this._element,aW.move,at.pointerHover)):(aq.add(this._element,"mousedown",at.pointerDown),aq.add(this._element,"mousemove",at.pointerHover),aq.add(this._element,"touchstart",at.pointerDown),aq.add(this._element,"touchmove",at.pointerHover)))}this._doc=p.document;-1===ak(E,this._doc)&&av(this._doc);a8.push(this);this.set(l)}function aS(m,l){var n=!1;return function(){n||(an.console.warn(l),n=!0);return m.apply(this,arguments)}}function y(m){for(var l=0;l<am.length;l++){am[l].pointerEnd(m,m)}}function av(m){if(-1===ak(E,m)){var l=m.defaultView||m.parentWindow,r;for(r in aN){aq.add(m,r,i),aq.add(m,r,bu,!0)}aP?(aW=aP===l.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},aq.add(m,aW.down,at.selectorDown),aq.add(m,aW.move,at.pointerMove),aq.add(m,aW.over,at.pointerOver),aq.add(m,aW.out,at.pointerOut),aq.add(m,aW.up,at.pointerUp),aq.add(m,aW.cancel,at.pointerCancel),aq.add(m,aW.move,at.autoScrollMove)):(aq.add(m,"mousedown",at.selectorDown),aq.add(m,"mousemove",at.pointerMove),aq.add(m,"mouseup",at.pointerUp),aq.add(m,"mouseover",at.pointerOver),aq.add(m,"mouseout",at.pointerOut),aq.add(m,"touchstart",at.selectorDown),aq.add(m,"touchmove",at.pointerMove),aq.add(m,"touchend",at.pointerUp),aq.add(m,"touchcancel",at.pointerCancel),aq.add(m,"mousemove",at.autoScrollMove),aq.add(m,"touchmove",at.autoScrollMove));aq.add(l,"blur",y);try{if(l.frameElement){var q=l.frameElement.ownerDocument,p=q.defaultView;aq.add(q,"mouseup",at.pointerEnd);aq.add(q,"touchend",at.pointerEnd);aq.add(q,"touchcancel",at.pointerEnd);aq.add(q,"pointerup",at.pointerEnd);aq.add(q,"MSPointerUp",at.pointerEnd);aq.add(p,"blur",y)}}catch(n){au.windowParentError=n}aq.add(m,"dragstart",function(v){for(var t=0;t<am.length;t++){var x=am[t];if(x.element&&(x.element===v.target||aE(x.element,v.target))){x.checkAndPreventDefault(v,x.target,x.element);break}}});aq.useAttachEvent&&(aq.add(m,"selectstart",function(v){var t=am[0];t.currentAction()&&t.checkAndPreventDefault(v)}),aq.add(m,"dblclick",ap("ie8Dblclick")));E.push(m)}}function ak(m,l){for(var p=0,n=m.length;p<n;p++){if(m[p]===l){return p}}return -1}function aL(m,l,n){if(f){return f(m,l,n)}an!==a1&&(l=l.replace(/\/deep\//g," "));return m[bd](l)}function j(m,l,n){for(;al(m);){if(aL(m,l)){return !0}m=aT(m);if(m===n){return aL(m,l)}}return !1}if(a1){var an=function(){var l=a1.document.createTextNode("");return l.ownerDocument!==a1.document&&"function"===typeof a1.wrap&&a1.wrap(l)===l?a1.wrap(a1):a1}(),aM=an.document,a7=an.DocumentFragment||bm,s=an.SVGElement||bm,ac=an.SVGSVGElement||bm,a2=an.SVGElementInstance||bm,h=an.HTMLElement||an.Element,aP=an.PointerEvent||an.MSPointerEvent,aW,bt=Math.hypot||function(m,l){return Math.sqrt(m*m+l*l)},bw={},E=[],a8=[],am=[],aB=!1,aN={},a4={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:aM,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:Infinity,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:Infinity,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:Infinity,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},ao={interaction:null,i:null,x:0,y:0,scroll:function(){var m=ao.interaction.target.options[ao.interaction.prepared.name].autoScroll,l=m.container||aH(ao.interaction.element),r=(new Date).getTime(),q=(r-ao.prevTimeX)/1000,p=(r-ao.prevTimeY)/1000,n;m.velocity?(n=m.velocity.x,m=m.velocity.y):n=m=m.speed;q*=n;p*=m;if(1<=q||1<=p){bk(l)?l.scrollBy(ao.x*q,ao.y*p):l&&(l.scrollLeft+=ao.x*q,l.scrollTop+=ao.y*p),1<=q&&(ao.prevTimeX=r),1<=p&&(ao.prevTimeY=r)}ao.isScrolling&&(aF(ao.i),ao.i=aJ(ao.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(l){ao.isScrolling=!0;aF(ao.i);ao.interaction=l;ao.prevTimeX=(new Date).getTime();ao.prevTimeY=(new Date).getTime();ao.i=aJ(ao.scroll)},stop:function(){ao.isScrolling=!1;aF(ao.i)}},bj="ontouchstart" in an||an.DocumentTouch&&aM instanceof an.DocumentTouch,ay=!!aP,ad=bj||ay?20:10,ag=1,u=0,k=Infinity,be=aM.all&&!an.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},aK={drag:!0,resize:!0,gesture:!0},e="onmousewheel" in aM?"mousewheel":"wheel",ar="dragstart dragmove draginertiastart dragend dragenter dragleave dropactivate dropdeactivate dropmove drop resizestart resizemove resizeinertiastart resizeend gesturestart gesturemove gestureinertiastart gestureend down move up cancel tap doubletap hold".split(" "),aI={},aD="Opera"==navigator.appName&&bj&&navigator.userAgent.match("Presto"),ax=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),bd="matches" in Element.prototype?"matches":"webkitMatchesSelector" in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector" in Element.prototype?"mozMatchesSelector":"oMatchesSelector" in Element.prototype?"oMatchesSelector":"msMatchesSelector",f,aJ=a1.requestAnimationFrame,aF=a1.cancelAnimationFrame,aq=function(){function B(L,K,J,H){var G,F=ak(m,L),D=z[F],C,M,n=J;if(D&&D.events){if(t&&(C=l[F],M=ak(C.supplied,J),n=C.wrapped[M]),"all"===K){for(K in D.events){D.events.hasOwnProperty(K)&&B(L,K,"all")}}else{if(D.events[K]){var N=D.events[K].length;if("all"===J){for(G=0;G<N;G++){B(L,K,D.events[K][G],Boolean(H))}return}for(G=0;G<N;G++){if(D.events[K][G]===J){L[r](q+K,n,H||!1);D.events[K].splice(G,1);t&&C&&(C.useCount[M]--,0===C.useCount[M]&&(C.supplied.splice(M,1),C.wrapped.splice(M,1),C.useCount.splice(M,1)));break}}D.events[K]&&0===D.events[K].length&&(D.events[K]=null,D.typeCount--)}D.typeCount||(z.splice(F,1),m.splice(F,1),l.splice(F,1))}}}function A(){this.returnValue=!1}function x(){this.cancelBubble=!0}function v(){this.immediatePropagationStopped=this.cancelBubble=!0}var t="attachEvent" in an&&!("addEventListener" in an),p=t?"attachEvent":"addEventListener",r=t?"detachEvent":"removeEventListener",q=t?"on":"",m=[],z=[],l=[];return{add:function(D,J,C,K){var n=ak(m,D),H=z[n];H||(H={events:{},typeCount:0},n=m.push(D)-1,z.push(H),l.push(t?{supplied:[],wrapped:[],useCount:[]}:null));H.events[J]||(H.events[J]=[],H.typeCount++);if(-1===ak(H.events[J],C)){if(t){var n=l[n],G=ak(n.supplied,C),F=n.wrapped[G]||function(L){L.immediatePropagationStopped||(L.target=L.srcElement,L.currentTarget=D,L.preventDefault=L.preventDefault||A,L.stopPropagation=L.stopPropagation||x,L.stopImmediatePropagation=L.stopImmediatePropagation||v,/mouse|click/.test(L.type)&&(L.pageX=L.clientX+aH(D).document.documentElement.scrollLeft,L.pageY=L.clientY+aH(D).document.documentElement.scrollTop),C(L))};K=D[p](q+J,F,Boolean(K));-1===G?(n.supplied.push(C),n.wrapped.push(F),n.useCount.push(1)):n.useCount[G]++}else{K=D[p](J,C,K||!1)}H.events[J].push(C);return K}},remove:B,useAttachEvent:t,_elements:m,_targets:z,_attachedListeners:l}}(),aY={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};a.prototype={getPageXY:function(m,l){return aw(m,l,this)},getClientXY:function(m,l){return aj(m,l,this)},setEventXY:function(m,l){var n=1<l.length?c(l):l[0];aw(n,bw,this);m.page.x=bw.x;m.page.y=bw.y;aj(n,bw,this);m.client.x=bw.x;m.client.y=bw.y;m.timeStamp=(new Date).getTime()},pointerOver:function(x,v,t){function r(A,z){A&&af(A,t)&&!aC(A,t,t)&&bh(A,t,t)&&aL(t,z)&&(q.push(A),m.push(t))}if(!this.prepared.name&&this.mouse){var q=[],m=[],p=this.element;this.addPointer(x);!this.target||!aC(this.target,this.element,t)&&bh(this.target,this.element,t)||(this.element=this.target=null,this.matches=[],this.matchElements=[]);var n=a8.get(t),l=n&&!aC(n,t,t)&&bh(n,t,t)&&aG(n.getAction(x,v,this,t),n);l&&!aX(n,t,l)&&(l=null);l?(this.target=n,this.element=t,this.matches=[],this.matchElements=[]):(a8.forEachSelector(r),this.validateSelector(x,v,q,m)?(this.matches=q,this.matchElements=m,this.pointerHover(x,v,this.matches,this.matchElements),aq.add(t,aP?aW.move:"mousemove",at.pointerHover)):this.target&&(aE(p,t)?(this.pointerHover(x,v,this.matches,this.matchElements),aq.add(this.element,aP?aW.move:"mousemove",at.pointerHover)):(this.element=this.target=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(m,l,t,r,q,n){t=this.target;if(!this.prepared.name&&this.mouse){var p;this.setEventXY(this.curCoords,[m]);q?p=this.validateSelector(m,l,q,n):t&&(p=aG(t.getAction(this.pointers[0],l,this,this.element),this.target));t&&t.options.styleCursor&&(t._doc.documentElement.style.cursor=p?bi(p):"")}else{this.prepared.name&&this.checkAndPreventDefault(l,t,this.element)}},pointerOut:function(m,l,n){this.prepared.name||(a8.get(n)||aq.remove(n,aP?aW.move:"mousemove",at.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(A,z,x,v){function t(B,l,C){C=f?C.querySelectorAll(l):void 0;af(B,q)&&!aC(B,q,x)&&bh(B,q,x)&&aL(q,l,C)&&(p.matches.push(B),p.matchElements.push(q))}var p=this,r=aq.useAttachEvent?ai({},z):z,q=x,n=this.addPointer(A),m;this.holdTimers[n]=setTimeout(function(){p.pointerHold(aq.useAttachEvent?r:A,r,x,v)},a4._holdDuration);this.pointerIsDown=!0;if(this.inertiaStatus.active&&this.target.selector){for(;al(q);){if(q===this.element&&aG(this.target.getAction(A,z,this,this.element),this.target).name===this.prepared.name){aF(this.inertiaStatus.i);this.inertiaStatus.active=!1;this.collectEventTargets(A,z,x,"down");return}q=aT(q)}}if(!this.interacting()){this.setEventXY(this.curCoords,[A]);for(this.downEvent=z;al(q)&&!m;){this.matches=[],this.matchElements=[],a8.forEachSelector(t),m=this.validateSelector(A,z,this.matches,this.matchElements),q=aT(q)}if(m){return this.prepared.name=m.name,this.prepared.axis=m.axis,this.prepared.edges=m.edges,this.collectEventTargets(A,z,x,"down"),this.pointerDown(A,z,x,v,m)}this.downTimes[n]=(new Date).getTime();this.downTargets[n]=x;by(this.downPointer,A);bo(this.prevCoords,this.curCoords);this.pointerWasMoved=!1}this.collectEventTargets(A,z,x,"down")},pointerDown:function(x,v,t,r,q){if(!q&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name){this.checkAndPreventDefault(v,this.target,this.element)}else{this.pointerIsDown=!0;this.downEvent=v;var m=this.addPointer(x),p;if(1<this.pointerIds.length&&this.target._element===this.element){var n=aG(q||this.target.getAction(x,v,this,this.element),this.target);aX(this.target,this.element,n)&&(p=n);this.prepared.name=null}else{this.prepared.name||(n=a8.get(r))&&!aC(n,r,t)&&bh(n,r,t)&&(p=aG(q||n.getAction(x,v,this,r),n,t))&&aX(n,r,p)&&(this.target=n,this.element=r)}var l=(n=this.target)&&n.options;!n||!q&&this.prepared.name?this.inertiaStatus.active&&r===this.element&&aG(n.getAction(x,v,this,this.element),n).name===this.prepared.name&&(aF(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(v,n,this.element)):(p=p||aG(q||n.getAction(x,v,this,r),n,this.element),this.setEventXY(this.startCoords,this.pointers),p&&(l.styleCursor&&(n._doc.documentElement.style.cursor=bi(p)),this.resizeAxes="resize"===p.name?p.axis:null,"gesture"===p&&2>this.pointerIds.length&&(p=null),this.prepared.name=p.name,this.prepared.axis=p.axis,this.prepared.edges=p.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[m]=(new Date).getTime(),this.downTargets[m]=t,by(this.downPointer,x),bo(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(v,n,this.element)))}},setModifications:function(m,l){var q=this.target,p=!0,n=bz(q,this.prepared.name)&&(!q.options[this.prepared.name].snap.endOnly||l),q=bp(q,this.prepared.name)&&(!q.options[this.prepared.name].restrict.endOnly||l);n?this.setSnapping(m):this.snapStatus.locked=!1;q?this.setRestriction(m):this.restrictStatus.restricted=!1;n&&this.snapStatus.locked&&!this.snapStatus.changed?p=q&&this.restrictStatus.restricted&&this.restrictStatus.changed:q&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(p=!1);return p},setStartOffsets:function(m,l,t){m=l.getRect(t);var r=a3(l,t);t=l.options[this.prepared.name].snap;l=l.options[this.prepared.name].restrict;var q,n;m?(this.startOffset.left=this.startCoords.page.x-m.left,this.startOffset.top=this.startCoords.page.y-m.top,this.startOffset.right=m.right-this.startCoords.page.x,this.startOffset.bottom=m.bottom-this.startCoords.page.y,q="width" in m?m.width:m.right-m.left,n="height" in m?m.height:m.bottom-m.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0;this.snapOffsets.splice(0);r=t&&"startCoords"===t.offset?{x:this.startCoords.page.x-r.x,y:this.startCoords.page.y-r.y}:t&&t.offset||{x:0,y:0};if(m&&t&&t.relativePoints&&t.relativePoints.length){for(var p=0;p<t.relativePoints.length;p++){this.snapOffsets.push({x:this.startOffset.left-q*t.relativePoints[p].x+r.x,y:this.startOffset.top-n*t.relativePoints[p].y+r.y})}}else{this.snapOffsets.push(r)}m&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-q*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-n*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-q*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-n*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(m,l,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===m.name?2:1)||(-1===ak(am,this)&&am.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=m.name,this.prepared.axis=m.axis,this.prepared.edges=m.edges,this.target=l,this.element=n,this.setStartOffsets(m.name,l,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(C,B,A,z,x){if(this.inertiaStatus.active){z=this.inertiaStatus.upCoords.page;var r=this.inertiaStatus.upCoords.client;this.setEventXY(this.curCoords,[{pageX:z.x+this.inertiaStatus.sx,pageY:z.y+this.inertiaStatus.sy,clientX:r.x+this.inertiaStatus.sx,clientY:r.y+this.inertiaStatus.sy}])}else{this.recordPointer(C),this.setEventXY(this.curCoords,this.pointers)}z=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y;var v,t,r=this.mouse?0:ak(this.pointerIds,aQ(C));this.pointerIsDown&&!this.pointerWasMoved&&(v=this.curCoords.client.x-this.startCoords.client.x,t=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=bt(v,t)>ag);z||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[r]),this.collectEventTargets(C,B,A,"move"));if(this.pointerIsDown){if(z&&this.pointerWasMoved&&!x){this.checkAndPreventDefault(B,this.target,this.element)}else{if(bq(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||C instanceof a0&&/inertiastart/.test(C.type))){if(!this.interacting()&&(bq(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){v=Math.abs(v);t=Math.abs(t);z=this.target.options.drag.axis;var q=v>t?"x":v<t?"y":"xy";if("xy"!==q&&"xy"!==z&&z!==q){this.prepared.name=null;for(var p=A;al(p);){if((t=a8.get(p))&&t!==this.target&&!t.options.drag.manualStart&&"drag"===t.getAction(this.downPointer,this.downEvent,this,p).name&&bg(q,t)){this.prepared.name="drag";this.target=t;this.element=p;break}p=aT(p)}if(!this.prepared.name){var m=this;t=function(n,l,D){D=f?D.querySelectorAll(l):void 0;if(n!==m.target&&af(n,A)&&!n.options.drag.manualStart&&!aC(n,p,A)&&bh(n,p,A)&&aL(p,l,D)&&"drag"===n.getAction(m.downPointer,m.downEvent,m,p).name&&bg(q,n)&&aX(n,p,"drag")){return n}};for(p=A;al(p);){if(v=a8.forEachSelector(t)){this.prepared.name="drag";this.target=v;this.element=p;break}p=aT(p)}}}}if((t=!!this.prepared.name&&!this.interacting())&&(this.target.options[this.prepared.name].manualStart||!aX(this.target,this.element,this.prepared))){this.stop(B);return}if(this.prepared.name&&this.target){t&&this.start(this.prepared,this.target,this.element);if(this.setModifications(this.curCoords.page,x)||t){this.prevEvent=this[this.prepared.name+"Move"](B)}this.checkAndPreventDefault(B,this.target,this.element)}}bo(this.prevCoords,this.curCoords);(this.dragging||this.resizing)&&this.autoScrollMove(C)}}}},dragStart:function(m){var l=new a0(this,m,"drag","start",this.element);this.dragging=!0;this.target.fire(l);this.activeDrops.dropzones=[];this.activeDrops.elements=[];this.activeDrops.rects=[];this.dynamicDrop||this.setActiveDrops(this.element);m=this.getDropEvents(m,l);m.activate&&this.fireActiveDrops(m.activate);return l},dragMove:function(m){var l=this.target,p=new a0(this,m,"drag","move",this.element),n=this.getDrop(p,m,this.element);this.dropTarget=n.dropzone;this.dropElement=n.element;m=this.getDropEvents(m,p);l.fire(p);m.leave&&this.prevDropTarget.fire(m.leave);m.enter&&this.dropTarget.fire(m.enter);m.move&&this.dropTarget.fire(m.move);this.prevDropTarget=this.dropTarget;this.prevDropElement=this.dropElement;return p},resizeStart:function(m){m=new a0(this,m,"resize","start",this.element);if(this.prepared.edges){var l=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=ai({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom;n.left=n.left||n.top&&!n.right;n.bottom=n.bottom||n.right&&!n.top;n.right=n.right||n.bottom&&!n.left;this.prepared._linkedEdges=n}else{this.prepared._linkedEdges=null}this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=l.width/l.height);this.resizeRects={start:l,current:ai({},l),restricted:ai({},l),previous:ai({},l),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}};m.rect=this.resizeRects.restricted;m.deltaRect=this.resizeRects.delta}this.target.fire(m);this.resizing=!0;return m},resizeMove:function(K){K=new a0(this,K,"resize","move",this.element);var J=this.prepared.edges,H=this.target.options.resize.invert,G="reposition"===H||"negate"===H;if(J){var F=K.dx,B=K.dy,D=this.resizeRects.start,C=this.resizeRects.current,A=this.resizeRects.restricted,z=this.resizeRects.delta,v=ai(this.resizeRects.previous,A),x=J;if(this.target.options.resize.preserveAspectRatio){var t=this.resizeStartAspectRatio,J=this.prepared._linkedEdges;if(x.left&&x.bottom||x.right&&x.top){B=-F/t}else{if(x.left||x.right){B=F/t}else{if(x.top||x.bottom){F=B*t}}}}else{if(this.target.options.resize.square){if(J=this.prepared._linkedEdges,x.left&&x.bottom||x.right&&x.top){B=-F}else{if(x.left||x.right){B=F}else{if(x.top||x.bottom){F=B}}}}}J.top&&(C.top+=B);J.bottom&&(C.bottom+=B);J.left&&(C.left+=F);J.right&&(C.right+=F);G?(ai(A,C),"reposition"===H&&(A.top>A.bottom&&(J=A.top,A.top=A.bottom,A.bottom=J),A.left>A.right&&(J=A.left,A.left=A.right,A.right=J))):(A.top=Math.min(C.top,D.bottom),A.bottom=Math.max(C.bottom,D.top),A.left=Math.min(C.left,D.right),A.right=Math.max(C.right,D.left));A.width=A.right-A.left;A.height=A.bottom-A.top;for(var r in A){z[r]=A[r]-v[r]}K.edges=this.prepared.edges;K.rect=A;K.deltaRect=z}this.target.fire(K);return K},gestureStart:function(l){l=new a0(this,l,"gesture","start",this.element);l.ds=0;this.gesture.startDistance=this.gesture.prevDistance=l.distance;this.gesture.startAngle=this.gesture.prevAngle=l.angle;this.gesture.scale=1;this.gesturing=!0;this.target.fire(l);return l},gestureMove:function(l){if(!this.pointerIds.length){return this.prevEvent}l=new a0(this,l,"gesture","move",this.element);l.ds=l.scale-this.gesture.scale;this.target.fire(l);this.gesture.prevAngle=l.angle;this.gesture.prevDistance=l.distance;Infinity===l.scale||null===l.scale||void 0===l.scale||isNaN(l.scale)||(this.gesture.scale=l.scale);return l},pointerHold:function(m,l,n){this.collectEventTargets(m,l,n,"hold")},pointerUp:function(m,l,q,p){var n=this.mouse?0:ak(this.pointerIds,aQ(m));clearTimeout(this.holdTimers[n]);this.collectEventTargets(m,l,q,"up");this.collectEventTargets(m,l,q,"tap");this.pointerEnd(m,l,q,p);this.removePointer(m)},pointerCancel:function(m,l,q,p){var n=this.mouse?0:ak(this.pointerIds,aQ(m));clearTimeout(this.holdTimers[n]);this.collectEventTargets(m,l,q,"cancel");this.pointerEnd(m,l,q,p);this.removePointer(m)},ie8Dblclick:function(m,l,n){this.prevTap&&l.clientX===this.prevTap.clientX&&l.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(m,l,n,"tap"))},pointerEnd:function(N,M,L,K){var J,F=this.target,H=F&&F.options,G=H&&this.prepared.name&&H[this.prepared.name].inertia;J=this.inertiaStatus;if(this.interacting()){if(J.active&&!J.ending){return}var D=(new Date).getTime(),C=!1,B=!1,A=!1,z=bz(F,this.prepared.name)&&H[this.prepared.name].snap.endOnly,x=bp(F,this.prepared.name)&&H[this.prepared.name].restrict.endOnly,v=0,O=0,H=this.dragging?"x"===H.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===H.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,B=(C=G&&G.enabled&&"gesture"!==this.prepared.name&&M!==J.startEvent)&&50>D-this.curCoords.timeStamp&&H>G.minSpeed&&H>G.endSpeed;C&&!B&&(z||x)&&(G={},G.snap=G.restrict=G,z&&(this.setSnapping(this.curCoords.page,G),G.locked&&(v+=G.dx,O+=G.dy)),x&&(this.setRestriction(this.curCoords.page,G),G.restricted&&(v+=G.dx,O+=G.dy)),v||O)&&(A=!0);if(B||A){bo(J.upCoords,this.curCoords);this.pointers[0]=J.startEvent=new a0(this,M,this.prepared.name,"inertiastart",this.element);J.t0=D;F.fire(J.startEvent);B?(J.vx0=this.pointerDelta.client.vx,J.vy0=this.pointerDelta.client.vy,J.v0=H,this.calcInertia(J),M=ai({},this.curCoords.page),F=a3(F,this.element),M.x=M.x+J.xe-F.x,M.y=M.y+J.ye-F.y,F={useStatusXY:!0,x:M.x,y:M.y,dx:0,dy:0,snap:null},F.snap=F,v=O=0,z&&(M=this.setSnapping(this.curCoords.page,F),M.locked&&(v+=M.dx,O+=M.dy)),x&&(F=this.setRestriction(this.curCoords.page,F),F.restricted&&(v+=F.dx,O+=F.dy)),J.modifiedXe+=v,J.modifiedYe+=O,J.i=aJ(this.boundInertiaFrame)):(J.smoothEnd=!0,J.xe=v,J.ye=O,J.sx=J.sy=0,J.i=aJ(this.boundSmoothEndFrame));J.active=!0;return}(z||x)&&this.pointerMove(N,M,L,K,!0)}this.dragging?(J=new a0(this,M,"drag","end",this.element),x=this.getDrop(J,M,this.element),this.dropTarget=x.dropzone,this.dropElement=x.element,x=this.getDropEvents(M,J),x.leave&&this.prevDropTarget.fire(x.leave),x.enter&&this.dropTarget.fire(x.enter),x.drop&&this.dropTarget.fire(x.drop),x.deactivate&&this.fireActiveDrops(x.deactivate),F.fire(J)):this.resizing?(J=new a0(this,M,"resize","end",this.element),F.fire(J)):this.gesturing&&(J=new a0(this,M,"gesture","end",this.element),F.fire(J));this.stop(M)},collectDrops:function(x){var v=[],t=[],r;x=x||this.element;for(r=0;r<a8.length;r++){if(a8[r].options.drop.enabled){var q=a8[r],m=q.options.drop.accept;if(!(al(m)&&m!==x||aR(m)&&!aL(x,m))){for(var m=q.selector?q._context.querySelectorAll(q.selector):[q._element],p=0,n=m.length;p<n;p++){var l=m[p];l!==x&&(v.push(q),t.push(l))}}}}return{dropzones:v,elements:t}},fireActiveDrops:function(m){var l,q,p,n;for(l=0;l<this.activeDrops.dropzones.length;l++){q=this.activeDrops.dropzones[l],p=this.activeDrops.elements[l],p!==n&&(m.target=p,q.fire(m)),n=p}},setActiveDrops:function(l){l=this.collectDrops(l,!0);this.activeDrops.dropzones=l.dropzones;this.activeDrops.elements=l.elements;this.activeDrops.rects=[];for(l=0;l<this.activeDrops.dropzones.length;l++){this.activeDrops.rects[l]=this.activeDrops.dropzones[l].getRect(this.activeDrops.elements[l])}},getDrop:function(m,l,v){var t=[];aB&&this.setActiveDrops(v);for(var r=0;r<this.activeDrops.dropzones.length;r++){var n=this.activeDrops.elements[r];t.push(this.activeDrops.dropzones[r].dropCheck(m,l,this.target,v,n,this.activeDrops.rects[r])?n:null)}v=(l=t[0])?0:-1;for(var q,r=[],p=[],n=1;n<t.length;n++){if((m=t[n])&&m!==l){if(!l){l=m,v=n}else{if(m.parentNode!==m.ownerDocument){if(l.parentNode===m.ownerDocument){l=m,v=n}else{if(!r.length){for(q=l;q.parentNode&&q.parentNode!==q.ownerDocument;){r.unshift(q),q=q.parentNode}}if(l instanceof h&&m instanceof s&&!(m instanceof ac)){if(m===l.parentNode){continue}q=m.ownerSVGElement}else{q=m}for(p=[];q.parentNode!==q.ownerDocument;){p.unshift(q),q=q.parentNode}for(q=0;p[q]&&p[q]===r[q];){q++}q=[p[q-1],p[q],r[q]];for(p=q[0].lastChild;p;){if(p===q[1]){l=m;v=n;r=[];break}else{if(p===q[2]){break}}p=p.previousSibling}}}}}}t=v;return{dropzone:this.activeDrops.dropzones[t]||null,element:this.activeDrops.elements[t]||null}},getDropEvents:function(m,l){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,timeStamp:l.timeStamp,type:"dragleave"},l.dragLeave=this.prevDropElement,l.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,timeStamp:l.timeStamp,type:"dragenter"},l.dragEnter=this.dropElement,l.dropzone=this.dropTarget));"dragend"===l.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,timeStamp:l.timeStamp,type:"drop"},l.dropzone=this.dropTarget);"dragstart"===l.type&&(n.activate={target:null,dropzone:null,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,timeStamp:l.timeStamp,type:"dropactivate"});"dragend"===l.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,timeStamp:l.timeStamp,type:"dropdeactivate"});"dragmove"===l.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:l.target,draggable:l.interactable,dragEvent:l,interaction:this,dragmove:l,timeStamp:l.timeStamp,type:"dropmove"},l.dropzone=this.dropTarget);return n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=this.target=this.element=null},stop:function(m){if(this.interacting()){ao.stop();this.matches=[];this.matchElements=[];var l=this.target;l.options.styleCursor&&(l._doc.documentElement.style.cursor="");m&&a9(m.preventDefault)&&this.checkAndPreventDefault(m,l,this.element);this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets();this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1;this.prepared.name=this.prevEvent=null;for(m=this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;m<this.pointers.length;m++){-1===ak(this.pointerIds,aQ(this.pointers[m]))&&this.pointers.splice(m,1)}},inertiaFrame:function(){var m,l,q=this.inertiaStatus;m=this.target.options[this.prepared.name].inertia.resistance;l=(new Date).getTime()/1000-q.t0;if(l<q.te){l=1-(Math.exp(-m*l)-q.lambda_v0)/q.one_ve_v0;if(q.modifiedXe===q.xe&&q.modifiedYe===q.ye){q.sx=q.xe*l,q.sy=q.ye*l}else{var p=q.ye,n=q.modifiedYe;m=br(l,0,q.xe,q.modifiedXe);l=br(l,0,p,n);q.sx=m;q.sy=l}this.pointerMove(q.startEvent,q.startEvent);q.i=aJ(this.boundInertiaFrame)}else{q.ending=!0,q.sx=q.modifiedXe,q.sy=q.modifiedYe,this.pointerMove(q.startEvent,q.startEvent),this.pointerEnd(q.startEvent,q.startEvent),q.active=q.ending=!1}},smoothEndFrame:function(){var m=this.inertiaStatus,l=(new Date).getTime()-m.t0,p=this.target.options[this.prepared.name].inertia.smoothEndDuration;if(l<p){var n;n=l/p;m.sx=-m.xe*n*(n-2)+0;l/=p;m.sy=-m.ye*l*(l-2)+0;this.pointerMove(m.startEvent,m.startEvent);m.i=aJ(this.boundSmoothEndFrame)}else{m.ending=!0,m.sx=m.xe,m.sy=m.ye,this.pointerMove(m.startEvent,m.startEvent),this.pointerEnd(m.startEvent,m.startEvent),m.smoothEnd=m.active=m.ending=!1}},addPointer:function(m){var l=aQ(m),n=this.mouse?0:ak(this.pointerIds,l);-1===n&&(n=this.pointerIds.length);this.pointerIds[n]=l;this.pointers[n]=m;return n},removePointer:function(l){l=aQ(l);l=this.mouse?0:ak(this.pointerIds,l);-1!==l&&(this.pointers.splice(l,1),this.pointerIds.splice(l,1),this.downTargets.splice(l,1),this.downTimes.splice(l,1),this.holdTimers.splice(l,1))},recordPointer:function(m){var l=this.mouse?0:ak(this.pointerIds,aQ(m));-1!==l&&(this.pointers[l]=m)},collectEventTargets:function(x,v,t,r){function q(A,z,B){B=f?B.querySelectorAll(z):void 0;A._iEvents[r]&&al(l)&&af(A,l)&&!aC(A,l,t)&&bh(A,l,t)&&aL(l,z,B)&&(p.push(A),n.push(l))}var m=this.mouse?0:ak(this.pointerIds,aQ(x));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[m]&&this.downTargets[m]===t){for(var p=[],n=[],l=t;l;){au.isSet(l)&&au(l)._iEvents[r]&&(p.push(au(l)),n.push(l)),a8.forEachSelector(q),l=aT(l)}(p.length||"tap"===r)&&this.firePointers(x,v,t,p,n,r)}},firePointers:function(A,z,x,v,t,p){var r=this.mouse?0:ak(this.pointerIds,aQ(A)),q={},n,m;"doubletap"===p?q=A:(by(q,z),z!==A&&by(q,A),q.preventDefault=bs,q.stopPropagation=a0.prototype.stopPropagation,q.stopImmediatePropagation=a0.prototype.stopImmediatePropagation,q.interaction=this,q.timeStamp=(new Date).getTime(),q.originalEvent=z,q.originalPointer=A,q.type=p,q.pointerId=aQ(A),q.pointerType=this.mouse?"mouse":ay?aR(A.pointerType)?A.pointerType:[,,"touch","pen","mouse"][A.pointerType]:"touch");"tap"===p&&(q.dt=q.timeStamp-this.downTimes[r],n=q.timeStamp-this.tapTime,m=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===q.target&&500>n),q["double"]=m,this.tapTime=q.timeStamp);for(A=0;A<v.length&&!(q.currentTarget=t[A],q.interactable=v[A],v[A].fire(q),q.immediatePropagationStopped||q.propagationStopped&&t[A+1]!==q.currentTarget);A++){}m?(v={},ai(v,q),v.dt=n,v.type="doubletap",this.collectEventTargets(v,z,x,"doubletap"),this.prevTap=v):"tap"===p&&(this.prevTap=q)},validateSelector:function(x,v,t,r){for(var q=0,m=t.length;q<m;q++){var p=t[q],n=r[q],l=aG(p.getAction(x,v,this,n),p);if(l&&aX(p,n,l)){return this.target=p,this.element=n,l}}},setSnapping:function(R,Q){var P=this.target.options[this.prepared.name].snap,O=[],N,K,M;Q=Q||this.snapStatus;Q.useStatusXY?K={x:Q.x,y:Q.y}:(N=a3(this.target,this.element),K=ai({},R),K.x-=N.x,K.y-=N.y);Q.realX=K.x;Q.realY=K.y;K.x-=this.inertiaStatus.resumeDx;K.y-=this.inertiaStatus.resumeDy;for(var L=P.targets?P.targets.length:0,J=0;J<this.snapOffsets.length;J++){var H=K.x-this.snapOffsets[J].x,G=K.y-this.snapOffsets[J].y;for(M=0;M<L;M++){(N=a9(P.targets[M])?P.targets[M](H,G,this):P.targets[M])&&O.push({x:aU(N.x)?N.x+this.snapOffsets[J].x:H,y:aU(N.y)?N.y+this.snapOffsets[J].y:G,range:aU(N.range)?N.range:P.range})}}var P=null,J=!1,F=0,D=0;M=G=H=0;for(L=O.length;M<L;M++){N=O[M];var C=N.range,B=N.x-K.x,A=N.y-K.y,x=bt(B,A),z=x<=C;Infinity===C&&J&&Infinity!==D&&(z=!1);if(!P||(z?J&&Infinity!==C?x/C<F/D:Infinity===C&&Infinity!==D||x<F:!J&&x<F)){Infinity===C&&(z=!0),P=N,F=x,D=C,J=z,H=B,G=A,Q.range=C}}P?(O=Q.snappedX!==P.x||Q.snappedY!==P.y,Q.snappedX=P.x,Q.snappedY=P.y):(O=!0,Q.snappedX=NaN,Q.snappedY=NaN);Q.dx=H;Q.dy=G;Q.changed=O||J&&!Q.locked;Q.locked=J;return Q},setRestriction:function(m,l){var q=this.target,p=q&&q.options[this.prepared.name].restrict,n=p&&p.restriction;if(!n){return l}l=l||this.restrictStatus;p=l.useStatusXY?p={x:l.x,y:l.y}:p=ai({},m);l.snap&&l.snap.locked&&(p.x+=l.snap.dx||0,p.y+=l.snap.dy||0);p.x-=this.inertiaStatus.resumeDx;p.y-=this.inertiaStatus.resumeDy;l.dx=0;l.dy=0;l.restricted=!1;if(aR(n)&&(n="parent"===n?aT(this.element):"self"===n?q.getRect(this.element):ae(this.element,n),!n)){return l}a9(n)&&(n=n(p.x,p.y,this.element));al(n)&&(n=aA(n));(q=n)?"x" in n&&"y" in n?(n=Math.max(Math.min(q.x+q.width-this.restrictOffset.right,p.x),q.x+this.restrictOffset.left),q=Math.max(Math.min(q.y+q.height-this.restrictOffset.bottom,p.y),q.y+this.restrictOffset.top)):(n=Math.max(Math.min(q.right-this.restrictOffset.right,p.x),q.left+this.restrictOffset.left),q=Math.max(Math.min(q.bottom-this.restrictOffset.bottom,p.y),q.top+this.restrictOffset.top)):(n=p.x,q=p.y);l.dx=n-p.x;l.dy=q-p.y;l.changed=l.restrictedX!==n||l.restrictedY!==q;l.restricted=!(!l.dx&&!l.dy);l.restrictedX=n;l.restrictedY=q;return l},checkAndPreventDefault:function(m,l,p){if(l=l||this.target){l=l.options;var n=l.preventDefault;"auto"===n&&p&&!/^(input|select|textarea)$/i.test(m.target.nodeName)?/down|start/i.test(m.type)&&"drag"===this.prepared.name&&"xy"!==l.drag.axis||l[this.prepared.name]&&l[this.prepared.name].manualStart&&!this.interacting()||m.preventDefault():"always"===n&&m.preventDefault()}},calcInertia:function(m){var l=this.target.options[this.prepared.name].inertia,p=l.resistance,n=-Math.log(l.endSpeed/m.v0)/p;m.x0=this.prevEvent.pageX;m.y0=this.prevEvent.pageY;m.t0=m.startEvent.timeStamp/1000;m.sx=m.sy=0;m.modifiedXe=m.xe=(m.vx0-n)/p;m.modifiedYe=m.ye=(m.vy0-n)/p;m.te=n;m.lambda_v0=p/m.v0;m.one_ve_v0=1-l.endSpeed/m.v0},autoScrollMove:function(m){var l;if(l=this.interacting()){l=this.prepared.name;var r=this.target.options;/^resize/.test(l)&&(l="resize");l=r[l].autoScroll&&r[l].autoScroll.enabled}if(l){if(this.inertiaStatus.active){ao.x=ao.y=0}else{var q,p=this.target.options[this.prepared.name].autoScroll,n=p.container||aH(this.element);bk(n)?(q=m.clientX<ao.margin,l=m.clientY<ao.margin,r=m.clientX>n.innerWidth-ao.margin,m=m.clientY>n.innerHeight-ao.margin):(n=g(n),q=m.clientX<n.left+ao.margin,l=m.clientY<n.top+ao.margin,r=m.clientX>n.right-ao.margin,m=m.clientY>n.bottom-ao.margin);ao.x=r?1:q?-1:0;ao.y=m?1:l?-1:0;ao.isScrolling||(ao.margin=p.margin,ao.speed=p.speed,ao.start(this))}}},_updateEventTargets:function(m,l){this._eventTarget=m;this._curEventTarget=l}};a0.prototype={preventDefault:bm,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var at={},bv="dragStart dragMove resizeStart resizeMove gestureStart gestureMove pointerOver pointerOut pointerHover selectorDown pointerDown pointerMove pointerUp pointerCancel pointerEnd addPointer removePointer recordPointer autoScrollMove".split(" "),o=0,b=bv.length;o<b;o++){var bl=bv[o];at[bl]=ap(bl)}a8.indexOfElement=function(m,l){l=l||aM;for(var p=0;p<this.length;p++){var n=this[p];if(n.selector===m&&n._context===l||!n.selector&&n._element===m){return p}}return -1};a8.get=function(m,l){return this[this.indexOfElement(m,l&&l.context)]};a8.forEachSelector=function(m){for(var l=0;l<this.length;l++){var n=this[l];if(n.selector&&(n=m(n,n.selector,n._context,l,this),void 0!==n)){return n}}};a6.prototype={setOnEvents:function(m,l){"drop"===m?(a9(l.ondrop)&&(this.ondrop=l.ondrop),a9(l.ondropactivate)&&(this.ondropactivate=l.ondropactivate),a9(l.ondropdeactivate)&&(this.ondropdeactivate=l.ondropdeactivate),a9(l.ondragenter)&&(this.ondragenter=l.ondragenter),a9(l.ondragleave)&&(this.ondragleave=l.ondragleave),a9(l.ondropmove)&&(this.ondropmove=l.ondropmove)):(m="on"+m,a9(l.onstart)&&(this[m+"start"]=l.onstart),a9(l.onmove)&&(this[m+"move"]=l.onmove),a9(l.onend)&&(this[m+"end"]=l.onend),a9(l.oninertiastart)&&(this[m+"inertiastart"]=l.oninertiastart));return this},draggable:function(l){return ah(l)?(this.options.drag.enabled=!1===l.enabled?!1:!0,this.setPerAction("drag",l),this.setOnEvents("drag",l),/^x$|^y$|^xy$/.test(l.axis)?this.options.drag.axis=l.axis:null===l.axis&&delete this.options.drag.axis,this):aZ(l)?(this.options.drag.enabled=l,this):this.options.drag},setPerAction:function(m,l){for(var n in l){n in a4[m]&&(ah(l[n])?(this.options[m][n]=ai(this.options[m][n]||{},l[n]),ah(a4.perAction[n])&&"enabled" in a4.perAction[n]&&(this.options[m][n].enabled=!1===l[n].enabled?!1:!0)):aZ(l[n])&&ah(a4.perAction[n])?this.options[m][n].enabled=l[n]:void 0!==l[n]&&(this.options[m][n]=l[n]))}},dropzone:function(l){return ah(l)?(this.options.drop.enabled=!1===l.enabled?!1:!0,this.setOnEvents("drop",l),/^(pointer|center)$/.test(l.overlap)?this.options.drop.overlap=l.overlap:aU(l.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,l.overlap),0)),"accept" in l&&(this.options.drop.accept=l.accept),"checker" in l&&(this.options.drop.checker=l.checker),this):aZ(l)?(this.options.drop.enabled=l,this):this.options.drop},dropCheck:function(A,z,x,v,t,p){var r=!1;if(!(p=p||this.getRect(t))){return this.options.drop.checker?this.options.drop.checker(A,z,r,this,t,x,v):!1}var q=this.options.drop.overlap;if("pointer"===q){var n=aw(A),r=a3(x,v);n.x+=r.x;n.y+=r.y;r=n.x>p.left&&n.x<p.right;n=n.y>p.top&&n.y<p.bottom;r=r&&n}n=x.getRect(v);if("center"===q){var r=n.left+n.width/2,m=n.top+n.height/2,r=r>=p.left&&r<=p.right&&m>=p.top&&m<=p.bottom}aU(q)&&(r=Math.max(0,Math.min(p.right,n.right)-Math.max(p.left,n.left))*Math.max(0,Math.min(p.bottom,n.bottom)-Math.max(p.top,n.top))/(n.width*n.height)>=q);this.options.drop.checker&&(r=this.options.drop.checker(A,z,r,this,t,x,v));return r},dropChecker:function(l){return a9(l)?(this.options.drop.checker=l,this):null===l?(delete this.options.getRect,this):this.options.drop.checker},accept:function(l){return al(l)||d(l)?(this.options.drop.accept=l,this):null===l?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(l){return ah(l)?(this.options.resize.enabled=!1===l.enabled?!1:!0,this.setPerAction("resize",l),this.setOnEvents("resize",l),/^x$|^y$|^xy$/.test(l.axis)?this.options.resize.axis=l.axis:null===l.axis&&(this.options.resize.axis=a4.resize.axis),aZ(l.preserveAspectRatio)?this.options.resize.preserveAspectRatio=l.preserveAspectRatio:aZ(l.square)&&(this.options.resize.square=l.square),this):aZ(l)?(this.options.resize.enabled=l,this):this.options.resize},squareResize:function(l){return aZ(l)?(this.options.resize.square=l,this):null===l?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(l){return ah(l)?(this.options.gesture.enabled=!1===l.enabled?!1:!0,this.setPerAction("gesture",l),this.setOnEvents("gesture",l),this):aZ(l)?(this.options.gesture.enabled=l,this):this.options.gesture},autoScroll:function(l){ah(l)?l=ai({actions:["drag","resize"]},l):aZ(l)&&(l={actions:["drag","resize"],enabled:l});return this.setOptions("autoScroll",l)},snap:function(l){l=this.setOptions("snap",l);return l===this?this:l.drag},setOptions:function(m,l){var q=l&&w(l.actions)?l.actions:["drag"],p;if(ah(l)||aZ(l)){for(p=0;p<q.length;p++){var n=/resize/.test(q[p])?"resize":q[p];ah(this.options[n])&&(n=this.options[n][m],ah(l)?(ai(n,l),n.enabled=!1===l.enabled?!1:!0,"snap"===m&&("grid"===n.mode?n.targets=[au.createSnapGrid(ai({offset:n.gridOffset||{x:0,y:0}},n.grid||{}))]:"anchor"===n.mode?n.targets=n.anchors:"path"===n.mode&&(n.targets=n.paths),"elementOrigin" in l&&(n.relativePoints=[l.elementOrigin]))):aZ(l)&&(n.enabled=l))}return this}q={};n=["drag","resize","gesture"];for(p=0;p<n.length;p++){m in a4[n[p]]&&(q[n[p]]=this.options[n[p]][m])}return q},inertia:function(l){l=this.setOptions("inertia",l);return l===this?this:l.drag},getAction:function(m,l,q,p){var n=this.defaultActionChecker(m,q,p);return this.options.actionChecker?this.options.actionChecker(m,l,n,this,p,q):n},defaultActionChecker:aV,actionChecker:function(l){return a9(l)?(this.options.actionChecker=l,this):null===l?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(l){l=l||this._element;this.selector&&!al(l)&&(l=this._context.querySelector(this.selector));return aA(l)},rectChecker:function(l){return a9(l)?(this.getRect=l,this):null===l?(delete this.options.getRect,this):this.getRect},styleCursor:function(l){return aZ(l)?(this.options.styleCursor=l,this):null===l?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(l){return/^(always|never|auto)$/.test(l)?(this.options.preventDefault=l,this):aZ(l)?(this.options.preventDefault=l?"always":"never",this):this.options.preventDefault},origin:function(l){return d(l)||ah(l)?(this.options.origin=l,this):this.options.origin},deltaSource:function(l){return"page"===l||"client"===l?(this.options.deltaSource=l,this):this.options.deltaSource},restrict:function(m){if(!ah(m)){return this.setOptions("restrict",m)}for(var l=["drag","resize","gesture"],q,p=0;p<l.length;p++){var n=l[p];n in m&&(q=ai({actions:[n],restriction:m[n]},m),q=this.setOptions("restrict",q))}return q},context:function(){return this._context},_context:aM,ignoreFrom:function(l){return d(l)||al(l)?(this.options.ignoreFrom=l,this):this.options.ignoreFrom},allowFrom:function(l){return d(l)||al(l)?(this.options.allowFrom=l,this):this.options.allowFrom},element:function(){return this._element},fire:function(m){if(!m||!m.type||-1===ak(ar,m.type)){return this}var l,q,p,n="on"+m.type;if(m.type in this._iEvents){for(l=this._iEvents[m.type],q=0,p=l.length;q<p&&!m.immediatePropagationStopped;q++){l[q](m)}}if(a9(this[n])){this[n](m)}if(m.type in aI&&(l=aI[m.type])){for(q=0,p=l.length;q<p&&!m.immediatePropagationStopped;q++){l[q](m)}}return this},on:function(m,l,p){var n;aR(m)&&-1!==m.search(" ")&&(m=m.trim().split(/ +/));if(w(m)){for(n=0;n<m.length;n++){this.on(m[n],l,p)}return this}if(ah(m)){for(n in m){this.on(n,m[n],l)}return this}"wheel"===m&&(m=e);p=p?!0:!1;if(-1!==ak(ar,m)){m in this._iEvents?this._iEvents[m].push(l):this._iEvents[m]=[l]}else{if(this.selector){if(!aN[m]){for(aN[m]={selectors:[],contexts:[],listeners:[]},n=0;n<E.length;n++){aq.add(E[n],m,i),aq.add(E[n],m,bu,!0)}}m=aN[m];for(n=m.selectors.length-1;0<=n&&(m.selectors[n]!==this.selector||m.contexts[n]!==this._context);n--){}-1===n&&(n=m.selectors.length,m.selectors.push(this.selector),m.contexts.push(this._context),m.listeners.push([]));m.listeners[n].push([l,p])}else{aq.add(this._element,m,l,p)}}return this},off:function(x,v,t){var r;aR(x)&&-1!==x.search(" ")&&(x=x.trim().split(/ +/));if(w(x)){for(r=0;r<x.length;r++){this.off(x[r],v,t)}return this}if(ah(x)){for(var q in x){this.off(q,x[q],v)}return this}q=-1;t=t?!0:!1;"wheel"===x&&(x=e);if(-1!==ak(ar,x)){(t=this._iEvents[x])&&-1!==(q=ak(t,v))&&this._iEvents[x].splice(q,1)}else{if(this.selector){var m=aN[x],p=!1;if(!m){return this}for(q=m.selectors.length-1;0<=q;q--){if(m.selectors[q]===this.selector&&m.contexts[q]===this._context){var n=m.listeners[q];for(r=n.length-1;0<=r;r--){var l=n[r][1];if(n[r][0]===v&&l===t){n.splice(r,1);n.length||(m.selectors.splice(q,1),m.contexts.splice(q,1),m.listeners.splice(q,1),aq.remove(this._context,x,i),aq.remove(this._context,x,bu,!0),m.selectors.length||(aN[x]=null));p=!0;break}}if(p){break}}}}else{aq.remove(this._element,x,v,t)}}return this},set:function(m){ah(m)||(m={});this.options=ai({},a4.base);var l,r=["drag","drop","resize","gesture"],q=["draggable","dropzone","resizable","gesturable"],p=ai(ai({},a4.perAction),m[n]||{});for(l=0;l<r.length;l++){var n=r[l];this.options[n]=ai({},a4[n]);this.setPerAction(n,p);this[q[l]](m[n])}r="accept actionChecker allowFrom deltaSource dropChecker ignoreFrom origin preventDefault rectChecker styleCursor".split(" ");l=0;for(b=r.length;l<b;l++){if(q=r[l],this.options[q]=a4.base[q],q in m){this[q](m[q])}}return this},unset:function(){aq.remove(this._element,"all");if(aR(this.selector)){for(var m in aN){for(var l=aN[m];0<l.selectors.length;){l.selectors[0]===this.selector&&l.contexts[0]===this._context&&(l.selectors.splice(0,1),l.contexts.splice(0,1),l.listeners.splice(0,1),l.selectors.length||(aN[m]=null));aq.remove(this._context,m,i);aq.remove(this._context,m,bu,!0);break}}}else{aq.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="")}this.dropzone(!1);a8.splice(ak(a8,this),1);return au}};a6.prototype.snap=aS(a6.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping");a6.prototype.restrict=aS(a6.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction");a6.prototype.inertia=aS(a6.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia");a6.prototype.autoScroll=aS(a6.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll");a6.prototype.squareResize=aS(a6.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square");a6.prototype.accept=aS(a6.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead");a6.prototype.dropChecker=aS(a6.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead");a6.prototype.context=aS(a6.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead");au.isSet=function(m,l){return -1!==a8.indexOfElement(m,l&&l.context)};au.on=function(m,l,p){aR(m)&&-1!==m.search(" ")&&(m=m.trim().split(/ +/));if(w(m)){for(var n=0;n<m.length;n++){au.on(m[n],l,p)}return au}if(ah(m)){for(n in m){au.on(n,m[n],l)}return au}-1!==ak(ar,m)?aI[m]?aI[m].push(l):aI[m]=[l]:aq.add(aM,m,l,p);return au};au.off=function(m,l,q){aR(m)&&-1!==m.search(" ")&&(m=m.trim().split(/ +/));if(w(m)){for(var p=0;p<m.length;p++){au.off(m[p],l,q)}return au}if(ah(m)){for(p in m){au.off(p,m[p],l)}return au}if(-1===ak(ar,m)){aq.remove(aM,m,l,q)}else{var n;m in aI&&-1!==(n=ak(aI[m],l))&&aI[m].splice(n,1)}return au};au.enableDragging=aS(function(l){return null!==l&&void 0!==l?(aK.drag=l,au):aK.drag},"interact.enableDragging is deprecated and will soon be removed.");au.enableResizing=aS(function(l){return null!==l&&void 0!==l?(aK.resize=l,au):aK.resize},"interact.enableResizing is deprecated and will soon be removed.");au.enableGesturing=aS(function(l){return null!==l&&void 0!==l?(aK.gesture=l,au):aK.gesture},"interact.enableGesturing is deprecated and will soon be removed.");au.eventTypes=ar;au.debug=function(){var l=am[0]||new a;return{interactions:am,target:l.target,dragging:l.dragging,resizing:l.resizing,gesturing:l.gesturing,prepared:l.prepared,matches:l.matches,matchElements:l.matchElements,prevCoords:l.prevCoords,startCoords:l.startCoords,pointerIds:l.pointerIds,pointers:l.pointers,addPointer:at.addPointer,removePointer:at.removePointer,recordPointer:at.recordPointer,snap:l.snapStatus,restrict:l.restrictStatus,inertia:l.inertiaStatus,downTime:l.downTimes[0],downEvent:l.downEvent,downPointer:l.downPointer,prevEvent:l.prevEvent,Interactable:a6,interactables:a8,pointerIsDown:l.pointerIsDown,defaultOptions:a4,defaultActionChecker:aV,actionCursors:be,dragMove:at.dragMove,resizeMove:at.resizeMove,gestureMove:at.gestureMove,pointerUp:at.pointerUp,pointerDown:at.pointerDown,pointerMove:at.pointerMove,pointerHover:at.pointerHover,eventTypes:ar,events:aq,globalEvents:aI,delegatedEvents:aN,prefixedPropREs:aY}};au.getPointerAverage=c;au.getTouchBBox=bn;au.getTouchDistance=a5;au.getTouchAngle=az;au.getElementRect=aA;au.getElementClientRect=g;au.matchesSelector=aL;au.closest=ae;au.margin=aS(function(l){return aU(l)?(ad=l,au):ad},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead.");au.supportsTouch=function(){return bj};au.supportsPointerEvent=function(){return ay};au.stop=function(m){for(var l=am.length-1;0<=l;l--){am[l].stop(m)}return au};au.dynamicDrop=function(l){return aZ(l)?(aB=l,au):aB};au.pointerMoveTolerance=function(l){return aU(l)?(ag=l,this):ag};au.maxInteractions=function(l){return aU(l)?(k=l,this):k};au.createSnapGrid=function(l){return function(m,q){var p=0,n=0;ah(l.offset)&&(p=l.offset.x,n=l.offset.y);return{x:Math.round((m-p)/l.x)*l.x+p,y:Math.round((q-n)/l.y)*l.y+n,range:l.range}}};av(aM);bd in Element.prototype&&a9(Element.prototype[bd])||(f=function(m,l,p){p=p||m.parentNode.querySelectorAll(l);l=0;for(var n=p.length;l<n;l++){if(p[l]===m){return !0}}return !1});(function(){for(var m=0,l=["ms","moz","webkit","o"],n=0;n<l.length&&!a1.requestAnimationFrame;++n){aJ=a1[l[n]+"RequestAnimationFrame"],aF=a1[l[n]+"CancelAnimationFrame"]||a1[l[n]+"CancelRequestAnimationFrame"]}aJ||(aJ=function(p){var t=(new Date).getTime(),q=Math.max(0,16-(t-m)),r=setTimeout(function(){p(t+q)},q);m=t+q;return r});aF||(aF=function(p){clearTimeout(p)})})();"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=au),exports.interact=au):"function"===typeof define&&define.amd?define("interact",function(){return au}):a1.interact=au}})("undefined"===typeof window?void 0:window);