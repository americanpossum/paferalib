/* howler.js v2.0.0 | (c) 2013-2016, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
!function(){var h=function(){this.init()};h.prototype={init:function(){var a=this||f;return a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.mobileAutoEnable=!0,a._setup(),a},volume:function(s){var v=this||f;if(s=parseFloat(s),v.ctx||l(),"undefined"!=typeof s&&s>=0&&s<=1){if(v._volume=s,v._muted){return v}v.usingWebAudio&&(v.masterGain.gain.value=s);for(var n=0;n<v._howls.length;n++){if(!v._howls[n]._webAudio){for(var q=v._howls[n]._getSoundIds(),i=0;i<q.length;i++){var d=v._howls[n]._soundById(q[i]);d&&d._node&&(d._node.volume=d._volume*s)}}}return v}return v._volume},mute:function(s){var v=this||f;v.ctx||l(),v._muted=s,v.usingWebAudio&&(v.masterGain.gain.value=s?0:v._volume);for(var n=0;n<v._howls.length;n++){if(!v._howls[n]._webAudio){for(var q=v._howls[n]._getSoundIds(),i=0;i<q.length;i++){var d=v._howls[n]._soundById(q[i]);d&&d._node&&(d._node.muted=!!s||d._muted)}}}return v},unload:function(){for(var a=this||f,d=a._howls.length-1;d>=0;d--){a._howls[d].unload()}return a.usingWebAudio&&"undefined"!=typeof a.ctx.close&&(a.ctx.close(),a.ctx=null,l()),a},codecs:function(a){return(this||f)._codecs[a]},_setup:function(){var a=this||f;return a.state=a.ctx?a.ctx.state||"running":"running",a._autoSuspend(),a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var n=this||f,q="undefined"!=typeof Audio?new Audio:null;if(!q||"function"!=typeof q.canPlayType){return n}var d=q.canPlayType("audio/mpeg;").replace(/^no$/,""),i=n._navigator&&n._navigator.userAgent.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33;return n._codecs={mp3:!(a||!d&&!q.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!d,opus:!!q.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!q.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!q.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!q.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!q.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!q.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(q.canPlayType("audio/x-m4a;")||q.canPlayType("audio/m4a;")||q.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(q.canPlayType("audio/x-mp4;")||q.canPlayType("audio/mp4;")||q.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!q.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!q.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!q.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},n},_enableMobileAudio:function(){var i=this||f,n=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(i._navigator&&i._navigator.userAgent),a=!!("ontouchend" in window||i._navigator&&i._navigator.maxTouchPoints>0||i._navigator&&i._navigator.msMaxTouchPoints>0);if(!i._mobileEnabled&&i.ctx&&(n||a)){i._mobileEnabled=!1,i._mobileUnloaded||44100===i.ctx.sampleRate||(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var d=function(){var e=i.ctx.createBufferSource();e.buffer=i._scratchBuffer,e.connect(i.ctx.destination),"undefined"==typeof e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),i._mobileEnabled=!0,i.mobileAutoEnable=!1,document.removeEventListener("touchend",d,!0)}};return document.addEventListener("touchend",d,!0),i}},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&"undefined"!=typeof d.ctx.suspend&&f.usingWebAudio){for(var i=0;i<d._howls.length;i++){if(d._howls[i]._webAudio){for(var a=0;a<d._howls[i]._sounds.length;a++){if(!d._howls[i]._sounds[a]._paused){return d}}}}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){d.autoSuspend&&(d._suspendTimer=null,d.state="suspending",d.ctx.suspend().then(function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())}))},30000),d}},_autoResume:function(){var a=this;if(a.ctx&&"undefined"!=typeof a.ctx.resume&&f.usingWebAudio){return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.state="resuming",a.ctx.resume().then(function(){a.state="running"}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}}};var f=new h,c=function(a){var d=this;return a.src&&0!==a.src.length?void d.init(a):void console.error("An array of source files must be passed with any new Howl.")};c.prototype={init:function(a){var d=this;return f.ctx||l(),d._autoplay=a.autoplay||!1,d._format="string"!=typeof a.format?a.format:[a.format],d._html5=a.html5||!1,d._muted=a.mute||!1,d._loop=a.loop||!1,d._pool=a.pool||5,d._preload="boolean"!=typeof a.preload||a.preload,d._rate=a.rate||1,d._sprite=a.sprite||{},d._src="string"!=typeof a.src?a.src:[a.src],d._volume=void 0!==a.volume?a.volume:1,d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._onend=a.onend?[{fn:a.onend}]:[],d._onfade=a.onfade?[{fn:a.onfade}]:[],d._onload=a.onload?[{fn:a.onload}]:[],d._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],d._onpause=a.onpause?[{fn:a.onpause}]:[],d._onplay=a.onplay?[{fn:a.onplay}]:[],d._onstop=a.onstop?[{fn:a.onstop}]:[],d._onmute=a.onmute?[{fn:a.onmute}]:[],d._onvolume=a.onvolume?[{fn:a.onvolume}]:[],d._onrate=a.onrate?[{fn:a.onrate}]:[],d._onseek=a.onseek?[{fn:a.onseek}]:[],d._webAudio=f.usingWebAudio&&!d._html5,"undefined"!=typeof f.ctx&&f.ctx&&f.mobileAutoEnable&&f._enableMobileAudio(),f._howls.push(d),d._preload&&d.load(),d},load:function(){var q=this,t=null;if(f.noAudio){return void q._emit("loaderror",null,"No audio support.")}"string"==typeof q._src&&(q._src=[q._src]);for(var n=0;n<q._src.length;n++){var i,s;if(q._format&&q._format[n]){i=q._format[n]}else{if(s=q._src[n],"string"!=typeof s){q._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(s),i||(i=/\.([^.]+)$/.exec(s.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(f.codecs(i)){t=q._src[n];break}}return t?(q._src=t,q._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(q._html5=!0,q._webAudio=!1),new p(q),q._webAudio&&m(q),q):void q._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(A,v){var G=this,n=null;if("number"==typeof A){n=A,A=null}else{if("string"==typeof A&&"loaded"===G._state&&!G._sprite[A]){return null}if("undefined"==typeof A){A="__default";for(var F=0,D=0;D<G._sounds.length;D++){G._sounds[D]._paused&&!G._sounds[D]._ended&&(F++,n=G._sounds[D]._id)}1===F?A=null:n=null}}var B=n?G._soundById(n):G._inactiveSound();if(!B){return null}if(n&&!A&&(A=B._sprite||"__default"),"loaded"!==G._state&&!G._sprite[A]){return G._queue.push({event:"play",action:function(){G.play(G._soundById(B._id)?B._id:void 0)}}),B._id}if(n&&!B._paused){return v||setTimeout(function(){G._emit("play",B._id)},0),B._id}G._webAudio&&f._autoResume();var y=B._seek>0?B._seek:G._sprite[A][0]/1000,E=(G._sprite[A][0]+G._sprite[A][1])/1000-y,H=1000*E/Math.abs(B._rate);B._paused=!1,B._ended=!1,B._sprite=A,B._seek=y,B._start=G._sprite[A][0]/1000,B._stop=(G._sprite[A][0]+G._sprite[A][1])/1000,B._loop=!(!B._loop&&!G._sprite[A][2]);var x=B._node;if(G._webAudio){var z=function(){G._refreshBuffer(B);var a=B._muted||G._muted?0:B._volume;x.gain.setValueAtTime(a,f.ctx.currentTime),B._playStart=f.ctx.currentTime,"undefined"==typeof x.bufferSource.start?B._loop?x.bufferSource.noteGrainOn(0,y,86400):x.bufferSource.noteGrainOn(0,y,E):B._loop?x.bufferSource.start(0,y,86400):x.bufferSource.start(0,y,E),H!==1/0&&(G._endTimers[B._id]=setTimeout(G._ended.bind(G,B),H)),v||setTimeout(function(){G._emit("play",B._id)},0)};"loaded"===G._state?z():(G.once("load",z,B._id),G._clearTimer(B._id))}else{var C=function(){x.currentTime=y,x.muted=B._muted||G._muted||f._muted||x.muted,x.volume=B._volume*f.volume(),x.playbackRate=B._rate,setTimeout(function(){x.play(),H!==1/0&&(G._endTimers[B._id]=setTimeout(G._ended.bind(G,B),H)),v||G._emit("play",B._id)},0)},q="loaded"===G._state&&(window&&window.ejecta||!x.readyState&&f._navigator.isCocoonJS);if(4===x.readyState||q){C()}else{var w=function(){C(),x.removeEventListener(f._canPlayEvent,w,!1)};x.addEventListener(f._canPlayEvent,w,!1),G._clearTimer(B._id)}}return B._id},pause:function(i){var s=this;if("loaded"!==s._state){return s._queue.push({event:"pause",action:function(){s.pause(i)}}),s}for(var q=s._getSoundIds(i),a=0;a<q.length;a++){s._clearTimer(q[a]);var d=s._soundById(q[a]);if(d&&!d._paused){if(d._seek=s.seek(q[a]),d._rateSeek=0,d._paused=!0,s._stopFade(q[a]),d._node){if(s._webAudio){if(!d._node.bufferSource){return s}"undefined"==typeof d._node.bufferSource.stop?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),s._cleanBuffer(d._node)}else{isNaN(d._node.duration)&&d._node.duration!==1/0||d._node.pause()}}arguments[1]||s._emit("pause",d._id)}}return s},stop:function(q,v){var s=this;if("loaded"!==s._state){return s._queue.push({event:"stop",action:function(){s.stop(q)}}),s}for(var d=s._getSoundIds(q),i=0;i<d.length;i++){s._clearTimer(d[i]);var a=s._soundById(d[i]);if(a&&!a._paused&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,s._stopFade(d[i]),a._node)){if(s._webAudio){if(!a._node.bufferSource){return s}"undefined"==typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),s._cleanBuffer(a._node)}else{isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())}}a&&!v&&s._emit("stop",a._id)}return s},mute:function(s,v){var n=this;if("loaded"!==n._state){return n._queue.push({event:"mute",action:function(){n.mute(s,v)}}),n}if("undefined"==typeof v){if("boolean"!=typeof s){return n._muted}n._muted=s}for(var q=n._getSoundIds(v),i=0;i<q.length;i++){var d=n._soundById(q[i]);d&&(d._muted=s,n._webAudio&&d._node?d._node.gain.setValueAtTime(s?0:d._volume,f.ctx.currentTime):d._node&&(d._node.muted=!!f._muted||s),n._emit("mute",d._id))}return n},volume:function(){var x,z,v=this,w=arguments;if(0===w.length){return v._volume}if(1===w.length){var q=v._getSoundIds(),n=q.indexOf(w[0]);n>=0?z=parseInt(w[0],10):x=parseFloat(w[0])}else{w.length>=2&&(x=parseFloat(w[0]),z=parseInt(w[1],10))}var y;if(!("undefined"!=typeof x&&x>=0&&x<=1)){return y=z?v._soundById(z):v._sounds[0],y?y._volume:0}if("loaded"!==v._state){return v._queue.push({event:"volume",action:function(){v.volume.apply(v,w)}}),v}"undefined"==typeof z&&(v._volume=x),z=v._getSoundIds(z);for(var s=0;s<z.length;s++){y=v._soundById(z[s]),y&&(y._volume=x,w[2]||v._stopFade(z[s]),v._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(x,f.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=x*f.volume()),v._emit("volume",y._id))}return v},fade:function(A,v,G,n){var F=this,D=Math.abs(A-v),B=A>v?"out":"in",y=D/0.01,E=G/y;if("loaded"!==F._state){return F._queue.push({event:"fade",action:function(){F.fade(A,v,G,n)}}),F}F.volume(A,n);for(var H=F._getSoundIds(n),x=0;x<H.length;x++){var z=F._soundById(H[x]);if(z){if(n||F._stopFade(H[x]),F._webAudio&&!z._muted){var C=f.ctx.currentTime,q=C+G/1000;z._volume=A,z._node.gain.setValueAtTime(A,C),z._node.gain.linearRampToValueAtTime(v,q)}var w=A;z._interval=setInterval(function(a,d){w+="in"===B?0.01:-0.01,w=Math.max(0,w),w=Math.min(1,w),w=Math.round(100*w)/100,F._webAudio?("undefined"==typeof n&&(F._volume=w),d._volume=w):F.volume(w,a,!0),w===v&&(clearInterval(d._interval),d._interval=null,F.volume(w,a),F._emit("fade",a))}.bind(F,H[x],z),E)}}return F},_stopFade:function(d){var i=this,a=i._soundById(d);return a&&a._interval&&(i._webAudio&&a._node.gain.cancelScheduledValues(f.ctx.currentTime),clearInterval(a._interval),a._interval=null,i._emit("fade",d)),i},loop:function(){var v,x,w,q=this,s=arguments;if(0===s.length){return q._loop}if(1===s.length){if("boolean"!=typeof s[0]){return w=q._soundById(parseInt(s[0],10)),!!w&&w._loop}v=s[0],q._loop=v}else{2===s.length&&(v=s[0],x=parseInt(s[1],10))}for(var i=q._getSoundIds(x),d=0;d<i.length;d++){w=q._soundById(i[d]),w&&(w._loop=v,q._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=v))}return q},rate:function(){var x,q,C=this,n=arguments;if(0===n.length){q=C._sounds[0]._id}else{if(1===n.length){var B=C._getSoundIds(),z=B.indexOf(n[0]);z>=0?q=parseInt(n[0],10):x=parseFloat(n[0])}else{2===n.length&&(x=parseFloat(n[0]),q=parseInt(n[1],10))}}var y;if("number"!=typeof x){return y=C._soundById(q),y?y._rate:C._rate}if("loaded"!==C._state){return C._queue.push({event:"rate",action:function(){C.rate.apply(C,n)}}),C}"undefined"==typeof q&&(C._rate=x),q=C._getSoundIds(q);for(var w=0;w<q.length;w++){if(y=C._soundById(q[w])){y._rateSeek=C.seek(q[w]),y._playStart=C._webAudio?f.ctx.currentTime:y._playStart,y._rate=x,C._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.value=x:y._node&&(y._node.playbackRate=x);var A=C.seek(q[w]),D=(C._sprite[y._sprite][0]+C._sprite[y._sprite][1])/1000-A,v=1000*D/Math.abs(y._rate);!C._endTimers[q[w]]&&y._paused||(C._clearTimer(q[w]),C._endTimers[q[w]]=setTimeout(C._ended.bind(C,y),v)),C._emit("rate",y._id)}}return C},seek:function(){var w,q,B=this,n=arguments;if(0===n.length){q=B._sounds[0]._id}else{if(1===n.length){var A=B._getSoundIds(),y=A.indexOf(n[0]);y>=0?q=parseInt(n[0],10):(q=B._sounds[0]._id,w=parseFloat(n[0]))}else{2===n.length&&(w=parseFloat(n[0]),q=parseInt(n[1],10))}}if("undefined"==typeof q){return B}if("loaded"!==B._state){return B._queue.push({event:"seek",action:function(){B.seek.apply(B,n)}}),B}var x=B._soundById(q);if(x){if(!("number"==typeof w&&w>=0)){if(B._webAudio){var v=B.playing(q)?f.ctx.currentTime-x._playStart:0,z=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(z+v*Math.abs(x._rate))}return x._node.currentTime}var C=B.playing(q);C&&B.pause(q,!0),x._seek=w,x._ended=!1,B._clearTimer(q),C&&B.play(q,!0),!B._webAudio&&x._node&&(x._node.currentTime=w),B._emit("seek",q)}return B},playing:function(d){var q=this;if("number"==typeof d){var i=q._soundById(d);return !!i&&!i._paused}for(var a=0;a<q._sounds.length;a++){if(!q._sounds[a]._paused){return !0}}return !1},duration:function(d){var q=this,i=q._duration,a=q._soundById(d);return a&&(i=q._sprite[a._sprite][1]/1000),i},state:function(){return this._state},unload:function(){for(var q=this,r=q._sounds,n=0;n<r.length;n++){r[n]._paused||(q.stop(r[n]._id),q._emit("end",r[n]._id)),q._webAudio||(r[n]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",r[n]._node.removeEventListener("error",r[n]._errorFn,!1),r[n]._node.removeEventListener(f._canPlayEvent,r[n]._loadFn,!1)),delete r[n]._node,q._clearTimer(r[n]._id);var i=f._howls.indexOf(q);i>=0&&f._howls.splice(i,1)}var d=!0;for(n=0;n<f._howls.length;n++){if(f._howls[n]._src===q._src){d=!1;break}}return b&&d&&delete b[q._src],q._state="unloaded",q._sounds=[],q=null,null},on:function(q,v,s,d){var i=this,a=i["_on"+q];return"function"==typeof v&&a.push(d?{id:s,fn:v,once:d}:{id:s,fn:v}),i},off:function(v,x,w){var q=this,s=q["_on"+v],i=0;if(x){for(i=0;i<s.length;i++){if(x===s[i].fn&&w===s[i].id){s.splice(i,1);break}}}else{if(v){q["_on"+v]=[]}else{var d=Object.keys(q);for(i=0;i<d.length;i++){0===d[i].indexOf("_on")&&Array.isArray(q[d[i]])&&(q[d[i]]=[])}}}return q},once:function(d,q,i){var a=this;return a.on(d,q,i,1),a},_emit:function(q,v,s){for(var d=this,i=d["_on"+q],a=i.length-1;a>=0;a--){i[a].id&&i[a].id!==v&&"load"!==q||(setTimeout(function(n){n.call(this,v,s)}.bind(d,i[a].fn),0),i[a].once&&d.off(q,i[a].fn,i[a].id))}return d},_loadQueue:function(){var a=this;if(a._queue.length>0){var d=a._queue[0];a.once(d.event,function(){a._queue.shift(),a._loadQueue()}),d.action()}return a},_ended:function(n){var q=this,d=n._sprite,i=!(!n._loop&&!q._sprite[d][2]);if(q._emit("end",n._id),!q._webAudio&&i&&q.stop(n._id,!0).play(n._id),q._webAudio&&i){q._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=f.ctx.currentTime;var a=1000*(n._stop-n._start)/Math.abs(n._rate);q._endTimers[n._id]=setTimeout(q._ended.bind(q,n),a)}return q._webAudio&&!i&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,q._clearTimer(n._id),q._cleanBuffer(n._node),f._autoSuspend()),q._webAudio||i||q.stop(n._id),q},_clearTimer:function(a){var d=this;return d._endTimers[a]&&(clearTimeout(d._endTimers[a]),delete d._endTimers[a]),d},_soundById:function(a){for(var i=this,d=0;d<i._sounds.length;d++){if(a===i._sounds[d]._id){return i._sounds[d]}}return null},_inactiveSound:function(){var a=this;a._drain();for(var d=0;d<a._sounds.length;d++){if(a._sounds[d]._ended){return a._sounds[d].reset()}}return new p(a)},_drain:function(){var d=this,q=d._pool,i=0,a=0;if(!(d._sounds.length<q)){for(a=0;a<d._sounds.length;a++){d._sounds[a]._ended&&i++}for(a=d._sounds.length-1;a>=0;a--){if(i<=q){return}d._sounds[a]._ended&&(d._webAudio&&d._sounds[a]._node&&d._sounds[a]._node.disconnect(0),d._sounds.splice(a,1),i--)}}},_getSoundIds:function(d){var q=this;if("undefined"==typeof d){for(var i=[],a=0;a<q._sounds.length;a++){i.push(q._sounds[a]._id)}return i}return[d]},_refreshBuffer:function(a){var d=this;return a._node.bufferSource=f.ctx.createBufferSource(),a._node.bufferSource.buffer=b[d._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop),a._node.bufferSource.playbackRate.value=a._rate,d},_cleanBuffer:function(a){var d=this;if(d._scratchBuffer){a.bufferSource.onended=null,a.bufferSource.disconnect(0);try{a.bufferSource.buffer=d._scratchBuffer}catch(a){}}return a.bufferSource=null,d}};var p=function(a){this._parent=a,this.init()};p.prototype={init:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._muted=d._muted,a._rate=d._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),d._sounds.push(a),a.create(),a},create:function(){var d=this,i=d._parent,a=f._muted||d._muted||d._parent._muted?0:d._volume;return i._webAudio?(d._node="undefined"==typeof f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),d._node.gain.setValueAtTime(a,f.ctx.currentTime),d._node.paused=!0,d._node.connect(f.masterGain)):(d._node=new Audio,d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(f._canPlayEvent,d._loadFn,!1),d._node.src=i._src,d._node.preload="auto",d._node.volume=a*f.volume(),d._node.load()),d},reset:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._muted=d._muted,a._rate=d._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),a},_errorListener:function(){var a=this;a._node.error&&4===a._node.error.code&&(f.noAudio=!0),a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorListener,!1)},_loadListener:function(){var a=this,d=a._parent;d._duration=Math.ceil(10*a._node.duration)/10,0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1000*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue()),d._autoplay&&d.play(),a._node.removeEventListener(f._canPlayEvent,a._loadFn,!1)}};var b={},m=function(q){var s=q._src;if(b[s]){return q._duration=b[s].duration,void g(q)}if(/^data:[^;]+;base64,/.test(s)){for(var r=atob(s.split(",")[1]),i=new Uint8Array(r.length),d=0;d<r.length;++d){i[d]=r.charCodeAt(d)}j(i.buffer,q)}else{var a=new XMLHttpRequest;a.open("GET",s,!0),a.responseType="arraybuffer",a.onload=function(){var e=(a.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void q._emit("loaderror",null,"Failed loading audio file with status: "+a.status+"."):void j(a.response,q)},a.onerror=function(){q._webAudio&&(q._html5=!0,q._webAudio=!1,q._sounds=[],delete b[s],q.load())},k(a)}},k=function(a){try{a.send()}catch(d){a.onerror()}},j=function(a,d){f.ctx.decodeAudioData(a,function(i){i&&d._sounds.length>0&&(b[d._src]=i,g(d,i))},function(){d._emit("loaderror",null,"Decoding audio data failed.")})},g=function(a,d){d&&!a._duration&&(a._duration=d.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1000*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue()),a._autoplay&&a.play()},l=function(){f.noAudio=!1;try{"undefined"!=typeof AudioContext?f.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?f.ctx=new webkitAudioContext:f.usingWebAudio=!1}catch(n){f.usingWebAudio=!1}if(!f.usingWebAudio){if("undefined"!=typeof Audio){try{var n=new Audio;"undefined"==typeof n.oncanplaythrough&&(f._canPlayEvent="canplay")}catch(n){f.noAudio=!0}}else{f.noAudio=!0}}try{var n=new Audio;n.muted&&(f.noAudio=!0)}catch(n){}var q=/iP(hone|od|ad)/.test(f._navigator&&f._navigator.platform),d=f._navigator&&f._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=d?parseInt(d[1],10):null;if(q&&i&&i<9){var a=/safari/.test(f._navigator&&f._navigator.userAgent.toLowerCase());(f._navigator&&f._navigator.standalone&&!a||f._navigator&&!f._navigator.standalone&&!a)&&(f.usingWebAudio=!1)}f.usingWebAudio&&(f.masterGain="undefined"==typeof f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),f.masterGain.gain.value=1,f.masterGain.connect(f.ctx.destination)),f._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:f,Howl:c}}),"undefined"!=typeof exports&&(exports.Howler=f,exports.Howl=c),"undefined"!=typeof window?(window.HowlerGlobal=h,window.Howler=f,window.Howl=c,window.Sound=p):"undefined"!=typeof global&&(global.HowlerGlobal=h,global.Howler=f,global.Howl=c,global.Sound=p)}();
/* Spatial Plugin */
!function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(c){var d=this;if(!d.ctx||!d.ctx.listener){return d}for(var b=d._howls.length-1;b>=0;b--){d._howls[b].stereo(c)}return d},HowlerGlobal.prototype.pos=function(c,f,b){var d=this;return d.ctx&&d.ctx.listener?(f="number"!=typeof f?d._pos[1]:f,b="number"!=typeof b?d._pos[2]:b,"number"!=typeof c?d._pos:(d._pos=[c,f,b],d.ctx.listener.setPosition(d._pos[0],d._pos[1],d._pos[2]),d)):d},HowlerGlobal.prototype.orientation=function(h,k,d,j,f,c){var b=this;if(!b.ctx||!b.ctx.listener){return b}var g=b._orientation;return k="number"!=typeof k?g[1]:k,d="number"!=typeof d?g[2]:d,j="number"!=typeof j?g[3]:j,f="number"!=typeof f?g[4]:f,c="number"!=typeof c?g[5]:c,"number"!=typeof h?g:(b._orientation=[h,k,d,j,f,c],b.ctx.listener.setOrientation(h,k,d,j,f,c),b)},Howl.prototype.init=function(b){return function(d){var c=this;return c._orientation=d.orientation||[1,0,0],c._stereo=d.stereo||null,c._pos=d.pos||null,c._pannerAttr={coneInnerAngle:"undefined"!=typeof d.coneInnerAngle?d.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof d.coneOuterAngle?d.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof d.coneOuterGain?d.coneOuterGain:0,distanceModel:"undefined"!=typeof d.distanceModel?d.distanceModel:"inverse",maxDistance:"undefined"!=typeof d.maxDistance?d.maxDistance:10000,panningModel:"undefined"!=typeof d.panningModel?d.panningModel:"HRTF",refDistance:"undefined"!=typeof d.refDistance?d.refDistance:1,rolloffFactor:"undefined"!=typeof d.rolloffFactor?d.rolloffFactor:1},c._onstereo=d.onstereo?[{fn:d.onstereo}]:[],c._onpos=d.onpos?[{fn:d.onpos}]:[],c._onorientation=d.onorientation?[{fn:d.onorientation}]:[],b.call(this,d)}}(Howl.prototype.init),Howl.prototype.stereo=function(h,d){var g=this;if(!g._webAudio){return g}if("loaded"!==g._state){return g._queue.push({event:"stereo",action:function(){g.stereo(h,d)}}),g}var e="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof d){if("number"!=typeof h){return g._stereo}g._stereo=h,g._pos=[h,0,0]}for(var c=g._getSoundIds(d),b=0;b<c.length;b++){var f=g._soundById(c[b]);if(f){if("number"!=typeof h){return f._stereo}f._stereo=h,f._pos=[h,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",f._panner&&f._panner.pan||a(f,e),"spatial"===e?f._panner.setPosition(h,0,0):f._panner.pan.value=h),g._emit("stereo",f._id)}}return g},Howl.prototype.pos=function(k,d,j,e){var c=this;if(!c._webAudio){return c}if("loaded"!==c._state){return c._queue.push({event:"pos",action:function(){c.pos(k,d,j,e)}}),c}if(d="number"!=typeof d?0:d,j="number"!=typeof j?-0.5:j,"undefined"==typeof e){if("number"!=typeof k){return c._pos}c._pos=[k,d,j]}for(var b=c._getSoundIds(e),h=0;h<b.length;h++){var g=c._soundById(b[h]);if(g){if("number"!=typeof k){return g._pos}g._pos=[k,d,j],g._node&&(g._panner&&!g._panner.pan||a(g,"spatial"),g._panner.setPosition(k,d,j)),c._emit("pos",g._id)}}return c},Howl.prototype.orientation=function(k,d,j,e){var c=this;if(!c._webAudio){return c}if("loaded"!==c._state){return c._queue.push({event:"orientation",action:function(){c.orientation(k,d,j,e)}}),c}if(d="number"!=typeof d?c._orientation[1]:d,j="number"!=typeof j?c._orientation[2]:j,"undefined"==typeof e){if("number"!=typeof k){return c._orientation}c._orientation=[k,d,j]}for(var b=c._getSoundIds(e),h=0;h<b.length;h++){var g=c._soundById(b[h]);if(g){if("number"!=typeof k){return g._orientation}g._orientation=[k,d,j],g._node&&(g._panner||(g._pos||(g._pos=c._pos||[0,0,-0.5]),a(g,"spatial")),g._panner.setOrientation(k,d,j)),c._emit("orientation",g._id)}}return c},Howl.prototype.pannerAttr=function(){var e,k,d,b=this,g=arguments;if(!b._webAudio){return b}if(0===g.length){return b._pannerAttr}if(1===g.length){if("object"!=typeof g[0]){return d=b._soundById(parseInt(g[0],10)),d?d._pannerAttr:b._pannerAttr}e=g[0],"undefined"==typeof k&&(b._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:b._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:b._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:b._coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:b._distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:b._maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:b._panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:b._refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:b._rolloffFactor})}else{2===g.length&&(e=g[0],k=parseInt(g[1],10))}for(var j=b._getSoundIds(k),c=0;c<j.length;c++){if(d=b._soundById(j[c])){var h=d._pannerAttr;h={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:h.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:h.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:h.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:h.maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:h.panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:h.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:h.rolloffFactor};var l=d._panner;l?(l.coneInnerAngle=h.coneInnerAngle,l.coneOuterAngle=h.coneOuterAngle,l.coneOuterGain=h.coneOuterGain,l.distanceModel=h.distanceModel,l.maxDistance=h.maxDistance,l.panningModel=h.panningModel,l.refDistance=h.refDistance,l.rolloffFactor=h.rolloffFactor):(d._pos||(d._pos=b._pos||[0,0,-0.5]),a(d,"spatial"))}}return b},Sound.prototype.init=function(b){return function(){var d=this,c=d._parent;d._orientation=c._orientation,d._stereo=c._stereo,d._pos=c._pos,d._pannerAttr=c._pannerAttr,b.call(this),d._stereo?c.stereo(d._stereo):d._pos&&c.pos(d._pos[0],d._pos[1],d._pos[2],d._id)}}(Sound.prototype.init),Sound.prototype.reset=function(b){return function(){var d=this,c=d._parent;return d._orientation=c._orientation,d._pos=c._pos,d._pannerAttr=c._pannerAttr,b.call(this)}}(Sound.prototype.reset);var a=function(b,c){c=c||"spatial","spatial"===c?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.panningModel=b._pannerAttr.panningModel,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=Howler.ctx.createStereoPanner(),b._panner.pan.value=b._stereo),b._panner.connect(b._node),b._paused||b._parent.pause(b._id,!0).play(b._id)}}();