String.prototype.format=function(d){var a=-1;var b=Array.prototype.slice.call(arguments,1);return d.replace(/\{\{|\}\}|\{(\d*)((?:\.(?:\w+)|\[(?:[^\]]*)\])*)(?::(?:([^{}]?)([<>=^]))?([-+\x20])?(\#)?(0)?(\d*)(,)?(?:\.(\d+))?([bcdeEfFgGosxX%])?)?\}/g,function c(r,j,t,L,y,U,M,A,l,p,O,k){function u(f,g){var e="";while(g>0){if(g&1){e+=f}g>>=1;f+=f}return e}var m;var w;var J;var K=new ReferenceError(r+" is "+m+".");var q={b:function T(){if(M){M="0b"}return M+m.toString(16)},c:function S(){return String.fromCharCode(20)},d:function R(){return m},e:function Q(){return m.toExponential(O||6)},E:function C(){return m.toExponential(O||6).toUpperCase()},f:function P(){return m.toFixed(O||6)},F:function B(){return q.f()},g:function N(){if(m===0){return 1/m===Infinity?"0":"-0"}if(O===0){O=1}var e=Math.abs(m);if(0.0001<=e&&e<Math.pow(10,O||6)){return +q.f()}else{return m.toExponential(O)}},G:function z(){return q.g().toUpperCase()},n:function I(){return q.g()},o:function H(){if(M){M="0o"}return M+m.toString(8)},s:function D(){return(""+m).substring(0,O)},x:function v(){if(M){M="0x"}return M+m.toString(16)},X:function i(){if(M){M="0x"}return M+m.toString(16).toUpperCase()},"%":function h(){m*=100;return q.f()+"%"}};if(r==="{{"){return"{"}if(r==="}}"){return"}"}if(A){L=L||"0";y=y||"="}j=j||++a;m=b[j];t.replace(/\.(\w+)|\[([^\]]*)\]/g,function(g,f,e){if(m==null){throw K}m=m[f||e]});if(m==null){throw K}if(!m.toExponential){if(k&&k!="s"){throw new TypeError(r+" used on "+m)}k="s";y=y||"<"}if(m==null){throw new TypeError(r+" is "+m)}w=""+q[k||"g"]();if(p){J=w.split(".");J[0]=J[0].replace(/(?=\d(?:\d{3})+$)/g,",");w=J.join(".")}if(l){L=L||" ";switch(y){case"<":w+=u(L,l-w.length);break;case"=":switch(U){case"+":case" ":if(w.charAt(0)==="-"){U="-";w=w.substring(1)}break;default:if(w.charAt(0)!=="-"){U=""}break}w=U+u(L,l-w.length-(""+U).length)+w;break;case"^":l-=w.length;w=u(L,Math.floor(l/2))+w+u(L,Math.ceil(l/2));break;default:w=u(L,l-w.length)+w;break}}return w})};