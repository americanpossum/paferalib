function IsArray(a){return(a instanceof Array)||(Object.prototype.toString.apply(a)==="[object Array]")}String.prototype.endswith=function(a){return this.indexOf(a,this.length-a.length)!==-1};Array.prototype.contains=function(a){for(var c=0,b=this.length;c<b;c++){if(this[c]==a){return true}}return false};_loader={Init:function(){this.filesloaded=[];this.filesprocessing=[];this.filestoload=[];this.onfinished=[];this.numadded=0;this.numloaded=0},OnFinished:function(a,b){if(typeof a!="function"){return}b=b||0;if(_loader.filesprocessing.length||_loader.filestoload.length){_loader.onfinished.push([a,b])}else{a()}return _loader},InQueue:function(c){for(var a=0,b=_loader.filestoload.length;a<b;a++){if(_loader.filestoload[a][0]==c){return true}}return(_loader.filesloaded.indexOf(c)!==-1||_loader.filesprocessing.indexOf(c)!==-1)},Load:function(a){if(!a){return _loader}if(IsArray(a)){_loader.filestoload=_loader.filestoload.concat(a);if(!_loader.filesprocessing.length){_loader.LoadNext()}return _loader}if(_loader.InQueue(a)){return _loader}if(_loader.filesprocessing.length){_loader.filestoload.push(a);return _loader}_loader.ReallyLoad(a);return _loader},LoadNext:function(){if(_loader.filestoload.length){var j=_loader.filestoload.shift();if(IsArray(j)){for(var a=0,c=j.length;a<c;a++){_loader.ReallyLoad(j[a])}}else{_loader.ReallyLoad(j)}return _loader}if(!_loader.filesprocessing.length){for(var a=0,c=_loader.onfinished.length;a<c;a++){var b=_loader.onfinished[a];setTimeout(b[0],b[1])}_loader.onfinished=[]}return _loader},ReallyLoad:function(b){if(!_loader.numadded){setTimeout(_loader.CheckLoaded,10000)}_loader.numadded++;var c=document.getElementsByTagName("head")[0];if(b.endswith(".js")){var a=document.createElement("script")}else{var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=b}a.src=b;a.onload=_loader.OnLoaded;_loader.filesprocessing.push(b);c.appendChild(a);return _loader},OnLoaded:function(b){_loader.numloaded++;var j=this.href||this.src;for(var a=0,c=_loader.filesprocessing.length;a<c;a++){if(j.indexOf(_loader.filesprocessing[a])!==-1){_loader.filesprocessing.splice(a,1);break}}_loader.LoadNext();return _loader},CheckLoaded:function(){if(_loader.numadded&&!_loader.numloaded){document.body.innerHTML=T[52]}return _loader}};_loader.Init();!function(e,g){var f=g(e,e.document);e.lazySizes=f,"object"==typeof module&&module.exports?module.exports=f:"function"==typeof define&&define.amd&&define(f)}(window,function(S,R){if(R.getElementsByClassName){var Q,O=R.documentElement,N=S.addEventListener,M=S.setTimeout,L=S.requestAnimationFrame||M,J=S.setImmediate||M,H=/^picture$/i,F=["load","error","lazyincluded","_lazyloaded"],D=function(a,c){var b=new RegExp("(\\s|^)"+c+"(\\s|$)");return a.className.match(b)&&b},C=function(b,a){D(b,a)||(b.className+=" "+a)},B=function(a,c){var b;(b=D(a,c))&&(a.className=a.className.replace(b," "))},A=function(e,c,b){var a=b?"addEventListener":"removeEventListener";b&&A(e,c),F.forEach(function(f){e[a](f,c)})},z=function(c,b,g,e,a){var f=R.createEvent("CustomEvent");return f.initCustomEvent(b,!e,!a,g||{}),c.dispatchEvent(f),f},y=function(b,a){var c;S.HTMLPictureElement||((c=S.picturefill||S.respimage||Q.pf)?c({reevaluate:!0,elements:[b]}):a&&a.src&&(b.src=a.src))},x=function(b,a){return(getComputedStyle(b,null)||{})[a]},w=function(a,c,b){for(b=b||a.offsetWidth;b<Q.minSize&&c&&!a._lazysizesWidth;){b=c.offsetWidth,c=c.parentNode}return b},K=function(b){var f,c=0,h=S.Date,e=function(){f=!1,c=h.now(),b()},a=function(){J(e)},g=function(){L(a)};return function(){if(!f){var j=Q.throttle-(h.now()-c);f=!0,6>j&&(j=6),M(g,j)}}},I=function(){var f,c,Z,q,X,V,v,t,p,a,ab,Y,s,o=/^img$/i,m=/^iframe$/i,W="onscroll" in S&&!/glebot/.test(navigator.userAgent),U=0,u=0,r=0,n=0,l=function(ad){r--,ad&&ad.target&&A(ad.target,l),(!ad||0>r||!ad.target)&&(r=0)},k=function(ae,ah){var af,ad=ae,ag="hidden"!=x(ae,"visibility");for(t-=ah,ab+=ah,p-=ah,a+=ah;ag&&(ad=ad.offsetParent);){ag=(x(ad,"opacity")||1)>0,ag&&"visible"!=x(ad,"overflow")&&(af=ad.getBoundingClientRect(),ag=a>af.left&&p<af.right&&ab>af.top-1&&t<af.bottom+1)}return ag},j=function(){var ae,ad,ai,ah,al,ak,aj,ag,af;if((X=Q.loadMode)&&8>r&&(ae=f.length)){for(ad=0,n++,s>u&&1>r&&n>3&&X>2?(u=s,n=0):u=X>1&&n>2&&6>r?Y:U;ae>ad;ad++){f[ad]&&!f[ad]._lazyRace&&(W?((ag=f[ad].getAttribute("data-expand"))&&(ak=1*ag)||(ak=u),af!==ak&&(V=innerWidth+ak,v=innerHeight+ak,aj=-1*ak,af=ak),ai=f[ad].getBoundingClientRect(),(ab=ai.bottom)>=aj&&(t=ai.top)<=v&&(a=ai.right)>=aj&&(p=ai.left)<=V&&(ab||a||p||t)&&(Z&&3>r&&!ag&&(3>X||4>n)||k(f[ad],ak))?(ac(f[ad],ai.width),al=!0,r>6&&(u=U)):!al&&Z&&!ah&&3>r&&4>n&&X>2&&(c[0]||Q.preloadAfterLoad)&&(c[0]||!ag&&(ab||a||p||t||"auto"!=f[ad].getAttribute(Q.sizesAttr)))&&(ah=c[0]||f[ad])):ac(f[ad]))}ah&&!al&&ac(ah)}},h=K(j),g=function(ad){C(ad.target,Q.loadedClass),B(ad.target,Q.loadingClass),A(ad.target,g)},e=function(af,ae){try{af.contentWindow.location.replace(ae)}catch(ad){af.setAttribute("src",ae)}},b=function(){var af,ae=[],ad=function(){for(;ae.length;){ae.shift()()}af=!1};return function(ag){ae.push(ag),af||(af=!0,L(ad))}}(),ac=function(ad,az){var an,al,ai,ah,aj,ao,am,ak,af,aA,ay,ax=o.test(ad.nodeName),ag=ax&&(ad.getAttribute(Q.sizesAttr)||ad.getAttribute("sizes")),ae="auto"==ag;(!ae&&Z||!ax||!ad.src&&!ad.srcset||ad.complete||D(ad,Q.errorClass))&&(ae&&(az=Math.max(az||0,ad.offsetWidth)),ad._lazyRace=!0,r++,b(function(){if(ad._lazyRace&&delete ad._lazyRace,B(ad,Q.lazyClass),!(af=z(ad,"lazybeforeunveil")).defaultPrevented){if(ag&&(ae?(C(ad,Q.autosizesClass),G.updateElem(ad,!0,az)):ad.setAttribute("sizes",ag)),ao=ad.getAttribute(Q.srcsetAttr),aj=ad.getAttribute(Q.srcAttr),ax&&(am=ad.parentNode,ak=am&&H.test(am.nodeName||"")),aA=af.detail.firesLoad||"src" in ad&&(ao||aj||ak),af={target:ad},aA&&(A(ad,l,!0),clearTimeout(q),q=M(l,2500),C(ad,Q.loadingClass),A(ad,g,!0)),ak){for(an=am.getElementsByTagName("source"),al=0,ai=an.length;ai>al;al++){(ay=Q.customMedia[an[al].getAttribute("data-media")||an[al].getAttribute("media")])&&an[al].setAttribute("media",ay),ah=an[al].getAttribute(Q.srcsetAttr),ah&&an[al].setAttribute("srcset",ah)}}ao?ad.setAttribute("srcset",ao):aj&&(m.test(ad.nodeName)?e(ad,aj):ad.setAttribute("src",aj)),(ao||ak)&&y(ad,{src:aj})}(!aA||ad.complete)&&(aA?l(af):r--,g(af))}))},aa=function(){var ae,ad=function(){Q.loadMode=3,h()};Z=!0,Q.loadMode=3,n++,N("scroll",function(){3==Q.loadMode&&(Q.loadMode=2),clearTimeout(ae),ae=M(ad,99)},!0)};return{_:function(){f=R.getElementsByClassName(Q.lazyClass),c=R.getElementsByClassName(Q.lazyClass+" "+Q.preloadClass),Y=Q.expand,s=Math.round(Y*Q.expFactor),N("scroll",h,!0),N("resize",h,!0),S.MutationObserver?new MutationObserver(h).observe(O,{childList:!0,subtree:!0,attributes:!0}):(O.addEventListener("DOMNodeInserted",h,!0),O.addEventListener("DOMAttrModified",h,!0),setInterval(h,999)),N("hashchange",h,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(ad){R.addEventListener(ad,h,!0)}),/d$|^c/.test(R.readyState)?aa():(N("load",aa),R.addEventListener("DOMContentLoaded",h)),h()},checkElems:h,unveil:ac}}(),G=function(){var b,a=function(l,k,j){var h,g,f,n,m=l.parentNode;if(m&&(j=w(l,m,j),n=z(l,"lazybeforesizes",{width:j,dataAttr:!!k}),!n.defaultPrevented&&(j=n.detail.width,j&&j!==l._lazysizesWidth))){if(l._lazysizesWidth=j,j+="px",l.setAttribute("sizes",j),H.test(m.nodeName||"")){for(h=m.getElementsByTagName("source"),g=0,f=h.length;f>g;g++){h[g].setAttribute("sizes",j)}}n.detail.dataAttr||y(l,n.detail)}},e=function(){var f,g=b.length;if(g){for(f=0;g>f;f++){a(b[f])}}},c=K(e);return{_:function(){b=R.getElementsByClassName(Q.autosizesClass),N("resize",c)},checkElems:c,updateElem:a}}(),E=function(){E.i||(E.i=!0,G._(),I._())};return function(){var b,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2,throttle:125};Q=S.lazySizesConfig||S.lazysizesConfig||{};for(b in a){b in Q||(Q[b]=a[b])}S.lazySizesConfig=Q,M(function(){Q.init&&E()})}(),{cfg:Q,autoSizer:G,loader:I,init:E,uP:y,aC:C,rC:B,hC:D,fire:z,gW:w}}});var MINIFIED=function(){var K=window;var l="Nia";var al="NiaP";var aP={},a1={};var aQ=1;var aw=/^[ic]/.test(document.readyState)?at:[];var x={};var aC=0;var at=null;var ac;function a8(M){return M.substr(0,3)}var E=au("January,February,March,April,May,June,July,August,September,October,November,December",/,/g);var aA=a7(E,a8);var U=au("Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",/,/g);var ak=a7(U,a8);var Z=au("am,pm",/,/g);var aR=au("am,am,am,am,am,am,am,am,am,am,am,am,pm,pm,pm,pm,pm,pm,pm,pm,pm,pm,pm,pm",/,/g);var a5={y:["FullYear",aM],Y:["FullYear",function(M){return M%100}],M:["Month",X],n:["Month",aA],N:["Month",E],d:["Date",aM],m:["Minutes",aM],H:["Hours",aM],h:["Hours",function(M){return(M%12)||12}],k:["Hours",X],K:["Hours",function(M){return M%12}],s:["Seconds",aM],S:["Milliseconds",aM],a:["Hours",aR],w:["Day",ak],W:["Day",U],z:["TimezoneOffset",function(bc,bf,be){if(be){return be}var bd=bc>0?"-":"+";var M=bc<0?-bc:bc;return bd+ax(2,Math.floor(M/60))+ax(2,M%60)}]};var o={y:0,Y:[0,-2000],M:[1,1],n:[1,aA],N:[1,E],d:2,m:4,H:3,h:3,K:[3,1],k:[3,1],s:5,S:6,a:[3,Z]};var S=99;var af={};var ab=[];function bt(M){return M!=at?""+M:""}function aX(M,bc){return typeof M==bc}function k(M){return aX(M,"string")}function aO(M){return !!M&&aX(M,"object")}function s(M){return M&&M.nodeType}function a2(M){return aX(M,"number")}function O(M){return aO(M)&&!!M.getDay}function aV(M){return M===true||M===false}function a9(bc){var M=typeof bc;return M=="object"?!!(bc&&bc.getDay):(M=="string"||M=="number"||aV(bc))}function aM(M){return M}function X(M){return M+1}function n(M,bc,bd){return bt(M).replace(bc,bd!=at?bd:"")}function j(M){return n(M,/[\\\[\]\/{}()*+?.$|^-]/g,"\\$&")}function aq(M){return n(M,/^\s+|\s+$/g)}function ao(M,bd,be){for(var bc in M){if(M.hasOwnProperty(bc)){bd.call(be||M,bc,M[bc])}}return M}function V(bc,bd,be){if(bc){for(var M=0;M<bc.length;M++){bd.call(be||bc,bc[M],M)}}return bc}function aN(bc,M,bd){var be=[];var bf=an(M)?M:function(bg){return M!=bg};V(bc,function(bh,bg){if(bf.call(bd||bc,bh,bg)){be.push(bh)}});return be}function ag(M,bc,bf,be){var bd=[];M(bc,function(bh,bg){if(ae(bh=bf.call(be||bc,bh,bg))){V(bh,function(bi){bd.push(bi)})}else{if(bh!=at){bd.push(bh)}}});return bd}function a6(bc,M,bd){return ag(ao,bc,M,bd)}function ba(bc,M,bd){return ag(V,bc,M,bd)}function c(M){var bc=0;ao(M,function(bd){bc++});return bc}function aW(bc){var M=[];ao(bc,function(bd){M.push(bd)});return M}function a7(M,bc,be){var bd=[];V(M,function(bg,bf){bd.push(bc.call(be||M,bg,bf))});return bd}function aa(M,bc){if(ae(M)){var bd=t(bc);return aT(aE(M,0,bd.length),bd)}else{return bc!=at&&M.substr(0,bc.length)==bc}}function J(M,bd){if(ae(M)){var bc=t(bd);return aT(aE(M,-bc.length),bc)||!bc.length}else{return bd!=at&&M.substr(M.length-bd.length)==bd}}function F(bc){var M=bc.length;if(ae(bc)){return new A(a7(bc,function(){return bc[--M]}))}else{return n(bc,/[\s\S]/g,function(){return bc.charAt(--M)})}}function L(M,bd){var bc={};V(M,function(bf,be){bc[bf]=bd});return bc}function aL(bc,M){var be=M||{};for(var bd in bc){be[bd]=bc[bd]}return be}function bs(be,M){var bc=M;for(var bd=0;bd<be.length;bd++){bc=aL(be[bd],bc)}return bc}function p(M){return an(M)?M:function(bc,bd){if(M===bc){return bd}}}function y(M,bd,bc){return bd==at?bc:bd<0?Math.max(M.length+bd,0):Math.min(M.length,bd)}function aU(bi,be,bc,bh){var bg=p(be);var M=y(bi,bh,bi.length);var bf;for(var bd=y(bi,bc,0);bd<M;bd++){if((bf=bg.call(bi,bi[bd],bd))!=at){return bf}}}function aB(bi,be,bc,bh){var bg=p(be);var M=y(bi,bh,-1);var bf;for(var bd=y(bi,bc,bi.length-1);bd>M;bd--){if((bf=bg.call(bi,bi[bd],bd))!=at){return bf}}}function aE(bg,bc,bf){var be=[];if(bg){var M=y(bg,bf,bg.length);for(var bd=y(bg,bc,0);bd<M;bd++){be.push(bg[bd])}}return be}function aJ(M){return a7(M,aM)}function am(M){return function(){return new A(av(M,arguments))}}function R(bc){var M={};return aN(bc,function(bd){if(M[bd]){return false}else{return M[bd]=1}})}function Y(bc,bd){var M=L(bd,1);return aN(bc,function(bf){var be=M[bf];M[bf]=0;return be})}function u(bc,M){for(var bd=0;bd<bc.length;bd++){if(bc[bd]==M){return true}}return false}function aT(be,bc){var bf=an(be)?be():be;var bd=an(bc)?bc():bc;var M;if(bf==bd){return true}else{if(bf==at||bd==at){return false}else{if(a9(bf)||a9(bd)){return O(bf)&&O(bd)&&+bf==+bd}else{if(ae(bf)){return(bf.length==bd.length)&&!aU(bf,function(bh,bg){if(!aT(bh,bd[bg])){return true}})}else{return !ae(bd)&&((M=aW(bf)).length==c(bd))&&!aU(M,function(bg){if(!aT(bf[bg],bd[bg])){return true}})}}}}}function a4(M,bc,bd){if(an(M)){return M.apply(bd&&bc,a7(bd||bc,aM))}}function av(M,bc,bd){return a7(M,function(be){return a4(be,bc,bd)})}function b(bc,M,bd,be){return function(){return a4(bc,M,ba([bd,arguments,be],aM))}}function W(bc,bd,M){return b(bc,this,bd,M)}function ax(M,be){var bd=be<0?"-":"";var bc=(bd?-be:be).toFixed(0);while(bc.length<M){bc="0"+bc}return bd+bc}function br(bf,be,bg){var bd;var M=0;var bc=bg?be:F(be);var bh=(bg?bf:F(bf)).replace(/./g,function(bi){if(bi=="0"){bd=false;return bc.charAt(M++)||"0"}else{if(bi=="#"){bd=true;return bc.charAt(M++)||""}else{return bd&&!bc.charAt(M)?"":bi}}});return bg?bh:(be.substr(0,be.length-M)+F(bh))}function ai(M,bd,bc){if(bd==at||!M){return 0}return parseFloat(M[bd]+M[bd+1])*60+parseFloat(M[bd]+M[bd+2])+bc.getTimezoneOffset()}function r(bd,M){var bc=n(bd,/^\?/);if(O(M)){var bf,be;if(be=/^\[(([+-])(\d\d)(\d\d))\]\s*(.*)/.exec(bc)){bf=be[1];M=aH(M,"minutes",ai(be,2,M));bc=be[5]}return n(bc,/(\w)(\1*)(?:\[([^\]]+)\])?/g,function(bk,bl,bj,bh){var bg=a5[bl];if(bg){var bm=M["get"+bg[0]]();var bi=(bh&&bh.split(","));if(ae(bg[1])){bm=(bi||bg[1])[bm]}else{bm=bg[1](bm,bi,bf)}if(bm!=at&&!k(bm)){bm=ax(bj.length+1,bm)}return bm}else{return bk}})}else{return aU(bc.split(/\s*\|\s*/),function(bk){var bj,bh;if(bj=/^([<>]?)(=?)([^:]*?)\s*:\s*(.*)$/.exec(bk)){var bi=M,bg=+(bj[3]);if(isNaN(bg)||!a2(bi)){bi=(bi==at)?"null":bt(bi);bg=bj[3]}if(bj[1]){if((!bj[2]&&bi==bg)||(bj[1]=="<"&&bi>bg)||(bj[1]==">"&&bi<bg)){return at}}else{if(bi!=bg){return at}}bh=bj[4]}else{bh=bk}if(a2(M)){return bh.replace(/[0#](.*[0#])?/,function(bo){var bu=/^([^.]+)(\.)([^.]+)$/.exec(bo)||/^([^,]+)(,)([^,]+)$/.exec(bo);var bp=M<0?"-":"";var bm=/(\d+)(\.(\d+))?/.exec((bp?-M:M).toFixed(bu?bu[3].length:0));var bl=bu?bu[1]:bo;var bn=bu?br(bu[3],n(bm[3],/0+$/),true):"";return(bp?"-":"")+(bl=="#"?bm[1]:br(bl,bm[1]))+(bn.length?bu[2]:"")+bn})}else{return bh}})}}function C(bi,be){var bh={};var bj=1;var bk;var bc;var bo;var by=n(bi,/^\?/);if(by!=bi&&!aq(be)){return at}if(bo=/^\[([+-])(\d\d)(\d\d)\]\s*(.*)/.exec(by)){bk=bo;by=bo[4]}var bl=new RegExp(by.replace(/(.)(\1*)(?:\[([^\]]*)\])?/g,function(bC,bA,bD,bB){if(/[dmhkyhs]/i.test(bA)){bh[bj++]=bA;var bz=bD.length+1;return"(\\d"+(bz<2?"+":("{1,"+bz+"}"))+")"}else{if(bA=="z"){bc=bj;bj+=3;return"([+-])(\\d\\d)(\\d\\d)"}else{if(/[Nna]/.test(bA)){bh[bj++]=[bA,bB&&bB.split(",")];return"([a-zA-Z\\u0080-\\u1fff]+)"}else{if(/w/i.test(bA)){return"[a-zA-Z\\u0080-\\u1fff]+"}else{if(/\s/.test(bA)){return"\\s+"}else{return j(bC)}}}}}}));if(!(bo=bl.exec(be))){return ac}var M=[0,0,0,0,0,0,0];for(var bx=1;bx<bj;bx++){var bn=bo[bx];var bf=bh[bx];if(ae(bf)){var bw=bf[0];var bm=o[bw];var bg=bm[0];var bp=bf[1]||bm[1];var bu=aU(bp,function(bA,bz){if(aa(bn.toLowerCase(),bA.toLowerCase())){return bz}});if(bu==at){return ac}if(bw=="a"){M[bg]+=bu*12}else{M[bg]=bu}}else{if(bf){var bv=parseFloat(bn);var bm=o[bf];if(ae(bm)){M[bm[0]]+=bv-bm[1]}else{M[bm]+=bv}}}}var bd=new Date(M[0],M[1],M[2],M[3],M[4],M[5],M[6]);return aH(bd,"minutes",-ai(bk,1,bd)-ai(bo,bc,bd))}function w(be,M){var bc=n(be,/^\?/);if(bc!=be&&!aq(M)){return at}var bd=(/(^|[^0#.,])(,|[0#.]*,[0#]+|[0#]+\.[0#]+\.[0#.,]*)($|[^0#.,])/.test(bc))?",":".";var bf=parseFloat(n(n(n(M,bd==","?/\./g:/,/g),bd,"."),/^[^\d-]*(-?\d)/,"$1"));return isNaN(bf)?ac:bf}function h(){return new Date()}function z(M){return new Date(+M)}function Q(M){return M.charAt(0).toUpperCase()+M.substr(1)}function f(bc,M,bd){bc["set"+M](bc["get"+M]()+bd);return bc}function aH(bd,bc,M){if(M==at){return aH(h(),bd,bc)}return f(z(bd),Q(bc),M)}function aS(bc){var M=bc||h();return new Date(M.getFullYear(),M.getMonth(),M.getDate())}function ar(bl,bn,bm){var bi=+bn;var be=+bm;var bc=be-bi;if(bc<0){return -ar(bl,bm,bn)}var bd={milliseconds:1,seconds:1000,minutes:60000,hours:3600000};var bg=bd[bl];if(bg){return bc/bg}var bk=Q(bl);var bj={fullYear:86400000*365,month:86400000*365/12,date:86400000};var M=Math.floor((bc/bj[bl])-2);var bh=f(new Date(bi),bk,M);for(var bf=M;bf<M*1.2+4;bf++){if(+f(bh,bk,1)>be){return bf}}}function aG(M){return"\\u"+("0000"+M.charCodeAt(0).toString(16)).slice(-4)}function aI(M){return n(M,/[\x00-\x1f'"\u2028\u2029]/g,aG)}function au(bc,M){return bc.split(M)}function aZ(bf,M){if(af[bf]){return af[bf]}else{var be="with(_.isObject(obj)?obj:{}){"+a7(au(bf,/{{|}}}?/g),function(bj,bi){var bh,bl=aq(bj),bk=n(bl,/^{/),bg=(bl==bk)?"esc(":"";if(bi%2){if(bh=/^each\b(\s+([\w_]+(\s*,\s*[\w_]+)?)\s*:)?(.*)/.exec(bk)){return"each("+(aq(bh[4])?bh[4]:"this")+", function("+bh[2]+"){"}else{if(bh=/^if\b(.*)/.exec(bk)){return"if("+bh[1]+"){"}else{if(bh=/^else\b\s*(if\b(.*))?/.exec(bk)){return"}else "+(bh[1]?"if("+bh[2]+")":"")+"{"}else{if(bh=/^\/(if)?/.exec(bk)){return bh[1]?"}\n":"});\n"}else{if(bh=/^(var\s.*)/.exec(bk)){return bh[1]+";"}else{if(bh=/^#(.*)/.exec(bk)){return bh[1]}else{if(bh=/(.*)::\s*(.*)/.exec(bk)){return"print("+bg+'_.formatValue("'+aI(bh[2])+'",'+(aq(bh[1])?bh[1]:"this")+(bg&&")")+"));\n"}else{return"print("+bg+(aq(bk)?bk:"this")+(bg&&")")+");\n"}}}}}}}}else{if(bj){return'print("'+aI(bj)+'");\n'}}}).join("")+"}";var bc=(new Function("obj","each","esc","print","_",be));var bd=function(bi,bh){var bg=[];bc.call(bh||bi,bi,function(bk,bj){if(ae(bk)){V(bk,function(bm,bl){bj.call(bm,bm,bl)})}else{ao(bk,function(bl,bm){bj.call(bm,bl,bm)})}},M||aM,function(){a4(bg.push,bg,arguments)},t);return bg.join("")};if(ab.push(bd)>S){delete af[ab.shift()]}return af[bf]=bd}}function bb(M){return n(M,/[<>'"&]/g,function(bc){return"&#"+bc.charCodeAt(0)+";"})}function aF(M,bc){return aZ(M,bb)(bc)}function ap(M){return function(bc,bd){return new A(M(this,bc,bd))}}function ah(M){return function(bc,be,bd){return M(this,bc,be,bd)}}function B(M){return function(bc,be,bd){return new A(M(bc,be,bd))}}function an(M){return typeof M=="function"&&!M.item}function ae(M){return M&&M.length!=at&&!k(M)&&!s(M)&&!an(M)&&M!==K}function H(M,bc,bd){(M[bc]=(M[bc]||[])).push(bd)}function g(bc,M){for(var bd=0;bc&&bd<bc.length;bd++){if(bc[bd]===M){bc.splice(bd--,1)}}}function m(M){return parseFloat(n(M,/^[^\d-]+/))}function D(M){return(M[l]=(M[l]||++aQ))}function q(bc,bf){var bd=[];var be={};var M;ay(bc,function(bg){ay(bf(bg),function(bh){if(!be[M=D(bh)]){bd.push(bh);be[M]=true}})});return bd}function ad(be,bd){var bc={"$position":"absolute","$visibility":"hidden","$display":"block","$height":at};var M=be.get(bc);var bf=be.set(bc)["get"]("clientHeight");be.set(M);return bf*bd+"px"}function aY(bc,bd,bf,be,M){if(an(bd)){return this["on"](at,bc,bd,bf,be)}else{if(k(be)){return this["on"](bc,bd,bf,at,be)}else{return this["each"](function(bh,bg){ay(bc?G(bc,bh):bh,function(bi){ay(bt(bd).split(/\s/),function(bp){var bn=n(bp,/[?|]/g);var bj=n(bp,/[^?|]/g);var bm=(bn=="blur"||bn=="focus")&&!!M;var bl=aQ++;function bk(bu,bx,bz){var bv=!M;var bw=M?bz:bi;if(M){var by=v(M,bi);while(bw&&bw!=bi&&!(bv=by(bw))){bw=bw.parentNode}}return(!bv)||(bn!=bu)||((bf.apply(aj(bw),be||[bx,bg])&&bj=="?")||bj=="|")}function bo(bu){if(!bk(bn,bu,bu.target)){bu.preventDefault();bu.stopPropagation()}}bi.addEventListener(bn,bo,bm);if(!bi.M){bi.M={}}bi.M[bl]=bk;bf.M=ag(ay,[bf.M,function(){bi.removeEventListener(bn,bo,bm);delete bi.M[bl]}],aM)})})})}}}function a0(M){av(M.M);M.M=at}function az(bc,M){ay(M,function(bd){bd.element.detachEvent("on"+bd.eventType,bd.handlerFunc)})}function a(M){if(aw){aw.push(M)}else{setTimeout(M,0)}}function N(bd,M,bc){return G(bd,M,bc)[0]}function a3(bd,be,M){var bc=aj(document.createElement(bd));return(ae(be)||(be!=at&&!aO(be)))?bc.add(be):bc.set(be)["add"](M)}function aK(M){return ag(ay,M,function(bd){var bc;if(ae(bd)){return aK(bd)}else{if(s(bd)){bc=bd.cloneNode(true);bc.removeAttribute&&bc.removeAttribute("id");return bc}else{return bd}}})}function aj(bd,bc,M){return an(bd)?a(bd):new A(G(bd,bc,M))}function G(bd,bf,be){function bc(bg){return ae(bg)?ag(ay,bg,bc):bg}function M(bg){return aN(ag(ay,bg,bc),function(bi){var bh=bi;while(bh=bh.parentNode){if(bh==bf[0]||be){return bh==bf[0]}}})}if(bf){if((bf=G(bf)).length!=1){return q(bf,function(bg){return G(bd,bg,be)})}else{if(k(bd)){if(s(bf[0])!=1){return[]}else{return be?M(bf[0].querySelectorAll(bd)):bf[0].querySelectorAll(bd)}}else{return M(bd)}}}else{if(k(bd)){return document.querySelectorAll(bd)}else{return ag(ay,bd,bc)}}}function v(bd,bh){function be(bi,bk){var bj=RegExp("(^|\\s+)"+bi+"(?=$|\\s)","i");return function(bl){return bi?bj.test(bl[bk]):true}}var bc={};var M=bc;if(an(bd)){return bd}else{if(a2(bd)){return function(bi,bj){return bj==bd}}else{if(!bd||bd=="*"||(k(bd)&&(M=/^([\w-]*)\.?([\w-]*)$/.exec(bd)))){var bg=be(M[1],"tagName");var bf=be(M[2],"className");return function(bi){return s(bi)==1&&bg(bi)&&bf(bi)}}else{if(bh){return function(bi){return aj(bd,bh)["find"](bi)!=at}}else{aj(bd)["each"](function(bi){bc[D(bi)]=true});return function(bi){return bc[D(bi)]}}}}}}function e(M){var bc=v(M);return function(bd){return bc(bd)?at:true}}function ay(bc,M){if(ae(bc)){V(bc,M)}else{if(bc!=at){M(bc,0)}}return bc}function I(){this["state"]=null;this["values"]=[];this["parent"]=null}function bq(){var bj=[];var bh=arguments;var bi=bh.length;var bc=0;var bg=0;var bf=new I();bf.errHandled=function(){bg++;if(bf.parent){bf.parent.errHandled()}};var M=bf.fire=function(bk,bl){if(bf.state==null&&bk!=null){bf.state=!!bk;bf.values=ae(bl)?bl:[bl];setTimeout(function(){V(bj,function(bm){bm()})},0)}return bf};V(bh,function bd(bl,bm){try{if(bl.then){bl.then(function(bo){var bn;if((aO(bo)||an(bo))&&an(bn=bo.then)){bd(bo,bm)}else{bf.values[bm]=aJ(arguments);if(++bc==bi){M(true,bi<2?bf.values[bm]:bf.values)}}},function(bn){bf.values[bm]=aJ(arguments);M(false,bi<2?bf.values[bm]:[bf.values[bm][0],bf.values,bm])})}else{bl(function(){M(true,aJ(arguments))},function(){M(false,aJ(arguments))})}}catch(bk){M(false,[bk,bf.values,bm])}});bf.stop=function(){V(bh,function(bk){if(bk.stop){bk.stop()}});return bf.stop0&&a4(bf.stop0)};var be=bf.then=function(bm,bl){var bk=bq();var bn=function(){try{var bp=(bf.state?bm:bl);if(an(bp)){(function bo(bv){try{var by,bw=0;if((aO(bv)||an(bv))&&an(by=bv.then)){if(bv===bk){throw new TypeError()}by.call(bv,function(bz){if(!bw++){bo(bz)}},function(bz){if(!bw++){bk.fire(false,[bz])}});bk.stop0=bv.stop}else{bk.fire(true,[bv])}}catch(bx){if(!(bw++)){bk.fire(false,[bx]);if(!bg){throw bx}}}})(a4(bp,ac,bf.values))}else{bk.fire(bf.state,bf.values)}}catch(bu){bk.fire(false,[bu]);if(!bg){throw bu}}};if(an(bl)){bf.errHandled()}bk.stop0=bf.stop;bk.parent=bf;if(bf.state!=null){setTimeout(bn,0)}else{bj.push(bn)}return bk};bf.always=function(bk){return be(bk,bk)};bf.error=function(bk){return be(0,bk)};return bf}function A(bf,bj){var bi=this,bg=0;if(bf){for(var bd=0,be=bf.length;bd<be;bd++){var bh=bf[bd];if(bj&&ae(bh)){for(var bc=0,M=bh.length;bc<M;bc++){bi[bg++]=bh[bc]}}else{bi[bg++]=bh}}}else{bi[bg++]=bj}bi.length=bg;bi._=true}function t(){return new A(arguments,true)}aL({each:ah(V),filter:ap(aN),collect:ap(ba),map:ap(a7),toObject:ah(L),equals:ah(aT),sub:ap(aE),reverse:ah(F),find:ah(aU),findLast:ah(aB),startsWith:ah(aa),endsWith:ah(J),contains:ah(u),call:ap(av),array:ah(aJ),unite:ah(am),merge:ah(bs),uniq:ap(R),intersection:ap(Y),join:function(M){return a7(this,aM).join(M)},reduce:function(bc,M){V(this,function(be,bd){M=bc.call(this,M,be,bd)});return M},sort:function(M){return new A(a7(this,aM).sort(M))},remove:function(){ay(this,function(M){if(M.parentNode){M.parentNode.removeChild(M)}})},text:function(){return ag(ay,this,function(M){return M.textContent})["join"]("")},trav:function(bg,be,bc){var M=a2(be);var bf=v(M?at:be);var bd=M?be:bc;return new A(q(this,function(bi){var bh=[];var bj=bi;while((bj=bj[bg])&&bh.length!=bd){if(bf(bj)){bh.push(bj)}}return bh}))},next:function(M,bc){return this["trav"]("nextSibling",M,bc||1)},up:function(M,bc){return this["trav"]("parentNode",M,bc||1)},select:function(M,bc){return aj(M,this,bc)},is:function(M){return !this["find"](e(M))},only:function(M){return new A(aN(this,v(M)))},not:function(M){return new A(aN(this,e(M)))},get:function(bf,bd){var be=this;var bh=be[0];if(bh){if(k(bf)){var bg=/^(\W*)(.*)/.exec(n(bf,/^%/,"@data-"));var bc=bg[1];var bi;if(a1[bc]){bi=a1[bc](this,bg[2])}else{if(bf=="$"){bi=be.get("className")}else{if(bf=="$$"){bi=be.get("@style")}else{if(bf=="$$slide"){bi=be.get("$height")}else{if(bf=="$$fade"||bf=="$$show"){if(be.get("$visibility")=="hidden"||be.get("$display")=="none"){bi=0}else{if(bf=="$$fade"){bi=isNaN(be.get("$opacity",true))?1:be.get("$opacity",true)}else{bi=1}}}else{if(bc=="$"){bi=K.getComputedStyle(bh,at)["getPropertyValue"](n(bg[2],/[A-Z]/g,function(bj){return"-"+bj.toLowerCase()}))}else{if(bc=="@"){bi=bh.getAttribute(bg[2])}else{bi=bh[bg[2]]}}}}}}}return bd?m(bi):bi}else{var M={};(ae(bf)?ay:ao)(bf,function(bj){M[bj]=be.get(bj,bd)});return M}}},set:function(bf,bc){var bd=this;if(bc!==ac){var be=/^(\W*)(.*)/.exec(n(n(bf,/^\$float$/,"cssFloat"),/^%/,"@data-"));var M=be[1];if(aP[M]){aP[M](this,be[2],bc)}else{if(bf=="$$fade"){this["set"]({"$visibility":bc?"visible":"hidden","$opacity":bc})}else{if(bf=="$$slide"){bd.set({"$visibility":bc?"visible":"hidden","$overflow":"hidden","$height":/px/.test(bc)?bc:function(bh,bg,bi){return ad(aj(bi),bc)}})}else{if(bf=="$$show"){if(bc){bd.set({"$visibility":bc?"visible":"hidden","$display":""})["set"]({"$display":function(bg){return bg=="none"?"block":bg}})}else{bd.set({"$display":"none"})}}else{if(bf=="$$"){bd.set("@style",bc)}else{ay(this,function(bh,bi){var bg=an(bc)?bc(aj(bh)["get"](bf),bi,bh):bc;if(M=="$"){if(be[2]){bh.style[be[2]]=bg}else{ay(bg&&bg.split(/\s+/),function(bk){var bl=n(bk,/^[+-]/);var bm=bh.className||"";var bj=n(bm,RegExp("(^|\\s+)"+bl+"(?=$|\\s)"));if(/^\+/.test(bk)||(bl==bk&&bm==bj)){bj+=" "+bl}bh.className=aq(bj)})}}else{if(bf=="$$scrollX"){bh.scroll(bg,aj(bh)["get"]("$$scrollY"))}else{if(bf=="$$scrollY"){bh.scroll(aj(bh)["get"]("$$scrollX"),bg)}else{if(M=="@"){if(bg==at){bh.removeAttribute(be[2])}else{bh.setAttribute(be[2],bg)}}else{bh[be[2]]=bg}}}}})}}}}}}else{if(k(bf)||an(bf)){bd.set("$",bf)}else{ao(bf,function(bh,bg){bd.set(bh,bg)})}}return bd},show:function(){return this["set"]("$$show",1)},hide:function(){return this["set"]("$$show",0)},add:function(M,bc){return this["each"](function(bg,bf){var bd;function be(bi){if(ae(bi)){ay(bi,be)}else{if(an(bi)){be(bi(bg,bf))}else{if(bi!=at){var bh=s(bi)?bi:document.createTextNode(bi);if(bd){bd.parentNode.insertBefore(bh,bd.nextSibling)}else{if(bc){bc(bh,bg,bg.parentNode)}else{bg.appendChild(bh)}}bd=bh}}}}be(bf&&!an(M)?aK(M):M)})},fill:function(M){return this["each"](function(bc){aj(bc.childNodes)["remove"]()})["add"](M)},addAfter:function(M){return this["add"](M,function(be,bd,bc){bc.insertBefore(be,bd.nextSibling)})},addBefore:function(M){return this["add"](M,function(be,bd,bc){bc.insertBefore(be,bd)})},addFront:function(M){return this["add"](M,function(bc,bd){bd.insertBefore(bc,bd.firstChild)})},replace:function(M){return this["add"](M,function(be,bd,bc){bc.replaceChild(be,bd)})},clone:ap(aK),animate:function(bh,bc,bi){var bf=bq();var be=this;var M=ag(ay,this,function(bm,bj){var bn=aj(bm),bk,bl={};ao(bk=bn.get(bh),function(bp,bu){var bo=bh[bp];bl[bp]=an(bo)?bo(bu,bj,bm):bp=="$$slide"?ad(bn,bo):bo});return bn.dial(bk,bl,bi)});var bg=bc||500;var bd;bf.stop0=function(){bf.fire(false);return bd()};bd=aj.loop(function(bj){av(M,[bj/bg]);if(bj>=bg){bd();bf.fire(true,[be])}});return bf},dial:function(M,bg,bd){var be=this;var bh=bd||0;var bf=an(bh)?bh:function(bj,bi,bk){return bk*(bi-bj)*(bh+(1-bh)*bk*(3-2*bk))+bj};function bc(bj,bi){return(/^#/.test(bj))?parseInt(bj.length>6?bj.substr(bi*2+1,2):((bj=bj.charAt(bi+1))+bj),16):m(bj.split(",")[bi])}return function(bi){ao(M,function(bm,bk){var bl=bg[bm],bj=0;be.set(bm,bi<=0?bk:bi>=1?bl:(/^#|rgb\(/.test(bl))?("rgb("+Math.round(bf(bc(bk,bj),bc(bl,bj++),bi))+","+Math.round(bf(bc(bk,bj),bc(bl,bj++),bi))+","+Math.round(bf(bc(bk,bj),bc(bl,bj++),bi))+")"):n(bl,/-?[\d.]+/,bt(bf(m(bk),m(bl),bi))))})}},toggle:function(bc,M,bf,bh){var be=this;var bg=false;var bi;var bd;if(M){be.set(bc);return function(bj){if(bj!==bg){bd=(bg=(bj===true||bj===false?bj:!bg))?M:bc;if(bf){(bi=be.animate(bd,bi?bi.stop():bf,bh))["then"](function(){bi=at})}else{be.set(bd)}}}}else{return be.toggle(n(bc,/\b(?=\w)/g,"-"),n(bc,/\b(?=\w)/g,"+"))}},values:function(bc){var M=bc||{};this["each"](function(bf){var bg=bf.name||bf.id,bd=bt(bf.value);if(/form/i.test(bf.tagName)){for(var be=0;be<bf.elements.length;be++){aj(bf.elements[be])["values"](M)}}else{if(bg&&(!/ox|io/i.test(bf.type)||bf.checked)){M[bg]=M[bg]==at?bd:ag(ay,[M[bg],bd],aM)}}});return M},offset:function(){var bc=this[0];var M={x:0,y:0};while(bc){M.x+=bc.offsetLeft;M.y+=bc.offsetTop;bc=bc.offsetParent}return M},on:aY,onOver:function(bc,be){var M=this,bd=[];if(an(be)){return this["on"](bc,"|mouseover |mouseout",function(bi,bh){var bg=bi.relatedTarget||bi.toElement;var bf=bi.type!="mouseout";if(bd[bh]!==bf){if(bf||(!bg)||(bg!=M[bh]&&!aj(bg)["up"](M[bh]).length)){bd[bh]=bf;be.call(this,bf,bi)}}})}else{return this["onOver"](at,bc)}},onFocus:function(bd,M,bc){if(an(M)){return this["on"](bd,"|blur",M,[false],bc)["on"](bd,"|focus",M,[true],bc)}else{return this["onFocus"](at,bd,M)}},onChange:function aD(bc,bd,M){if(an(bd)){return this["on"](bc,"|input |change |click",function(bg,bf){var bh=this[0];var be=/ox|io/i.test(bh.type)?bh.checked:bh.value;if(bh[al]!=be){bd.call(this,bh[al]=be,bf)}},M)}else{return this["onChange"](at,bc,bd)}},onClick:function(bc,be,bd,M){if(an(be)){return this["on"](bc,"click",be,bd,M)}else{return this["onClick"](at,bc,be,bd)}},trigger:function(M,bc){return this["each"](function(be,bd){var bg=true,bf=be;while(bf&&bg){ao(bf.M,function(bi,bh){bg=bg&&bh(M,bc,be)});bf=bf.parentNode}})},per:function(bc,M){if(an(bc)){for(var bd=this.length,be=0;be<bd;be++){bc.call(this,new A(at,this[be]),be)}}else{aj(bc,this)["per"](M)}return this},ht:function(bc,bd){var M=arguments.length>2?bs(aE(arguments,1)):bd;return this["set"]("innerHTML",an(bc)?bc(M):/{{/.test(bc)?aF(bc,M):/^#\S+$/.test(bc)?aF(N(bc)["text"],M):bc)}},A.prototype);aL({request:function(M,bd,bi,bj){var bh=bj||{};var bl,bc=0,bg=bq(),bf=bi&&(bi.constructor==bh.constructor);try{bg.xhr=bl=new XMLHttpRequest();bg.stop0=function(){bl.abort()};if(bf){bi=ag(ao,bi,function be(bm,bn){return ag(ay,bn,function(bo){return encodeURIComponent(bm)+((bo!=at)?"="+encodeURIComponent(bo):"")})}).join("&")}if(bi!=at&&!/post/i.test(M)){bd+="?"+bi;bi=at}bl.open(M,bd,true,bh.user,bh.pass);if(bf&&/post/i.test(M)){bl.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}ao(bh.headers,function(bm,bn){bl.setRequestHeader(bm,bn)});ao(bh.xhr,function(bm,bn){bl[bm]=bn});bl.onreadystatechange=function(){if(bl.readyState==4&&!bc++){if(bl.status>=200&&bl.status<300){bg.fire(true,[bl.responseText,bl])}else{bg.fire(false,[bl.status,bl.responseText,bl])}}};bl.send(bi)}catch(bk){if(!bc){bg.fire(false,[0,at,bt(bk)])}}return bg},toJSON:JSON.stringify,parseJSON:JSON.parse,ready:a,loop:function(bh){var bc;var bg=0;var M=aQ++;var be=K.requestAnimationFrame||function(bi){setTimeout(function(){bi(+new Date())},33)};function bd(bi){ao(x,function(bk,bj){bj(bi)});if(aC){be(bd)}}function bf(){if(x[M]){delete x[M];aC--}return bg}x[M]=function(bi){bc=bc||bi;bh(bg=bi-bc,bf)};if(!(aC++)){be(bd)}return bf},off:a0,setCookie:function(be,M,bd,bc){document.cookie=be+"="+(bc?M:escape(M))+(bd?("; expires="+(aO(bd)?bd:new Date((+new Date())+bd*86400000)).toUTCString()):"")},getCookie:function(be,bc){var M,bd=(M=new RegExp("(^|;)\\s*"+be+"=([^;]*)").exec(document.cookie))&&M[2];return bc?bd:bd&&unescape(bd)},wait:function(be,bd){var M=bq();var bc=setTimeout(function(){M.fire(true,bd)},be);M.stop0=function(){M.fire(false);clearTimeout(bc)};return M}},aj);aL({filter:B(aN),collect:B(ba),map:B(a7),sub:B(aE),reverse:F,each:V,toObject:L,find:aU,findLast:aB,contains:u,startsWith:aa,endsWith:J,equals:aT,call:B(av),array:aJ,unite:am,merge:bs,uniq:B(R),intersection:B(Y),keys:B(aW),values:B(function(bc,bd){var M=[];if(bd){V(bd,function(be){M.push(bc[be])})}else{ao(bc,function(be,bf){M.push(bf)})}return M}),copyObj:aL,extend:function(M){return bs(aE(arguments,1),M)},range:function(bc,bd){var bf=[],M=(bd==at)?bc:bd;for(var be=(bd!=at)?bc:0;be<M;be++){bf.push(be)}return new A(bf)},bind:b,partial:W,eachObj:ao,mapObj:function(bc,M,be){var bd={};ao(bc,function(bf,bg){bd[bf]=M.call(be||bc,bf,bg)});return bd},filterObj:function(bc,M,bd){var be={};ao(bc,function(bf,bg){if(M.call(bd||bc,bf,bg)){be[bf]=bg}});return be},isList:ae,isFunction:an,isObject:aO,isNumber:a2,isBool:aV,isDate:O,isValue:a9,isString:k,toString:bt,dateClone:z,dateAdd:aH,dateDiff:ar,dateMidnight:aS,pad:ax,formatValue:r,parseDate:C,parseNumber:w,trim:aq,isEmpty:function(bc,M){return bc==at||!bc.length||(M&&/^\s*$/.test(bc))},escapeRegExp:j,escapeHtml:bb,format:function(M,bd,bc){return aZ(M,bc)(bd)},template:aZ,formatHtml:aF,promise:bq},t);document.addEventListener("DOMContentLoaded",function(){av(aw);aw=at},false);return{HTML:function(){var M=a3("div");return t(a4(M.ht,M,arguments)[0].childNodes)},_:t,"$":aj,"$$":N,EE:a3,M:A,getter:a1,setter:aP}};MINI=MINIFIED();_=MINI._,$=MINI.$,$$=MINI.$$,EE=MINI.EE,HTML=MINI.HTML;(function(){function ac(at){return"function"==typeof at||"object"==typeof at&&null!==at}function F(at){return"function"==typeof at}function al(at){return"object"==typeof at&&null!==at}function D(at){s=at}function A(at){u=at}function ag(){return function(){process.nextTick(aj)}}function E(){return function(){aa(aj)}}function an(){var at=0,au=new g(aj),av=document.createTextNode("");return au.observe(av,{characterData:!0}),function(){av.data=at=++at%2}}function G(){var at=new MessageChannel;return at.port1.onmessage=aj,function(){at.port2.postMessage(0)}}function aq(){return function(){setTimeout(aj,1)}}function aj(){for(var at=0;N>at;at+=2){var au=w[at],av=w[at+1];au(av),w[at]=void 0,w[at+1]=void 0}N=0}function ad(){try{var at=require,au=at("vertx");return aa=au.runOnLoop||au.runOnContext,E()}catch(av){return aq()}}function B(){}function af(){return new TypeError("You cannot resolve a promise with itself")}function ae(){return new TypeError("A promises callback cannot return that same promise.")}function ak(at){try{return at.then}catch(au){return v.error=au,v}}function ar(ax,au,av,at){try{ax.call(au,av,at)}catch(aw){return aw}}function H(at,au,av){u(function(ax){var ay=!1,aw=ar(av,au,function(az){ay||(ay=!0,au!==az?J(ax,az):X(ax,az))},function(az){ay||(ay=!0,a(ax,az))},"Settle: "+(ax._label||" unknown promise"));!ay&&aw&&(ay=!0,a(ax,aw))},at)}function am(at,au){au._state===o?X(at,au._result):au._state===ao?a(at,au._result):Z(au,void 0,function(av){J(at,av)},function(av){a(at,av)})}function M(at,av){if(av.constructor===at.constructor){am(at,av)}else{var au=ak(av);au===v?a(at,v.error):void 0===au?X(at,av):F(au)?H(at,av,au):X(at,av)}}function J(au,at){au===at?a(au,af()):ac(at)?M(au,at):X(au,at)}function ap(at){at._onerror&&at._onerror(at._result),m(at)}function X(at,au){at._state===h&&(at._result=au,at._state=o,0!==at._subscribers.length&&u(m,at))}function a(at,au){at._state===h&&(at._state=ao,at._result=au,u(ap,at))}function Z(ax,at,av,ay){var aw=ax._subscribers,au=aw.length;ax._onerror=null,aw[au]=at,aw[au+o]=av,aw[au+ao]=ay,0===au&&ax._state&&u(m,ax)}function m(ax){var at=ax._subscribers,av=ax._state;if(0!==at.length){for(var ay,aw,au=ax._result,az=0;az<at.length;az+=3){ay=at[az],aw=at[az+av],ay?l(av,ay,aw,au):aw(au)}ax._subscribers.length=0}}function q(){this.error=null}function j(at,au){try{return at(au)}catch(av){return z.error=av,z}}function l(ax,az,aB,aA){var ay,at,av,au,aw=F(aB);if(aw){if(ay=j(aB,aA),ay===z?(au=!0,at=ay.error,ay=null):av=!0,az===ay){return void a(az,ae())}}else{ay=aA,av=!0}az._state!==h||(aw&&av?J(az,ay):au?a(az,at):ax===o?X(az,ay):ax===ao&&a(az,ay))}function k(at,au){try{au(function(aw){J(at,aw)},function(aw){a(at,aw)})}catch(av){a(at,av)}}function ai(at,au){var av=this;av._instanceConstructor=at,av.promise=new at(B),av._validateInput(au)?(av._input=au,av.length=au.length,av._remaining=au.length,av._init(),0===av.length?X(av.promise,av._result):(av.length=av.length||0,av._enumerate(),0===av._remaining&&X(av.promise,av._result))):a(av.promise,av._validationError())}function n(at){return new L(this,at).promise}function K(ax){function at(aA){J(aw,aA)}function av(aA){a(aw,aA)}var ay=this,aw=new ay(B);if(!f(ax)){return a(aw,new TypeError("You must pass an array to race.")),aw}for(var au=ax.length,az=0;aw._state===h&&au>az;az++){Z(ay.resolve(ax[az]),void 0,at,av)}return aw}function p(at){var au=this;if(at&&"object"==typeof at&&at.constructor===au){return at}var av=new au(B);return J(av,at),av}function r(at){var au=this,av=new au(B);return a(av,at),av}function ah(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function b(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function c(at){this._id=I++,this._state=void 0,this._result=void 0,this._subscribers=[],B!==at&&(F(at)||ah(),this instanceof c||b(),k(this,at))}function Y(){var at;if("undefined"!=typeof global){at=global}else{if("undefined"!=typeof self){at=self}else{try{at=Function("return this")()}catch(au){throw new Error("polyfill failed because global object is unavailable in this environment")}}}var av=at.Promise;(!av||"[object Promise]"!==Object.prototype.toString.call(av.resolve())||av.cast)&&(at.Promise=U)}var V;V=Array.isArray?Array.isArray:function(at){return"[object Array]"===Object.prototype.toString.call(at)};var aa,s,C,f=V,N=0,u=({}.toString,function(at,au){w[N]=at,w[N+1]=au,N+=2,2===N&&(s?s(aj):C())}),y="undefined"!=typeof window?window:void 0,e=y||{},g=e.MutationObserver||e.WebKitMutationObserver,t="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),x="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,w=new Array(1000);C=t?ag():g?an():x?G():void 0===y&&"function"==typeof require?ad():aq();var h=void 0,o=1,ao=2,v=new q,z=new q;ai.prototype._validateInput=function(at){return f(at)},ai.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},ai.prototype._init=function(){this._result=new Array(this.length)};var L=ai;ai.prototype._enumerate=function(){for(var ax=this,au=ax.length,av=ax.promise,at=ax._input,aw=0;av._state===h&&au>aw;aw++){ax._eachEntry(at[aw],aw)}},ai.prototype._eachEntry=function(aw,au){var at=this,av=at._instanceConstructor;al(aw)?aw.constructor===av&&aw._state!==h?(aw._onerror=null,at._settledAt(aw._state,au,aw._result)):at._willSettleAt(av.resolve(aw),au):(at._remaining--,at._result[au]=aw)},ai.prototype._settledAt=function(ax,au,av){var at=this,aw=at.promise;aw._state===h&&(at._remaining--,ax===ao?a(aw,av):at._result[au]=av),0===at._remaining&&X(aw,at._result)},ai.prototype._willSettleAt=function(at,au){var av=this;Z(at,void 0,function(aw){av._settledAt(o,au,aw)},function(aw){av._settledAt(ao,au,aw)})};var O=n,R=K,W=p,ab=r,I=0,U=c;c.all=O,c.race=R,c.resolve=W,c.reject=ab,c._setScheduler=D,c._setAsap=A,c._asap=u,c.prototype={constructor:c,then:function(ax,at){var av=this,ay=av._state;if(ay===o&&!ax||ay===ao&&!at){return this}var aw=new this.constructor(B),au=av._result;if(ay){var az=arguments[ay-1];u(function(){l(ay,aw,az,au)})}else{Z(av,aw,ax,at)}return aw},"catch":function(at){return this.then(null,at)}};var Q=Y,S={Promise:U,polyfill:Q};"function"==typeof define&&define.amd?define(function(){return S}):"undefined"!=typeof module&&module.exports?module.exports=S:"undefined"!=typeof this&&(this.ES6Promise=S),Q()}).call(this),"undefined"==typeof Promise&&ES6Promise.polyfill(),Function.prototype.bind||(Function.prototype.bind=function(k){if("function"!=typeof this){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var g=Array.prototype.slice.call(arguments,1),h=this,e=function(){},j=function(){return h.apply(this instanceof e&&k?this:k,g.concat(Array.prototype.slice.call(arguments)))};return e.prototype=this.prototype,j.prototype=new e,j}),Array.prototype.map||(Array.prototype.map=function(o,e){if(void 0===this||null===this){throw new TypeError("this is null or not defined")}var q,s=Object(this),r=s.length>>>0;if("function"!=typeof o){throw new TypeError(o+" is not a function")}arguments.length>1&&(q=e);for(var p=new Array(r),a=0;r>a;){var n,m;a in s&&(n=s[a],m=o.call(q,n,a,s),p[a]=m),a++}return p}),Array.prototype.filter||(Array.prototype.filter=function(m){if(void 0===this||null===this){throw new TypeError("this is null or not defined")}var e=Object(this),k=e.length>>>0;if("function"!=typeof m){throw new TypeError(m+" is not a function")}for(var n=[],l=arguments.length>=2?arguments[1]:void 0,j=0;k>j;j++){if(j in e){var o=e[j];m.call(l,o,j,e)&&n.push(o)}}return n}),Array.prototype.forEach||(Array.prototype.forEach=function(m,e){var k,n;if(null===this||void 0===this){throw new TypeError(" this is null or not defined")}var l=Object(this),j=l.length>>>0;if("function"!=typeof m){throw new TypeError(m+" is not a function")}for(arguments.length>1&&(k=e),n=0;j>n;){var o;n in l&&(o=l[n],m.call(k,o,n,l)),n++}}),!function(c,e){"function"==typeof define&&define.amd?define("stackframe",[],e):"object"==typeof exports?module.exports=e():c.StackFrame=e()}(this,function(){function c(a){return !isNaN(parseFloat(a))&&isFinite(a)}function e(k,m,a,l,b,n){void 0!==k&&this.setFunctionName(k),void 0!==m&&this.setArgs(m),void 0!==a&&this.setFileName(a),void 0!==l&&this.setLineNumber(l),void 0!==b&&this.setColumnNumber(b),void 0!==n&&this.setSource(n)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(a){this.functionName=String(a)},getArgs:function(){return this.args},setArgs:function(a){if("[object Array]"!==Object.prototype.toString.call(a)){throw new TypeError("Args must be an Array")}this.args=a},getFileName:function(){return this.fileName},setFileName:function(a){this.fileName=String(a)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(a){if(!c(a)){throw new TypeError("Line Number must be a Number")}this.lineNumber=Number(a)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(a){if(!c(a)){throw new TypeError("Column Number must be a Number")}this.columnNumber=Number(a)},getSource:function(){return this.source},setSource:function(a){this.source=String(a)},toString:function(){var j=this.getFunctionName()||"{anonymous}",a="("+(this.getArgs()||[]).join(",")+")",h=this.getFileName()?"@"+this.getFileName():"",b=c(this.getLineNumber())?":"+this.getLineNumber():"",k=c(this.getColumnNumber())?":"+this.getColumnNumber():"";return j+a+h+b+k}},e});var SourceMap=function(e){function f(b){if(g[b]){return g[b].exports}var a=g[b]={exports:{},id:b,loaded:!1};return e[b].call(a.exports,a,a.exports,f),a.loaded=!0,a.exports}var g={};return f.m=e,f.c=g,f.p="",f(0)}([function(e,u,o){function s(g){var b=g;return"string"==typeof g&&(b=JSON.parse(g.replace(/^\)\]\}'/,""))),null!=b.sections?new t(b):new r(b)}function r(j){var g=j;"string"==typeof j&&(g=JSON.parse(j.replace(/^\)\]\}'/,"")));var k=a.getArg(g,"version"),v=a.getArg(g,"sources"),m=a.getArg(g,"names",[]),p=a.getArg(g,"sourceRoot",null),b=a.getArg(g,"sourcesContent",null),h=a.getArg(g,"mappings"),q=a.getArg(g,"file",null);if(k!=this._version){throw new Error("Unsupported version: "+k)}v=v.map(a.normalize).map(function(w){return p&&a.isAbsolute(p)&&a.isAbsolute(w)?a.relative(p,w):w}),this._names=c.fromArray(m,!0),this._sources=c.fromArray(v,!0),this.sourceRoot=p,this.sourcesContent=b,this._mappings=h,this.file=q}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function t(j){var k=j;"string"==typeof j&&(k=JSON.parse(j.replace(/^\)\]\}'/,"")));var h=a.getArg(k,"version"),g=a.getArg(k,"sections");if(h!=this._version){throw new Error("Unsupported version: "+h)}this._sources=new c,this._names=new c;var b={line:-1,column:0};this._sections=g.map(function(q){if(q.url){throw new Error("Support for url field in sections not implemented.")}var p=a.getArg(q,"offset"),v=a.getArg(p,"line"),m=a.getArg(p,"column");if(v<b.line||v===b.line&&m<b.column){throw new Error("Section offsets must be ordered and non-overlapping.")}return b=p,{generatedOffset:{generatedLine:v+1,generatedColumn:m+1},consumer:new s(a.getArg(q,"map"))}})}var a=o(1),y=o(2),c=o(3).ArraySet,n=o(4),f=o(6).quickSort;s.fromSourceMap=function(b){return r.fromSourceMap(b)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(h,b){var g=h.charAt(b);return";"===g||","===g},s.prototype._parseMappings=function(g,b){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(h,j,k){var p,m=j||null,g=k||s.GENERATED_ORDER;switch(g){case s.GENERATED_ORDER:p=this._generatedMappings;break;case s.ORIGINAL_ORDER:p=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var b=this.sourceRoot;p.map(function(v){var q=null===v.source?null:this._sources.at(v.source);return null!=q&&null!=b&&(q=a.join(b,q)),{source:q,generatedLine:v.generatedLine,generatedColumn:v.generatedColumn,originalLine:v.originalLine,originalColumn:v.originalColumn,name:null===v.name?null:this._names.at(v.name)}},this).forEach(h,m)},s.prototype.allGeneratedPositionsFor=function(q){var k=a.getArg(q,"line"),p={source:a.getArg(q,"source"),originalLine:k,originalColumn:a.getArg(q,"column",0)};if(null!=this.sourceRoot&&(p.source=a.relative(this.sourceRoot,p.source)),!this._sources.has(p.source)){return[]}p.source=this._sources.indexOf(p.source);var j=[],m=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,y.LEAST_UPPER_BOUND);if(m>=0){var h=this._originalMappings[m];if(void 0===q.column){for(var g=h.originalLine;h&&h.originalLine===g;){j.push({line:a.getArg(h,"generatedLine",null),column:a.getArg(h,"generatedColumn",null),lastColumn:a.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++m]}}else{for(var b=h.originalColumn;h&&h.originalLine===k&&h.originalColumn==b;){j.push({line:a.getArg(h,"generatedLine",null),column:a.getArg(h,"generatedColumn",null),lastColumn:a.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++m]}}}return j},u.SourceMapConsumer=s,r.prototype=Object.create(s.prototype),r.prototype.consumer=s,r.fromSourceMap=function(k){var g=Object.create(r.prototype),p=g._names=c.fromArray(k._names.toArray(),!0),x=g._sources=c.fromArray(k._sources.toArray(),!0);g.sourceRoot=k._sourceRoot,g.sourcesContent=k._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=k._file;for(var b=k._mappings.toArray().slice(),h=g.__generatedMappings=[],j=g.__originalMappings=[],v=0,w=b.length;w>v;v++){var q=b[v],m=new l;m.generatedLine=q.generatedLine,m.generatedColumn=q.generatedColumn,q.source&&(m.source=x.indexOf(q.source),m.originalLine=q.originalLine,m.originalColumn=q.originalColumn,q.name&&(m.name=p.indexOf(q.name)),j.push(m)),h.push(m)}return f(g.__originalMappings,a.compareByOriginalPositions),g},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._sources.toArray().map(function(b){return null!=this.sourceRoot?a.join(this.sourceRoot,b):b},this)}}),r.prototype._parseMappings=function(k,m){for(var w,R,x,S,U,h=1,A=0,q=0,p=0,v=0,j=0,V=k.length,b=0,X={},W={},g=[],Q=[];V>b;){if(";"===k.charAt(b)){h++,b++,A=0}else{if(","===k.charAt(b)){b++}else{for(w=new l,w.generatedLine=h,S=b;V>S&&!this._charIsMappingSeparator(k,S);S++){}if(R=k.slice(b,S),x=X[R]){b+=R.length}else{for(x=[];S>b;){n.decode(k,b,W),U=W.value,b=W.rest,x.push(U)}if(2===x.length){throw new Error("Found a source, but no line and column")}if(3===x.length){throw new Error("Found a source and line, but no column")}X[R]=x}w.generatedColumn=A+x[0],A=w.generatedColumn,x.length>1&&(w.source=v+x[1],v+=x[1],w.originalLine=q+x[2],q=w.originalLine,w.originalLine+=1,w.originalColumn=p+x[3],p=w.originalColumn,x.length>4&&(w.name=j+x[4],j+=x[4])),Q.push(w),"number"==typeof w.originalLine&&g.push(w)}}}f(Q,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=Q,f(g,a.compareByOriginalPositions),this.__originalMappings=g},r.prototype._findMapping=function(g,m,h,k,j,b){if(g[h]<=0){throw new TypeError("Line must be greater than or equal to 1, got "+g[h])}if(g[k]<0){throw new TypeError("Column must be greater than or equal to 0, got "+g[k])}return y.search(g,m,j,b)},r.prototype.computeColumnSpans=function(){for(var h=0;h<this._generatedMappings.length;++h){var b=this._generatedMappings[h];if(h+1<this._generatedMappings.length){var g=this._generatedMappings[h+1];if(b.generatedLine===g.generatedLine){b.lastGeneratedColumn=g.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}},r.prototype.originalPositionFor=function(g){var m={generatedLine:a.getArg(g,"line"),generatedColumn:a.getArg(g,"column")},h=this._findMapping(m,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(g,"bias",s.GREATEST_LOWER_BOUND));if(h>=0){var j=this._generatedMappings[h];if(j.generatedLine===m.generatedLine){var b=a.getArg(j,"source",null);null!==b&&(b=this._sources.at(b),null!=this.sourceRoot&&(b=a.join(this.sourceRoot,b)));var k=a.getArg(j,"name",null);return null!==k&&(k=this._names.at(k)),{source:b,line:a.getArg(j,"originalLine",null),column:a.getArg(j,"originalColumn",null),name:k}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(b){return null==b}):!1},r.prototype.sourceContentFor=function(h,b){if(!this.sourcesContent){return null}if(null!=this.sourceRoot&&(h=a.relative(this.sourceRoot,h)),this._sources.has(h)){return this.sourcesContent[this._sources.indexOf(h)]}var g;if(null!=this.sourceRoot&&(g=a.urlParse(this.sourceRoot))){var j=h.replace(/^file:\/\//,"");if("file"==g.scheme&&this._sources.has(j)){return this.sourcesContent[this._sources.indexOf(j)]}if((!g.path||"/"==g.path)&&this._sources.has("/"+h)){return this.sourcesContent[this._sources.indexOf("/"+h)]}}if(b){return null}throw new Error('"'+h+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(j){var k=a.getArg(j,"source");if(null!=this.sourceRoot&&(k=a.relative(this.sourceRoot,k)),!this._sources.has(k)){return{line:null,column:null,lastColumn:null}}k=this._sources.indexOf(k);var h={source:k,originalLine:a.getArg(j,"line"),originalColumn:a.getArg(j,"column")},g=this._findMapping(h,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(j,"bias",s.GREATEST_LOWER_BOUND));if(g>=0){var b=this._originalMappings[g];if(b.source===h.source){return{line:a.getArg(b,"generatedLine",null),column:a.getArg(b,"generatedColumn",null),lastColumn:a.getArg(b,"lastGeneratedColumn",null)}}}return{line:null,column:null,lastColumn:null}},u.BasicSourceMapConsumer=r,t.prototype=Object.create(s.prototype),t.prototype.constructor=s,t.prototype._version=3,Object.defineProperty(t.prototype,"sources",{get:function(){for(var h=[],b=0;b<this._sections.length;b++){for(var g=0;g<this._sections[b].consumer.sources.length;g++){h.push(this._sections[b].consumer.sources[g])}}return h}}),t.prototype.originalPositionFor=function(h){var b={generatedLine:a.getArg(h,"line"),generatedColumn:a.getArg(h,"column")},g=y.search(b,this._sections,function(p,k){var m=p.generatedLine-k.generatedOffset.generatedLine;return m?m:p.generatedColumn-k.generatedOffset.generatedColumn}),j=this._sections[g];return j?j.consumer.originalPositionFor({line:b.generatedLine-(j.generatedOffset.generatedLine-1),column:b.generatedColumn-(j.generatedOffset.generatedLine===b.generatedLine?j.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}},t.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(b){return b.consumer.hasContentsOfAllSources()})},t.prototype.sourceContentFor=function(j,g){for(var b=0;b<this._sections.length;b++){var k=this._sections[b],h=k.consumer.sourceContentFor(j,!0);if(h){return h}}if(g){return null}throw new Error('"'+j+'" is not in the SourceMap.')},t.prototype.generatedPositionFor=function(j){for(var g=0;g<this._sections.length;g++){var b=this._sections[g];if(-1!==b.consumer.sources.indexOf(a.getArg(j,"source"))){var k=b.consumer.generatedPositionFor(j);if(k){var h={line:k.line+(b.generatedOffset.generatedLine-1),column:k.column+(b.generatedOffset.generatedLine===k.line?b.generatedOffset.generatedColumn-1:0)};return h}}}return{line:null,column:null}},t.prototype._parseMappings=function(h,w){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++){for(var q=this._sections[p],k=q.consumer._generatedMappings,j=0;j<k.length;j++){var v=k[p],b=q.consumer._sources.at(v.source);null!==q.consumer.sourceRoot&&(b=a.join(q.consumer.sourceRoot,b)),this._sources.add(b),b=this._sources.indexOf(b);var g=q.consumer._names.at(v.name);this._names.add(g),g=this._names.indexOf(g);var m={source:b,generatedLine:v.generatedLine+(q.generatedOffset.generatedLine-1),generatedColumn:v.column+(q.generatedOffset.generatedLine===v.generatedLine)?q.generatedOffset.generatedColumn-1:0,originalLine:v.originalLine,originalColumn:v.originalColumn,name:g};this.__generatedMappings.push(m),"number"==typeof m.originalLine&&this.__originalMappings.push(m)}}f(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),f(this.__originalMappings,a.compareByOriginalPositions)},u.IndexedSourceMapConsumer=t},function(g,G){function h(k,b,j){if(b in k){return k[b]}if(3===arguments.length){return j}throw new Error('"'+b+'" is a required argument.')}function p(j){var b=j.match(o);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function l(j){var b="";return j.scheme&&(b+=j.scheme+":"),b+="//",j.auth&&(b+=j.auth+"@"),j.host&&(b+=j.host),j.port&&(b+=":"+j.port),j.path&&(b+=j.path),b}function s(x){var j=x,b=p(x);if(b){if(!b.path){return x}j=b.path}for(var y,v=G.isAbsolute(j),k=j.split(/\/+/),q=0,w=k.length-1;w>=0;w--){y=k[w],"."===y?k.splice(w,1):".."===y?q++:q>0&&(""===y?(k.splice(w+1,q),q=0):(k.splice(w,2),q--))}return j=k.join("/"),""===j&&(j=v?"/":"."),b?(b.path=j,l(b)):j}function u(j,q){""===j&&(j="."),""===q&&(q=".");var b=p(q),k=p(j);if(k&&(j=k.path||"/"),b&&!b.scheme){return k&&(b.scheme=k.scheme),l(b)}if(b||q.match(c)){return q}if(k&&!k.host&&!k.path){return k.host=q,l(k)}var v="/"===q.charAt(0)?q:s(j.replace(/\/+$/,"")+"/"+q);return k?(k.path=v,l(k)):v}function e(k,b){""===k&&(k="."),k=k.replace(/\/$/,"");for(var j=0;0!==b.indexOf(k+"/");){var q=k.lastIndexOf("/");if(0>q){return b}if(k=k.slice(0,q),k.match(/^([^\/]+:\/)?\/*$/)){return b}++j}return Array(j+1).join("../")+b.substr(k.length+1)}function a(b){return"$"+b}function f(b){return b.substr(1)}function t(k,b,j){var q=k.source-b.source;return 0!==q?q:(q=k.originalLine-b.originalLine,0!==q?q:(q=k.originalColumn-b.originalColumn,0!==q||j?q:(q=k.generatedColumn-b.generatedColumn,0!==q?q:(q=k.generatedLine-b.generatedLine,0!==q?q:k.name-b.name))))}function n(k,b,j){var q=k.generatedLine-b.generatedLine;return 0!==q?q:(q=k.generatedColumn-b.generatedColumn,0!==q||j?q:(q=k.source-b.source,0!==q?q:(q=k.originalLine-b.originalLine,0!==q?q:(q=k.originalColumn-b.originalColumn,0!==q?q:k.name-b.name))))}function m(j,b){return j===b?0:j>b?1:-1}function r(k,b){var j=k.generatedLine-b.generatedLine;return 0!==j?j:(j=k.generatedColumn-b.generatedColumn,0!==j?j:(j=m(k.source,b.source),0!==j?j:(j=k.originalLine-b.originalLine,0!==j?j:(j=k.originalColumn-b.originalColumn,0!==j?j:m(k.name,b.name)))))}G.getArg=h;var o=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,c=/^data:.+\,.+$/;G.urlParse=p,G.urlGenerate=l,G.normalize=s,G.join=u,G.isAbsolute=function(b){return"/"===b.charAt(0)||!!b.match(o)},G.relative=e,G.toSetString=a,G.fromSetString=f,G.compareByOriginalPositions=t,G.compareByGeneratedPositionsDeflated=n,G.compareByGeneratedPositionsInflated=r},function(e,f){function g(c,n,b,p,o,r){var q=Math.floor((n-c)/2)+c,a=o(b,p[q],!0);return 0===a?q:a>0?n-q>1?g(q,n,b,p,o,r):r==f.LEAST_UPPER_BOUND?n<p.length?n:-1:q:q-c>1?g(c,q,b,p,o,r):r==f.LEAST_UPPER_BOUND?q:0>c?-1:c}f.GREATEST_LOWER_BOUND=1,f.LEAST_UPPER_BOUND=2,f.search=function(b,c,a,l){if(0===c.length){return -1}var k=g(-1,c.length,b,c,a,l||f.GREATEST_LOWER_BOUND);if(0>k){return -1}for(;k-1>=0&&0===a(c[k],c[k-1],!0);){--k}return k}},function(k,g,h){function e(){this._array=[],this._set={}}var j=h(1);e.fromArray=function(c,f){for(var a=new e,b=0,m=c.length;m>b;b++){a.add(c[b],f)}return a},e.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},e.prototype.add=function(b,f){var a=j.toSetString(b),c=this._set.hasOwnProperty(a),m=this._array.length;(!c||f)&&this._array.push(b),c||(this._set[a]=m)},e.prototype.has=function(a){var b=j.toSetString(a);return this._set.hasOwnProperty(b)},e.prototype.indexOf=function(a){var b=j.toSetString(a);if(this._set.hasOwnProperty(b)){return this._set[b]}throw new Error('"'+a+'" is not in the set.')},e.prototype.at=function(a){if(a>=0&&a<this._array.length){return this._array[a]}throw new Error("No element indexed by "+a)},e.prototype.toArray=function(){return this._array.slice()},g.ArraySet=e},function(q,c,s){function u(b){return 0>b?(-b<<1)+1:(b<<1)+0}function t(g){var b=1===(1&g),f=g>>1;return b?-f:f}var r=s(5),a=5,n=1<<a,e=n-1,o=n;c.encode=function(h){var b,g="",f=u(h);do{b=f&e,f>>>=a,f>0&&(b|=o),g+=r.encode(b)}while(f>0);return g},c.decode=function(f,l,b){var k,h,m=f.length,j=0,g=0;do{if(l>=m){throw new Error("Expected more digits in base 64 VLQ value.")}if(h=r.decode(f.charCodeAt(l++)),-1===h){throw new Error("Invalid base64 digit: "+f.charAt(l-1))}k=!!(h&o),h&=e,j+=h<<g,g+=a}while(k);b.value=t(j),b.rest=l}},function(e,f){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");f.encode=function(a){if(a>=0&&a<g.length){return g[a]}throw new TypeError("Must be between 0 and 63: "+a)},f.decode=function(l){var x=65,r=90,t=97,s=122,n=48,u=57,b=43,a=47,c=26,o=52;return l>=x&&r>=l?l-x:l>=t&&s>=l?l-t+c:l>=n&&u>=l?l-n+o:l==b?62:l==a?63:-1}},function(k,g){function h(b,f,a){var c=b[f];b[f]=b[a],b[a]=c}function e(a,b){return Math.round(a+Math.random()*(b-a))}function j(r,b,t,a){if(a>t){var f=e(t,a),c=t-1;h(r,f,a);for(var l=r[a],u=t;a>u;u++){b(r[u],l)<=0&&(c+=1,h(r,c,u))}h(r,c+1,u);var s=c+1;j(r,b,t,s-1),j(r,b,s+1,a)}}g.quickSort=function(a,b){j(a,b,0,a.length-1)}}]);!function(c,e){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],e):"object"==typeof exports?module.exports=e(require("source-map/lib/source-map-consumer"),require("stackframe")):c.StackTraceGPS=e(c.SourceMap,c.StackFrame)}(this,function(o,e){function q(b,c,g){var f=new XMLHttpRequest;f.open("get",b),f.onerror=g,f.onreadystatechange=function(){if(4===f.readyState){if(f.status>=200&&f.status<400){return c(f.responseText)}g(new Error("Unable to retrieve "+b))}},f.send()}function s(h,I,u){for(var j,G,l,H=/function\s+([^(]*?)\s*\(([^)]*)\)/,f=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,b=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,g=h.split("\n"),t="",k=Math.min(I,20),c=0;k>c;++c){if(j=g[I-c-1],l=j.indexOf("//"),l>=0&&(j=j.substr(0,l)),j){if(t=j+t,G=f.exec(t),G&&G[1]){return G[1]}if(G=H.exec(t),G&&G[1]){return G[1]}if(G=b.exec(t),G&&G[1]){return G[1]}}}return void 0}function r(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create){throw new Error("Unable to consume source maps in older browsers")}}function p(b){if("object"!=typeof b){throw new TypeError("Given StackFrame is not an object")}if("string"!=typeof b.fileName){throw new TypeError("Given file name is not a String")}if("number"!=typeof b.lineNumber||b.lineNumber%1!==0||b.lineNumber<1){throw new TypeError("Given line number must be a positive integer")}if("number"!=typeof b.columnNumber||b.columnNumber%1!==0||b.columnNumber<0){throw new TypeError("Given column number must be a non-negative integer")}return !0}function a(c){var b=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(c);if(b&&b[1]){return b[1]}throw new Error("sourceMappingURL not found")}function n(c,h,g,l,j){var k=new o.SourceMapConsumer(c),b=k.originalPositionFor({line:g,column:l}),f=k.sourceContentFor(b.source);return f&&(j[b.source]=f),new e(b.name,h,b.source,b.line,b.column)}return function m(b){return this instanceof m?(b=b||{},this.sourceCache=b.sourceCache||{},this.ajax=q,this._atob=function(c){if(window&&window.atob){return window.atob(c)}if("undefined"!=typeof Buffer){return new Buffer(c,"base64").toString("utf-8")}throw new Error("No base64 decoder available")},this._get=function(c){return new Promise(function(g,j){var h="data:"===c.substr(0,5);if(this.sourceCache[c]){g(this.sourceCache[c])}else{if(b.offline&&!h){j(new Error("Cannot make network requests in offline mode"))}else{if(h){var l="application/json;base64";if(c.substr(5,l.length)!==l){j(new Error("The encoding of the inline sourcemap is not supported"))}else{var k="data:".length+l.length+",".length,f=c.substr(k),u=this._atob(f);this.sourceCache[c]=u,g(u)}}else{this.ajax(c,function(t){this.sourceCache[c]=t,g(t)}.bind(this),j)}}}}.bind(this))},this.pinpoint=function(c){return new Promise(function(g,f){this.getMappedLocation(c).then(function(j){function h(){g(j)}this.findFunctionName(j).then(g,h)["catch"](h)}.bind(this),f)}.bind(this))},this.findFunctionName=function(c){return new Promise(function(f,g){p(c),this._get(c.fileName).then(function(h){var j=s(h,c.lineNumber,c.columnNumber);f(new e(j,c.args,c.fileName,c.lineNumber,c.columnNumber))},g)}.bind(this))},void (this.getMappedLocation=function(c){return new Promise(function(f,h){r(),p(c);var j=this.sourceCache,g=c.fileName;this._get(g).then(function(l){var t=a(l),k="data:"===t.substr(0,5);"/"===t[0]||k||(t=g.substring(0,g.lastIndexOf("/")+1)+t),this._get(t).then(function(v){var w=c.lineNumber,x=c.columnNumber;f(n(v,c.args,w,x,j))},h)["catch"](h)}.bind(this),h)["catch"](h)}.bind(this))})):new m(b)}}),function(c,e){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],e):"object"==typeof exports?module.exports=e(require("stackframe")):c.StackGenerator=e(c.StackFrame)}(this,function(b){return{backtrace:function(m){var h=[],k=10;"object"==typeof m&&"number"==typeof m.maxStackSize&&(k=m.maxStackSize);for(var j=arguments.callee;j&&h.length<k;){var a=[].slice.call(j.arguments);/function(?:\s+([\w$]+))+\s*\(/.test(j.toString())?h.push(new b(RegExp.$1||void 0,a)):h.push(new b(void 0,a));try{j=j.caller}catch(l){break}}return h}}}),function(c,e){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],e):"object"==typeof exports?module.exports=e(require("stackframe")):c.ErrorStackParser=e(c.StackFrame)}(this,function(e){var f=/(^|@)\S+\:\d+/,g=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(a){if("undefined"!=typeof a.stacktrace||"undefined"!=typeof a["opera#sourceloc"]){return this.parseOpera(a)}if(a.stack&&a.stack.match(g)){return this.parseV8OrIE(a)}if(a.stack&&a.stack.match(f)){return this.parseFFOrSafari(a)}throw new Error("Cannot parse given Error object")},extractLocation:function(c){if(-1===c.indexOf(":")){return[c]}var k=c.replace(/[\(\)\s]/g,"").split(":"),a=k.pop(),j=k[k.length-1];if(!isNaN(parseFloat(j))&&isFinite(j)){var b=k.pop();return[k.join(":"),b,a]}return[k.join(":"),a,void 0]},parseV8OrIE:function(a){return a.stack.split("\n").filter(function(b){return !!b.match(g)},this).map(function(k){var b=k.replace(/^\s+/,"").split(/\s+/).slice(1),j=this.extractLocation(b.pop()),c=b[0]&&"Anonymous"!==b[0]?b[0]:void 0;return new e(c,void 0,j[0],j[1],j[2],k)},this)},parseFFOrSafari:function(a){return a.stack.split("\n").filter(function(b){return !!b.match(f)},this).map(function(k){var b=k.split("@"),j=this.extractLocation(b.pop()),c=b.shift()||void 0;return new e(c,void 0,j[0],j[1],j[2],k)},this)},parseOpera:function(a){return !a.stacktrace||a.message.indexOf("\n")>-1&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(m){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,c=m.message.split("\n"),b=[],n=2,l=c.length;l>n;n+=2){var o=a.exec(c[n]);o&&b.push(new e(void 0,void 0,o[2],o[1],void 0,c[n]))}return b},parseOpera10:function(m){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=m.stacktrace.split("\n"),b=[],n=0,l=c.length;l>n;n+=2){var o=a.exec(c[n]);o&&b.push(new e(o[3]||void 0,void 0,o[2],o[1],void 0,c[n]))}return b},parseOpera11:function(a){return a.stack.split("\n").filter(function(b){return !!b.match(f)&&!b.match(/^Error created at/)},this).map(function(o){var b,m=o.split("@"),c=this.extractLocation(m.pop()),p=m.shift()||"",n=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;p.match(/\(([^\)]*)\)/)&&(b=p.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var q=void 0===b||"[arguments not available]"===b?void 0:b.split(",");return new e(n,q,c[0],c[1],c[2],o)},this)}}}),function(c,e){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],e):"object"==typeof exports?module.exports=e(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):c.StackTrace=e(c.ErrorStackParser,c.StackGenerator,c.StackTraceGPS)}(this,function(l,e,j){function m(b,c){var a={};return[b,c].forEach(function(f){for(var g in f){f.hasOwnProperty(g)&&(a[g]=f[g])}return a}),a}function k(a){return a.stack||a["opera#sourceloc"]}var h={filter:function(a){return -1===(a.functionName||"").indexOf("StackTrace$$")&&-1===(a.functionName||"").indexOf("ErrorStackParser$$")&&-1===(a.functionName||"").indexOf("StackTraceGPS$$")&&-1===(a.functionName||"").indexOf("StackGenerator$$")}};return{get:function(a){try{throw new Error}catch(b){return k(b)?this.fromError(b,a):this.generateArtificially(a)}},fromError:function(b,a){return a=m(h,a),new Promise(function(c){var f=l.parse(b);"function"==typeof a.filter&&(f=f.filter(a.filter)),c(Promise.all(f.map(function(g){return new Promise(function(o){function n(p){o(g)}new j(a).pinpoint(g).then(o,n)["catch"](n)})})))}.bind(this))},generateArtificially:function(b){b=m(h,b);var a=e.backtrace(b);return"function"==typeof b.filter&&(a=a.filter(b.filter)),Promise.resolve(a)},instrument:function(b,f,a,c){if("function"!=typeof b){throw new Error("Cannot instrument non-function object")}if("function"==typeof b.__stacktraceOriginalFn){return b}var g=function(){try{this.get().then(f,a)["catch"](a),b.apply(c||this,arguments)}catch(n){throw k(n)&&this.fromError(n).then(f,a)["catch"](a),n}}.bind(this);return g.__stacktraceOriginalFn=b,g},deinstrument:function(a){if("function"!=typeof a){throw new Error("Cannot de-instrument non-function object")}return"function"==typeof a.__stacktraceOriginalFn?a.__stacktraceOriginalFn:a},report:function(a,b){return new Promise(function(c,g){var f=new XMLHttpRequest;f.onerror=g,f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<400?c(f.responseText):g(new Error("POST to "+b+" failed with status: "+f.status)))},f.open("post",b),f.setRequestHeader("Content-Type","application/json"),f.send({stack:a})})}}});(function(cm){function Y(){}function bE(a){if(!a||"object"!==typeof a){return !1}var b=b6(a)||bC;return/object|function/.test(typeof b.Element)?a instanceof b.Element:1===a.nodeType&&"string"===typeof a.nodeName}function aa(a){return a===bC||!(!a||!a.Window)&&a instanceof a.Window}function n(a){return bI(a)&&void 0!==typeof a.length&&ce(a.splice)}function bI(a){return !!a&&"object"===typeof a}function ce(a){return"function"===typeof a}function bT(a){return"number"===typeof a}function bO(a){return"boolean"===typeof a}function bW(a){return"string"===typeof a}function K(a){if(!bW(a)){return !1}b1.querySelector(a);return !0}function bH(a,b){for(var c in b){a[c]=b[c]}return a}function C(a,b){for(var c in b){var e=!1,f;for(f in bP){if(0===c.indexOf(f)&&bP[f].test(c)){e=!0;break}}e||(a[c]=b[c])}return a}function W(a,b){a.page=a.page||{};a.page.x=b.page.x;a.page.y=b.page.y;a.client=a.client||{};a.client.x=b.client.x;a.client.y=b.client.y;a.timeStamp=b.timeStamp}function U(a,b,c){a.page.x=c.page.x-b.page.x;a.page.y=c.page.y-b.page.y;a.client.x=c.client.x-b.client.x;a.client.y=c.client.y-b.client.y;a.timeStamp=(new Date).getTime()-b.timeStamp;b=Math.max(a.timeStamp/1000,0.001);a.page.speed=O(a.page.x,a.page.y)/b;a.page.vx=a.page.x/b;a.page.vy=a.page.y/b;a.client.speed=O(a.client.x,a.page.y)/b;a.client.vx=a.client.x/b;a.client.vy=a.client.y/b}function bl(a){return a instanceof bC.Event||ab&&bC.Touch&&a instanceof bC.Touch}function bo(a,b,c){c=c||{};a=a||"page";c.x=b[a+"X"];c.y=b[a+"Y"];return c}function bt(a,b){b=b||{};ca&&bl(a)?(bo("screen",a,b),b.x+=bC.scrollX,b.y+=bC.scrollY):bo("page",a,b);return b}function bG(a,b){b=b||{};ca&&bl(a)?bo("screen",a,b):bo("client",a,b);return b}function bX(a){return bT(a.pointerId)?a.pointerId:a.identifier}function bp(a){return a instanceof cl?a.correspondingUseElement:a}function b6(a){if(aa(a)){return a}a=a.ownerDocument||a;return a.defaultView||a.parentWindow||bC}function B(a){return(a=a instanceof q?a.getBoundingClientRect():a.getClientRects()[0])&&{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width||a.right-a.left,height:a.height||a.bottom-a.top}}function cd(a){var b,c=B(a);!bs&&c&&(b=(b=b6(a))||bC,a=b.scrollX||b.document.documentElement.scrollLeft,b=b.scrollY||b.document.documentElement.scrollTop,c.left+=a,c.right+=a,c.top+=b,c.bottom+=b);return c}function F(a){var b=[];n(a)?(b[0]=a[0],b[1]=a[1]):"touchend"===a.type?1===a.touches.length?(b[0]=a.touches[0],b[1]=a.changedTouches[0]):0===a.touches.length&&(b[0]=a.changedTouches[0],b[1]=a.changedTouches[1]):(b[0]=a.touches[0],b[1]=a.touches[1]);return b}function L(a){for(var b={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},c,e=0;e<a.length;e++){for(c in b){b[c]+=a[e][c]}}for(c in b){b[c]/=a.length}return b}function X(a){if(a.length||a.touches&&1<a.touches.length){a=F(a);var b=Math.min(a[0].pageX,a[1].pageX),c=Math.min(a[0].pageY,a[1].pageY);return{x:b,y:c,left:b,top:c,width:Math.max(a[0].pageX,a[1].pageX)-b,height:Math.max(a[0].pageY,a[1].pageY)-c}}}function ci(a,b){b=b||cj.deltaSource;var c=b+"X",e=b+"Y",f=F(a);return O(f[0][c]-f[1][c],f[0][e]-f[1][e])}function bq(a,b,c){c=c||cj.deltaSource;var e=c+"X";c+="Y";a=F(a);e=180*Math.atan((a[0][c]-a[1][c])/(a[0][e]-a[1][e]))/Math.PI;bT(b)&&(b=(e-b)%360,315<b?e-=360+e/360|0:135<b?e-=180+e/360|0:-315>b?e+=360+e/360|0:-135>b&&(e+=180+e/360|0));return e}function ck(a,b){var c=a?a.options.origin:cj.origin;"parent"===c?c=bU(b):"self"===c?c=a.getRect(b):K(c)&&(c=bL(b,c)||{x:0,y:0});ce(c)&&(c=c(a&&b));bE(c)&&(c=cd(c));c.x="x" in c?c.x:c.left;c.y="y" in c?c.y:c.top;return c}function S(a,b,c,e){var f=1-a;return f*f*b+2*f*a*c+a*a*e}function b9(a,b){for(;b;){if(b===a){return !0}b=b.parentNode}return !1}function bL(a,b){for(var c=bU(a);bE(c);){if(b2(c,b)){return c}c=bU(c)}return null}function bU(a){if((a=a.parentNode)&&a instanceof cg){for(;(a=a.host)&&a&&a instanceof cg;){}}return a}function bK(a,b){return a._context===b.ownerDocument||b9(a._context,b)}function cb(a,b,c){return(a=a.options.ignoreFrom)&&bE(c)?bW(a)?v(c,a,b):bE(a)?b9(a,c):!1:!1}function ba(a,b,c){return(a=a.options.allowFrom)?bE(c)?bW(a)?v(c,a,b):bE(a)?b9(a,c):!1:!1:!0}function bb(a,b){if(!b){return !1}var c=b.options.drag.axis;return"xy"===a||"xy"===c||c===a}function A(a,b){var c=a.options;/^resize/.test(b)&&(b="resize");return c[b].snap&&c[b].snap.enabled}function V(a,b){var c=a.options;/^resize/.test(b)&&(b="resize");return c[b].restrict&&c[b].restrict.enabled}function bQ(e,g,o){for(var s=e.options,u=s[o.name].max,s=s[o.name].maxPerElement,f=0,a=0,c=0,h=0,k=bD.length;h<k;h++){var j=bD[h],b=j.prepared.name;if(j.interacting()&&(f++,f>=t||j.target===e&&(a+=b===o.name|0,a>=u||j.element===g&&(c++,b!==o.name||c>=s)))){return !1}}return 0<t}function Q(){this.prevDropElement=this.prevDropTarget=this.dropElement=this.dropTarget=this.element=this.target=null;this.prepared={name:null,axis:null,edges:null};this.matches=[];this.matchElements=[];this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null};if(ce(Function.prototype.bind)){this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this)}else{var a=this;this.boundInertiaFrame=function(){return a.inertiaFrame()};this.boundSmoothEndFrame=function(){return a.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]};this.pointers=[];this.pointerIds=[];this.downTargets=[];this.downTimes=[];this.holdTimers=[];this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0};this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0};this.downEvent=null;this.downPointer={};this.prevEvent=this._curEventTarget=this._eventTarget=null;this.tapTime=0;this.prevTap=null;this.startOffset={left:0,right:0,top:0,bottom:0};this.restrictOffset={left:0,right:0,top:0,bottom:0};this.snapOffsets=[];this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0};this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1};this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1};this.restrictStatus.snap=this.snapStatus;this.resizing=this.dragging=this.gesturing=this.pointerWasMoved=this.pointerIsDown=!1;this.resizeAxes="xy";this.mouse=!1;bD.push(this)}function bZ(a,b,c){var e=0,f=bD.length,j=/mouse/i.test(a.pointerType||b)||4===a.pointerType,g;a=bX(a);if(/down|start/i.test(b)){for(e=0;e<f;e++){g=bD[e];var h=c;if(g.inertiaStatus.active&&g.target.options[g.prepared.name].inertia.allowResume&&g.mouse===j){for(;h;){if(h===g.element){return g}h=bU(h)}}}}if(j||!ab&&!br){for(e=0;e<f;e++){if(bD[e].mouse&&!bD[e].inertiaStatus.active){return bD[e]}}for(e=0;e<f;e++){if(bD[e].mouse&&(!/down/.test(b)||!bD[e].inertiaStatus.active)){return g}}g=new Q;g.mouse=!0;return g}for(e=0;e<f;e++){if(-1!==bF(bD[e].pointerIds,a)){return bD[e]}}if(/up|end|out/i.test(b)){return null}for(e=0;e<f;e++){if(g=bD[e],!(g.prepared.name&&!g.target.options.gesture.enabled||g.interacting()||!j&&g.mouse)){return g}}return new Q}function bA(a){return function(b){var c,e=bp(b.path?b.path[0]:b.target),f=bp(b.currentTarget),h;if(ab&&/touch/.test(b.type)){for(p=(new Date).getTime(),h=0;h<b.changedTouches.length;h++){var g=b.changedTouches[h];if(c=bZ(g,b.type,e)){c._updateEventTargets(e,f),c[a](g,b,e,f)}}}else{if(!br&&/mouse/.test(b.type)){for(h=0;h<bD.length;h++){if(!bD[h].mouse&&bD[h].pointerIsDown){return}}if(500>(new Date).getTime()-p){return}}if(c=bZ(b,b.type,e)){c._updateEventTargets(e,f),c[a](b,b,e,f)}}}}function l(a,b,c,e,f,o){var g,j,s=a.target,ac=a.snapStatus,ad=a.restrictStatus,k=a.pointers,h=(s&&s.options||cj).deltaSource,ae=h+"X",w=h+"Y",E=s?s.options:cj,u=ck(s,f),I="start"===e,af="end"===e;g=I?a.startCoords:a.curCoords;f=f||a.element;j=bH({},g.page);g=bH({},g.client);j.x-=u.x;j.y-=u.y;g.x-=u.x;g.y-=u.y;var y=E[c].snap&&E[c].snap.relativePoints;!A(s,c)||I&&y&&y.length||(this.snap={range:ac.range,locked:ac.locked,x:ac.snappedX,y:ac.snappedY,realX:ac.realX,realY:ac.realY,dx:ac.dx,dy:ac.dy},ac.locked&&(j.x+=ac.dx,j.y+=ac.dy,g.x+=ac.dx,g.y+=ac.dy));!V(s,c)||I&&E[c].restrict.elementRect||!ad.restricted||(j.x+=ad.dx,j.y+=ad.dy,g.x+=ad.dx,g.y+=ad.dy,this.restrict={dx:ad.dx,dy:ad.dy});this.pageX=j.x;this.pageY=j.y;this.clientX=g.x;this.clientY=g.y;this.x0=a.startCoords.page.x-u.x;this.y0=a.startCoords.page.y-u.y;this.clientX0=a.startCoords.client.x-u.x;this.clientY0=a.startCoords.client.y-u.y;this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.button=b.button;this.buttons=b.buttons;this.target=f;this.t0=a.downTimes[0];this.type=c+(e||"");this.interaction=a;this.interactable=s;f=a.inertiaStatus;f.active&&(this.detail="inertia");o&&(this.relatedTarget=o);af?"client"===h?(this.dx=g.x-a.startCoords.client.x,this.dy=g.y-a.startCoords.client.y):(this.dx=j.x-a.startCoords.page.x,this.dy=j.y-a.startCoords.page.y):I?this.dy=this.dx=0:"inertiastart"===e?(this.dx=a.prevEvent.dx,this.dy=a.prevEvent.dy):"client"===h?(this.dx=g.x-a.prevEvent.clientX,this.dy=g.y-a.prevEvent.clientY):(this.dx=j.x-a.prevEvent.pageX,this.dy=j.y-a.prevEvent.pageY);a.prevEvent&&"inertia"===a.prevEvent.detail&&!f.active&&E[c].inertia&&E[c].inertia.zeroResumeDelta&&(f.resumeDx+=this.dx,f.resumeDy+=this.dy,this.dx=this.dy=0);"resize"===c&&a.resizeAxes?E.resize.square?("y"===a.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=a.resizeAxes,"x"===a.resizeAxes?this.dy=0:"y"===a.resizeAxes&&(this.dx=0)):"gesture"===c&&(this.touches=[k[0],k[1]],I?(this.distance=ci(k,h),this.box=X(k),this.scale=1,this.ds=0,this.angle=bq(k,void 0,h),this.da=0):af||b instanceof l?(this.distance=a.prevEvent.distance,this.box=a.prevEvent.box,this.scale=a.prevEvent.scale,this.ds=this.scale-1,this.angle=a.prevEvent.angle,this.da=this.angle-a.gesture.startAngle):(this.distance=ci(k,h),this.box=X(k),this.scale=this.distance/a.gesture.startDistance,this.angle=bq(k,a.gesture.prevAngle,h),this.ds=this.scale-a.gesture.prevScale,this.da=this.angle-a.gesture.prevAngle));I?(this.timeStamp=a.downTimes[0],this.velocityY=this.velocityX=this.speed=this.duration=this.dt=0):"inertiastart"===e?(this.timeStamp=a.prevEvent.timeStamp,this.dt=a.prevEvent.dt,this.duration=a.prevEvent.duration,this.speed=a.prevEvent.speed,this.velocityX=a.prevEvent.velocityX,this.velocityY=a.prevEvent.velocityY):(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-a.prevEvent.timeStamp,this.duration=this.timeStamp-a.downTimes[0],b instanceof l?(b=this[ae]-a.prevEvent[ae],w=this[w]-a.prevEvent[w],c=this.dt/1000,this.speed=O(b,w)/c,this.velocityX=b/c,this.velocityY=w/c):(this.speed=a.pointerDelta[h].speed,this.velocityX=a.pointerDelta[h].vx,this.velocityY=a.pointerDelta[h].vy));(af||"inertiastart"===e)&&600<a.prevEvent.speed&&150>this.timeStamp-a.prevEvent.timeStamp&&(e=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI,0>e&&(e+=360),af=112.5<=e&&247.5>e,w=202.5<=e&&337.5>e,this.swipe={up:w,down:!w&&22.5<=e&&157.5>e,left:af,right:!af&&(292.5<=e||67.5>e),angle:e,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}})}function R(){this.originalEvent.preventDefault()}function a0(a){var b="";"drag"===a.name&&(b=bm.drag);if("resize"===a.name){if(a.axis){b=bm[a.name+a.axis]}else{if(a.edges){for(var b="resize",c=["top","bottom","left","right"],e=0;4>e;e++){a.edges[c[e]]&&(b+=c[e])}b=bm[b]}}}return b}function bS(a,b,c){a=this.getRect(c);var e=!1,f=null,k=null,g,h=bH({},b.curCoords.page),f=this.options;if(!a){return null}if(b3.resize&&f.resize.enabled){if(e=f.resize,g={left:!1,right:!1,top:!1,bottom:!1},bI(e.edges)){for(var s in g){var E=g,I=s,j;a:{j=s;var af=e.edges[s],w=h,y=b._eventTarget,ad=c,o=a,ac=e.margin||bM;if(af){if(!0===af){var ae=bT(o.width)?o.width:o.right-o.left,u=bT(o.height)?o.height:o.bottom-o.top;0>ae&&("left"===j?j="right":"right"===j&&(j="left"));0>u&&("top"===j?j="bottom":"bottom"===j&&(j="top"));if("left"===j){j=w.x<(0<=ae?o.left:o.right)+ac;break a}if("top"===j){j=w.y<(0<=u?o.top:o.bottom)+ac;break a}if("right"===j){j=w.x>(0<=ae?o.right:o.left)-ac;break a}if("bottom"===j){j=w.y>(0<=u?o.bottom:o.top)-ac;break a}}j=bE(y)?bE(af)?af===y:v(y,af,ad):!1}else{j=!1}}E[I]=j}g.left=g.left&&!g.right;g.top=g.top&&!g.bottom;e=g.left||g.right||g.top||g.bottom}else{c="y"!==f.resize.axis&&h.x>a.right-bM,a="x"!==f.resize.axis&&h.y>a.bottom-bM,e=c||a,k=(c?"x":"")+(a?"y":"")}}f=e?"resize":b3.drag&&f.drag.enabled?"drag":null;b3.gesture&&2<=b.pointerIds.length&&!b.dragging&&!b.resizing&&(f="gesture");return f?{name:f,axis:k,edges:g}:null}function b7(a,b){if(!bI(a)){return null}var c=a.name,e=b.options;return("resize"===c&&e.resize.enabled||"drag"===c&&e.drag.enabled||"gesture"===c&&e.gesture.enabled)&&b3[c]?a:null}function x(h,j){var k={},a=b0[h.type],b=bp(h.path?h.path[0]:h.target),f=b;j=j?!0:!1;for(var c in h){k[c]=h[c]}k.originalEvent=h;for(k.preventDefault=R;bE(f);){for(c=0;c<a.selectors.length;c++){var e=a.contexts[c];if(b2(f,a.selectors[c])&&b9(e,b)&&b9(e,f)){e=a.listeners[c];k.currentTarget=f;for(var g=0;g<e.length;g++){if(e[g][1]===j){e[g][0](k)}}}}f=bU(f)}}function M(a){return x.call(this,a,!0)}function bw(a,b){return cf.get(a,b)||new ch(a,b)}function ch(a,b){this._element=a;this._iEvents=this._iEvents||{};var c;if(K(a)){this.selector=a;var e=b&&b.context;c=e?b6(e):bC;e&&(c.Node?e instanceof c.Node:bE(e)||e===c.document)&&(this._context=e)}else{c=b6(a),bE(a,c)&&(bY?(bz.add(this._element,bR.down,bx.pointerDown),bz.add(this._element,bR.move,bx.pointerHover)):(bz.add(this._element,"mousedown",bx.pointerDown),bz.add(this._element,"mousemove",bx.pointerHover),bz.add(this._element,"touchstart",bx.pointerDown),bz.add(this._element,"touchmove",bx.pointerHover)))}this._doc=c.document;-1===bF(bu,this._doc)&&bv(this._doc);cf.push(this);this.set(b)}function bV(a,b){var c=!1;return function(){c||(bC.console.warn(b),c=!0);return a.apply(this,arguments)}}function m(a){for(var b=0;b<bD.length;b++){bD[b].pointerEnd(a,a)}}function bv(a){if(-1===bF(bu,a)){var b=a.defaultView||a.parentWindow,c;for(c in b0){bz.add(a,c,x),bz.add(a,c,M,!0)}bY?(bR=bY===b.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},bz.add(a,bR.down,bx.selectorDown),bz.add(a,bR.move,bx.pointerMove),bz.add(a,bR.over,bx.pointerOver),bz.add(a,bR.out,bx.pointerOut),bz.add(a,bR.up,bx.pointerUp),bz.add(a,bR.cancel,bx.pointerCancel),bz.add(a,bR.move,bx.autoScrollMove)):(bz.add(a,"mousedown",bx.selectorDown),bz.add(a,"mousemove",bx.pointerMove),bz.add(a,"mouseup",bx.pointerUp),bz.add(a,"mouseover",bx.pointerOver),bz.add(a,"mouseout",bx.pointerOut),bz.add(a,"touchstart",bx.selectorDown),bz.add(a,"touchmove",bx.pointerMove),bz.add(a,"touchend",bx.pointerUp),bz.add(a,"touchcancel",bx.pointerCancel),bz.add(a,"mousemove",bx.autoScrollMove),bz.add(a,"touchmove",bx.autoScrollMove));bz.add(b,"blur",m);try{if(b.frameElement){var e=b.frameElement.ownerDocument,f=e.defaultView;bz.add(e,"mouseup",bx.pointerEnd);bz.add(e,"touchend",bx.pointerEnd);bz.add(e,"touchcancel",bx.pointerEnd);bz.add(e,"pointerup",bx.pointerEnd);bz.add(e,"MSPointerUp",bx.pointerEnd);bz.add(f,"blur",m)}}catch(g){bw.windowParentError=g}bz.add(a,"dragstart",function(j){for(var k=0;k<bD.length;k++){var h=bD[k];if(h.element&&(h.element===j.target||b9(h.element,j.target))){h.checkAndPreventDefault(j,h.target,h.element);break}}});bz.useAttachEvent&&(bz.add(a,"selectstart",function(h){var j=bD[0];j.currentAction()&&j.checkAndPreventDefault(h)}),bz.add(a,"dblclick",bA("ie8Dblclick")));bu.push(a)}}function bF(a,b){for(var c=0,e=a.length;c<e;c++){if(a[c]===b){return c}}return -1}function b2(a,b,c){if(D){return D(a,b,c)}bC!==cm&&(b=b.replace(/\/deep\//g," "));return a[bn](b)}function v(a,b,c){for(;bE(a);){if(b2(a,b)){return !0}a=bU(a);if(a===c){return b2(a,b)}}return !1}if(cm){var bC=function(){var a=cm.document.createTextNode("");return a.ownerDocument!==cm.document&&"function"===typeof cm.wrap&&cm.wrap(a)===a?cm.wrap(cm):cm}(),b1=bC.document,cg=bC.DocumentFragment||Y,q=bC.SVGElement||Y,bN=bC.SVGSVGElement||Y,cl=bC.SVGElementInstance||Y,z=bC.HTMLElement||bC.Element,bY=bC.PointerEvent||bC.MSPointerEvent,bR,O=Math.hypot||function(a,b){return Math.sqrt(a*a+b*b)},H={},bu=[],cf=[],bD=[],cc=!1,b0={},cj={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:b1,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:Infinity,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:Infinity,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:Infinity,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},bB={interaction:null,i:null,x:0,y:0,scroll:function(){var a=bB.interaction.target.options[bB.interaction.prepared.name].autoScroll,b=a.container||b6(bB.interaction.element),c=(new Date).getTime(),e=(c-bB.prevTimeX)/1000,f=(c-bB.prevTimeY)/1000,g;a.velocity?(g=a.velocity.x,a=a.velocity.y):g=a=a.speed;e*=g;f*=a;if(1<=e||1<=f){aa(b)?b.scrollBy(bB.x*e,bB.y*f):b&&(b.scrollLeft+=bB.x*e,b.scrollTop+=bB.y*f),1<=e&&(bB.prevTimeX=c),1<=f&&(bB.prevTimeY=c)}bB.isScrolling&&(b8(bB.i),bB.i=b4(bB.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(a){bB.isScrolling=!0;b8(bB.i);bB.interaction=a;bB.prevTimeX=(new Date).getTime();bB.prevTimeY=(new Date).getTime();bB.i=b4(bB.scroll)},stop:function(){bB.isScrolling=!1;b8(bB.i)}},ab="ontouchstart" in bC||bC.DocumentTouch&&b1 instanceof bC.DocumentTouch,br=!!bY,bM=ab||br?20:10,bJ=1,p=0,t=Infinity,bm=b1.all&&!bC.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},b3={drag:!0,resize:!0,gesture:!0},G="onmousewheel" in b1?"mousewheel":"wheel",by="dragstart dragmove draginertiastart dragend dragenter dragleave dropactivate dropdeactivate dropmove drop resizestart resizemove resizeinertiastart resizeend gesturestart gesturemove gestureinertiastart gestureend down move up cancel tap doubletap hold".split(" "),b5={},ca="Opera"==navigator.appName&&ab&&navigator.userAgent.match("Presto"),bs=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),bn="matches" in Element.prototype?"matches":"webkitMatchesSelector" in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector" in Element.prototype?"mozMatchesSelector":"oMatchesSelector" in Element.prototype?"oMatchesSelector":"msMatchesSelector",D,b4=cm.requestAnimationFrame,b8=cm.cancelAnimationFrame,bz=function(){function c(ac,ad,ae,af){var ag,ah=bF(g,ac),u=j[ah],w,I,y=ae;if(u&&u.events){if(s&&(w=h[ah],I=bF(w.supplied,ae),y=w.wrapped[I]),"all"===ad){for(ad in u.events){u.events.hasOwnProperty(ad)&&c(ac,ad,"all")}}else{if(u.events[ad]){var E=u.events[ad].length;if("all"===ae){for(ag=0;ag<E;ag++){c(ac,ad,u.events[ad][ag],Boolean(af))}return}for(ag=0;ag<E;ag++){if(u.events[ad][ag]===ae){ac[a](b+ad,y,af||!1);u.events[ad].splice(ag,1);s&&w&&(w.useCount[I]--,0===w.useCount[I]&&(w.supplied.splice(I,1),w.wrapped.splice(I,1),w.useCount.splice(I,1)));break}}u.events[ad]&&0===u.events[ad].length&&(u.events[ad]=null,u.typeCount--)}u.typeCount||(j.splice(ah,1),g.splice(ah,1),h.splice(ah,1))}}}function f(){this.returnValue=!1}function k(){this.cancelBubble=!0}function o(){this.immediatePropagationStopped=this.cancelBubble=!0}var s="attachEvent" in bC&&!("addEventListener" in bC),e=s?"attachEvent":"addEventListener",a=s?"detachEvent":"removeEventListener",b=s?"on":"",g=[],j=[],h=[];return{add:function(ac,w,ad,u){var ae=bF(g,ac),y=j[ae];y||(y={events:{},typeCount:0},ae=g.push(ac)-1,j.push(y),h.push(s?{supplied:[],wrapped:[],useCount:[]}:null));y.events[w]||(y.events[w]=[],y.typeCount++);if(-1===bF(y.events[w],ad)){if(s){var ae=h[ae],E=bF(ae.supplied,ad),I=ae.wrapped[E]||function(af){af.immediatePropagationStopped||(af.target=af.srcElement,af.currentTarget=ac,af.preventDefault=af.preventDefault||f,af.stopPropagation=af.stopPropagation||k,af.stopImmediatePropagation=af.stopImmediatePropagation||o,/mouse|click/.test(af.type)&&(af.pageX=af.clientX+b6(ac).document.documentElement.scrollLeft,af.pageY=af.clientY+b6(ac).document.documentElement.scrollTop),ad(af))};u=ac[e](b+w,I,Boolean(u));-1===E?(ae.supplied.push(ad),ae.wrapped.push(I),ae.useCount.push(1)):ae.useCount[E]++}else{u=ac[e](w,ad,u||!1)}y.events[w].push(ad);return u}},remove:c,useAttachEvent:s,_elements:g,_targets:j,_attachedListeners:h}}(),bP={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Q.prototype={getPageXY:function(a,b){return bt(a,b,this)},getClientXY:function(a,b){return bG(a,b,this)},setEventXY:function(a,b){var c=1<b.length?L(b):b[0];bt(c,H,this);a.page.x=H.x;a.page.y=H.y;bG(c,H,this);a.client.x=H.x;a.client.y=H.y;a.timeStamp=(new Date).getTime()},pointerOver:function(h,j,k){function a(o,s){o&&bK(o,k)&&!cb(o,k,k)&&ba(o,k,k)&&b2(k,s)&&(b.push(o),f.push(k))}if(!this.prepared.name&&this.mouse){var b=[],f=[],c=this.element;this.addPointer(h);!this.target||!cb(this.target,this.element,k)&&ba(this.target,this.element,k)||(this.element=this.target=null,this.matches=[],this.matchElements=[]);var e=cf.get(k),g=e&&!cb(e,k,k)&&ba(e,k,k)&&b7(e.getAction(h,j,this,k),e);g&&!bQ(e,k,g)&&(g=null);g?(this.target=e,this.element=k,this.matches=[],this.matchElements=[]):(cf.forEachSelector(a),this.validateSelector(h,j,b,f)?(this.matches=b,this.matchElements=f,this.pointerHover(h,j,this.matches,this.matchElements),bz.add(k,bY?bR.move:"mousemove",bx.pointerHover)):this.target&&(b9(c,k)?(this.pointerHover(h,j,this.matches,this.matchElements),bz.add(this.element,bY?bR.move:"mousemove",bx.pointerHover)):(this.element=this.target=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(a,b,c,e,f,h){c=this.target;if(!this.prepared.name&&this.mouse){var g;this.setEventXY(this.curCoords,[a]);f?g=this.validateSelector(a,b,f,h):c&&(g=b7(c.getAction(this.pointers[0],b,this,this.element),this.target));c&&c.options.styleCursor&&(c._doc.documentElement.style.cursor=g?a0(g):"")}else{this.prepared.name&&this.checkAndPreventDefault(b,c,this.element)}},pointerOut:function(a,b,c){this.prepared.name||(cf.get(c)||bz.remove(c,bY?bR.move:"mousemove",bx.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,h,j,k){function o(w,s,u){u=D?u.querySelectorAll(s):void 0;bK(w,b)&&!cb(w,b,j)&&ba(w,b,j)&&b2(b,s,u)&&(c.matches.push(w),c.matchElements.push(b))}var c=this,a=bz.useAttachEvent?bH({},h):h,b=j,f=this.addPointer(e),g;this.holdTimers[f]=setTimeout(function(){c.pointerHold(bz.useAttachEvent?a:e,a,j,k)},cj._holdDuration);this.pointerIsDown=!0;if(this.inertiaStatus.active&&this.target.selector){for(;bE(b);){if(b===this.element&&b7(this.target.getAction(e,h,this,this.element),this.target).name===this.prepared.name){b8(this.inertiaStatus.i);this.inertiaStatus.active=!1;this.collectEventTargets(e,h,j,"down");return}b=bU(b)}}if(!this.interacting()){this.setEventXY(this.curCoords,[e]);for(this.downEvent=h;bE(b)&&!g;){this.matches=[],this.matchElements=[],cf.forEachSelector(o),g=this.validateSelector(e,h,this.matches,this.matchElements),b=bU(b)}if(g){return this.prepared.name=g.name,this.prepared.axis=g.axis,this.prepared.edges=g.edges,this.collectEventTargets(e,h,j,"down"),this.pointerDown(e,h,j,k,g)}this.downTimes[f]=(new Date).getTime();this.downTargets[f]=j;C(this.downPointer,e);W(this.prevCoords,this.curCoords);this.pointerWasMoved=!1}this.collectEventTargets(e,h,j,"down")},pointerDown:function(h,j,k,a,b){if(!b&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name){this.checkAndPreventDefault(j,this.target,this.element)}else{this.pointerIsDown=!0;this.downEvent=j;var f=this.addPointer(h),c;if(1<this.pointerIds.length&&this.target._element===this.element){var e=b7(b||this.target.getAction(h,j,this,this.element),this.target);bQ(this.target,this.element,e)&&(c=e);this.prepared.name=null}else{this.prepared.name||(e=cf.get(a))&&!cb(e,a,k)&&ba(e,a,k)&&(c=b7(b||e.getAction(h,j,this,a),e,k))&&bQ(e,a,c)&&(this.target=e,this.element=a)}var g=(e=this.target)&&e.options;!e||!b&&this.prepared.name?this.inertiaStatus.active&&a===this.element&&b7(e.getAction(h,j,this,this.element),e).name===this.prepared.name&&(b8(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(j,e,this.element)):(c=c||b7(b||e.getAction(h,j,this,a),e,this.element),this.setEventXY(this.startCoords,this.pointers),c&&(g.styleCursor&&(e._doc.documentElement.style.cursor=a0(c)),this.resizeAxes="resize"===c.name?c.axis:null,"gesture"===c&&2>this.pointerIds.length&&(c=null),this.prepared.name=c.name,this.prepared.axis=c.axis,this.prepared.edges=c.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[f]=(new Date).getTime(),this.downTargets[f]=k,C(this.downPointer,h),W(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(j,e,this.element)))}},setModifications:function(a,b){var c=this.target,e=!0,f=A(c,this.prepared.name)&&(!c.options[this.prepared.name].snap.endOnly||b),c=V(c,this.prepared.name)&&(!c.options[this.prepared.name].restrict.endOnly||b);f?this.setSnapping(a):this.snapStatus.locked=!1;c?this.setRestriction(a):this.restrictStatus.restricted=!1;f&&this.snapStatus.locked&&!this.snapStatus.changed?e=c&&this.restrictStatus.restricted&&this.restrictStatus.changed:c&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(e=!1);return e},setStartOffsets:function(a,b,c){a=b.getRect(c);var e=ck(b,c);c=b.options[this.prepared.name].snap;b=b.options[this.prepared.name].restrict;var f,h;a?(this.startOffset.left=this.startCoords.page.x-a.left,this.startOffset.top=this.startCoords.page.y-a.top,this.startOffset.right=a.right-this.startCoords.page.x,this.startOffset.bottom=a.bottom-this.startCoords.page.y,f="width" in a?a.width:a.right-a.left,h="height" in a?a.height:a.bottom-a.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0;this.snapOffsets.splice(0);e=c&&"startCoords"===c.offset?{x:this.startCoords.page.x-e.x,y:this.startCoords.page.y-e.y}:c&&c.offset||{x:0,y:0};if(a&&c&&c.relativePoints&&c.relativePoints.length){for(var g=0;g<c.relativePoints.length;g++){this.snapOffsets.push({x:this.startOffset.left-f*c.relativePoints[g].x+e.x,y:this.startOffset.top-h*c.relativePoints[g].y+e.y})}}else{this.snapOffsets.push(e)}a&&b.elementRect?(this.restrictOffset.left=this.startOffset.left-f*b.elementRect.left,this.restrictOffset.top=this.startOffset.top-h*b.elementRect.top,this.restrictOffset.right=this.startOffset.right-f*(1-b.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-h*(1-b.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(a,b,c){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===a.name?2:1)||(-1===bF(bD,this)&&bD.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=a.name,this.prepared.axis=a.axis,this.prepared.edges=a.edges,this.target=b,this.element=c,this.setStartOffsets(a.name,b,c),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(c,f,g,j,k){if(this.inertiaStatus.active){j=this.inertiaStatus.upCoords.page;var a=this.inertiaStatus.upCoords.client;this.setEventXY(this.curCoords,[{pageX:j.x+this.inertiaStatus.sx,pageY:j.y+this.inertiaStatus.sy,clientX:a.x+this.inertiaStatus.sx,clientY:a.y+this.inertiaStatus.sy}])}else{this.recordPointer(c),this.setEventXY(this.curCoords,this.pointers)}j=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y;var o,s,a=this.mouse?0:bF(this.pointerIds,bX(c));this.pointerIsDown&&!this.pointerWasMoved&&(o=this.curCoords.client.x-this.startCoords.client.x,s=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=O(o,s)>bJ);j||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[a]),this.collectEventTargets(c,f,g,"move"));if(this.pointerIsDown){if(j&&this.pointerWasMoved&&!k){this.checkAndPreventDefault(f,this.target,this.element)}else{if(U(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||c instanceof l&&/inertiastart/.test(c.type))){if(!this.interacting()&&(U(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){o=Math.abs(o);s=Math.abs(s);j=this.target.options.drag.axis;var b=o>s?"x":o<s?"y":"xy";if("xy"!==b&&"xy"!==j&&j!==b){this.prepared.name=null;for(var e=g;bE(e);){if((s=cf.get(e))&&s!==this.target&&!s.options.drag.manualStart&&"drag"===s.getAction(this.downPointer,this.downEvent,this,e).name&&bb(b,s)){this.prepared.name="drag";this.target=s;this.element=e;break}e=bU(e)}if(!this.prepared.name){var h=this;s=function(y,u,w){w=D?w.querySelectorAll(u):void 0;if(y!==h.target&&bK(y,g)&&!y.options.drag.manualStart&&!cb(y,e,g)&&ba(y,e,g)&&b2(e,u,w)&&"drag"===y.getAction(h.downPointer,h.downEvent,h,e).name&&bb(b,y)&&bQ(y,e,"drag")){return y}};for(e=g;bE(e);){if(o=cf.forEachSelector(s)){this.prepared.name="drag";this.target=o;this.element=e;break}e=bU(e)}}}}if((s=!!this.prepared.name&&!this.interacting())&&(this.target.options[this.prepared.name].manualStart||!bQ(this.target,this.element,this.prepared))){this.stop(f);return}if(this.prepared.name&&this.target){s&&this.start(this.prepared,this.target,this.element);if(this.setModifications(this.curCoords.page,k)||s){this.prevEvent=this[this.prepared.name+"Move"](f)}this.checkAndPreventDefault(f,this.target,this.element)}}W(this.prevCoords,this.curCoords);(this.dragging||this.resizing)&&this.autoScrollMove(c)}}}},dragStart:function(a){var b=new l(this,a,"drag","start",this.element);this.dragging=!0;this.target.fire(b);this.activeDrops.dropzones=[];this.activeDrops.elements=[];this.activeDrops.rects=[];this.dynamicDrop||this.setActiveDrops(this.element);a=this.getDropEvents(a,b);a.activate&&this.fireActiveDrops(a.activate);return b},dragMove:function(a){var b=this.target,c=new l(this,a,"drag","move",this.element),e=this.getDrop(c,a,this.element);this.dropTarget=e.dropzone;this.dropElement=e.element;a=this.getDropEvents(a,c);b.fire(c);a.leave&&this.prevDropTarget.fire(a.leave);a.enter&&this.dropTarget.fire(a.enter);a.move&&this.dropTarget.fire(a.move);this.prevDropTarget=this.dropTarget;this.prevDropElement=this.dropElement;return c},resizeStart:function(a){a=new l(this,a,"resize","start",this.element);if(this.prepared.edges){var b=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var c=bH({},this.prepared.edges);c.top=c.top||c.left&&!c.bottom;c.left=c.left||c.top&&!c.right;c.bottom=c.bottom||c.right&&!c.top;c.right=c.right||c.bottom&&!c.left;this.prepared._linkedEdges=c}else{this.prepared._linkedEdges=null}this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=b.width/b.height);this.resizeRects={start:b,current:bH({},b),restricted:bH({},b),previous:bH({},b),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}};a.rect=this.resizeRects.restricted;a.deltaRect=this.resizeRects.delta}this.target.fire(a);this.resizing=!0;return a},resizeMove:function(h){h=new l(this,h,"resize","move",this.element);var k=this.prepared.edges,s=this.target.options.resize.invert,u="reposition"===s||"negate"===s;if(k){var y=h.dx,e=h.dy,b=this.resizeRects.start,c=this.resizeRects.current,f=this.resizeRects.restricted,g=this.resizeRects.delta,o=bH(this.resizeRects.previous,f),j=k;if(this.target.options.resize.preserveAspectRatio){var w=this.resizeStartAspectRatio,k=this.prepared._linkedEdges;if(j.left&&j.bottom||j.right&&j.top){e=-y/w}else{if(j.left||j.right){e=y/w}else{if(j.top||j.bottom){y=e*w}}}}else{if(this.target.options.resize.square){if(k=this.prepared._linkedEdges,j.left&&j.bottom||j.right&&j.top){e=-y}else{if(j.left||j.right){e=y}else{if(j.top||j.bottom){y=e}}}}}k.top&&(c.top+=e);k.bottom&&(c.bottom+=e);k.left&&(c.left+=y);k.right&&(c.right+=y);u?(bH(f,c),"reposition"===s&&(f.top>f.bottom&&(k=f.top,f.top=f.bottom,f.bottom=k),f.left>f.right&&(k=f.left,f.left=f.right,f.right=k))):(f.top=Math.min(c.top,b.bottom),f.bottom=Math.max(c.bottom,b.top),f.left=Math.min(c.left,b.right),f.right=Math.max(c.right,b.left));f.width=f.right-f.left;f.height=f.bottom-f.top;for(var a in f){g[a]=f[a]-o[a]}h.edges=this.prepared.edges;h.rect=f;h.deltaRect=g}this.target.fire(h);return h},gestureStart:function(a){a=new l(this,a,"gesture","start",this.element);a.ds=0;this.gesture.startDistance=this.gesture.prevDistance=a.distance;this.gesture.startAngle=this.gesture.prevAngle=a.angle;this.gesture.scale=1;this.gesturing=!0;this.target.fire(a);return a},gestureMove:function(a){if(!this.pointerIds.length){return this.prevEvent}a=new l(this,a,"gesture","move",this.element);a.ds=a.scale-this.gesture.scale;this.target.fire(a);this.gesture.prevAngle=a.angle;this.gesture.prevDistance=a.distance;Infinity===a.scale||null===a.scale||void 0===a.scale||isNaN(a.scale)||(this.gesture.scale=a.scale);return a},pointerHold:function(a,b,c){this.collectEventTargets(a,b,c,"hold")},pointerUp:function(a,b,c,e){var f=this.mouse?0:bF(this.pointerIds,bX(a));clearTimeout(this.holdTimers[f]);this.collectEventTargets(a,b,c,"up");this.collectEventTargets(a,b,c,"tap");this.pointerEnd(a,b,c,e);this.removePointer(a)},pointerCancel:function(a,b,c,e){var f=this.mouse?0:bF(this.pointerIds,bX(a));clearTimeout(this.holdTimers[f]);this.collectEventTargets(a,b,c,"cancel");this.pointerEnd(a,b,c,e);this.removePointer(a)},ie8Dblclick:function(a,b,c){this.prevTap&&b.clientX===this.prevTap.clientX&&b.clientY===this.prevTap.clientY&&c===this.prevTap.target&&(this.downTargets[0]=c,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(a,b,c,"tap"))},pointerEnd:function(g,h,k,o){var u,I=this.target,y=I&&I.options,E=y&&this.prepared.name&&y[this.prepared.name].inertia;u=this.inertiaStatus;if(this.interacting()){if(u.active&&!u.ending){return}var a=(new Date).getTime(),b=!1,c=!1,e=!1,j=A(I,this.prepared.name)&&y[this.prepared.name].snap.endOnly,s=V(I,this.prepared.name)&&y[this.prepared.name].restrict.endOnly,w=0,f=0,y=this.dragging?"x"===y.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===y.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,c=(b=E&&E.enabled&&"gesture"!==this.prepared.name&&h!==u.startEvent)&&50>a-this.curCoords.timeStamp&&y>E.minSpeed&&y>E.endSpeed;b&&!c&&(j||s)&&(E={},E.snap=E.restrict=E,j&&(this.setSnapping(this.curCoords.page,E),E.locked&&(w+=E.dx,f+=E.dy)),s&&(this.setRestriction(this.curCoords.page,E),E.restricted&&(w+=E.dx,f+=E.dy)),w||f)&&(e=!0);if(c||e){W(u.upCoords,this.curCoords);this.pointers[0]=u.startEvent=new l(this,h,this.prepared.name,"inertiastart",this.element);u.t0=a;I.fire(u.startEvent);c?(u.vx0=this.pointerDelta.client.vx,u.vy0=this.pointerDelta.client.vy,u.v0=y,this.calcInertia(u),h=bH({},this.curCoords.page),I=ck(I,this.element),h.x=h.x+u.xe-I.x,h.y=h.y+u.ye-I.y,I={useStatusXY:!0,x:h.x,y:h.y,dx:0,dy:0,snap:null},I.snap=I,w=f=0,j&&(h=this.setSnapping(this.curCoords.page,I),h.locked&&(w+=h.dx,f+=h.dy)),s&&(I=this.setRestriction(this.curCoords.page,I),I.restricted&&(w+=I.dx,f+=I.dy)),u.modifiedXe+=w,u.modifiedYe+=f,u.i=b4(this.boundInertiaFrame)):(u.smoothEnd=!0,u.xe=w,u.ye=f,u.sx=u.sy=0,u.i=b4(this.boundSmoothEndFrame));u.active=!0;return}(j||s)&&this.pointerMove(g,h,k,o,!0)}this.dragging?(u=new l(this,h,"drag","end",this.element),s=this.getDrop(u,h,this.element),this.dropTarget=s.dropzone,this.dropElement=s.element,s=this.getDropEvents(h,u),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.drop&&this.dropTarget.fire(s.drop),s.deactivate&&this.fireActiveDrops(s.deactivate),I.fire(u)):this.resizing?(u=new l(this,h,"resize","end",this.element),I.fire(u)):this.gesturing&&(u=new l(this,h,"gesture","end",this.element),I.fire(u));this.stop(h)},collectDrops:function(h){var j=[],k=[],a;h=h||this.element;for(a=0;a<cf.length;a++){if(cf[a].options.drop.enabled){var b=cf[a],f=b.options.drop.accept;if(!(bE(f)&&f!==h||bW(f)&&!b2(h,f))){for(var f=b.selector?b._context.querySelectorAll(b.selector):[b._element],c=0,e=f.length;c<e;c++){var g=f[c];g!==h&&(j.push(b),k.push(g))}}}}return{dropzones:j,elements:k}},fireActiveDrops:function(a){var b,c,e,f;for(b=0;b<this.activeDrops.dropzones.length;b++){c=this.activeDrops.dropzones[b],e=this.activeDrops.elements[b],e!==f&&(a.target=e,c.fire(a)),f=e}},setActiveDrops:function(a){a=this.collectDrops(a,!0);this.activeDrops.dropzones=a.dropzones;this.activeDrops.elements=a.elements;this.activeDrops.rects=[];for(a=0;a<this.activeDrops.dropzones.length;a++){this.activeDrops.rects[a]=this.activeDrops.dropzones[a].getRect(this.activeDrops.elements[a])}},getDrop:function(a,b,c){var e=[];cc&&this.setActiveDrops(c);for(var f=0;f<this.activeDrops.dropzones.length;f++){var j=this.activeDrops.elements[f];e.push(this.activeDrops.dropzones[f].dropCheck(a,b,this.target,c,j,this.activeDrops.rects[f])?j:null)}c=(b=e[0])?0:-1;for(var g,f=[],h=[],j=1;j<e.length;j++){if((a=e[j])&&a!==b){if(!b){b=a,c=j}else{if(a.parentNode!==a.ownerDocument){if(b.parentNode===a.ownerDocument){b=a,c=j}else{if(!f.length){for(g=b;g.parentNode&&g.parentNode!==g.ownerDocument;){f.unshift(g),g=g.parentNode}}if(b instanceof z&&a instanceof q&&!(a instanceof bN)){if(a===b.parentNode){continue}g=a.ownerSVGElement}else{g=a}for(h=[];g.parentNode!==g.ownerDocument;){h.unshift(g),g=g.parentNode}for(g=0;h[g]&&h[g]===f[g];){g++}g=[h[g-1],h[g],f[g]];for(h=g[0].lastChild;h;){if(h===g[1]){b=a;c=j;f=[];break}else{if(h===g[2]){break}}h=h.previousSibling}}}}}}e=c;return{dropzone:this.activeDrops.dropzones[e]||null,element:this.activeDrops.elements[e]||null}},getDropEvents:function(a,b){var c={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(c.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dragleave"},b.dragLeave=this.prevDropElement,b.prevDropzone=this.prevDropTarget),this.dropTarget&&(c.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dragenter"},b.dragEnter=this.dropElement,b.dropzone=this.dropTarget));"dragend"===b.type&&this.dropTarget&&(c.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"drop"},b.dropzone=this.dropTarget);"dragstart"===b.type&&(c.activate={target:null,dropzone:null,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dropactivate"});"dragend"===b.type&&(c.deactivate={target:null,dropzone:null,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dropdeactivate"});"dragmove"===b.type&&this.dropTarget&&(c.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,dragmove:b,timeStamp:b.timeStamp,type:"dropmove"},b.dropzone=this.dropTarget);return c},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=this.target=this.element=null},stop:function(a){if(this.interacting()){bB.stop();this.matches=[];this.matchElements=[];var b=this.target;b.options.styleCursor&&(b._doc.documentElement.style.cursor="");a&&ce(a.preventDefault)&&this.checkAndPreventDefault(a,b,this.element);this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets();this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1;this.prepared.name=this.prevEvent=null;for(a=this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;a<this.pointers.length;a++){-1===bF(this.pointerIds,bX(this.pointers[a]))&&this.pointers.splice(a,1)}},inertiaFrame:function(){var a,b,c=this.inertiaStatus;a=this.target.options[this.prepared.name].inertia.resistance;b=(new Date).getTime()/1000-c.t0;if(b<c.te){b=1-(Math.exp(-a*b)-c.lambda_v0)/c.one_ve_v0;if(c.modifiedXe===c.xe&&c.modifiedYe===c.ye){c.sx=c.xe*b,c.sy=c.ye*b}else{var e=c.ye,f=c.modifiedYe;a=S(b,0,c.xe,c.modifiedXe);b=S(b,0,e,f);c.sx=a;c.sy=b}this.pointerMove(c.startEvent,c.startEvent);c.i=b4(this.boundInertiaFrame)}else{c.ending=!0,c.sx=c.modifiedXe,c.sy=c.modifiedYe,this.pointerMove(c.startEvent,c.startEvent),this.pointerEnd(c.startEvent,c.startEvent),c.active=c.ending=!1}},smoothEndFrame:function(){var a=this.inertiaStatus,b=(new Date).getTime()-a.t0,c=this.target.options[this.prepared.name].inertia.smoothEndDuration;if(b<c){var e;e=b/c;a.sx=-a.xe*e*(e-2)+0;b/=c;a.sy=-a.ye*b*(b-2)+0;this.pointerMove(a.startEvent,a.startEvent);a.i=b4(this.boundSmoothEndFrame)}else{a.ending=!0,a.sx=a.xe,a.sy=a.ye,this.pointerMove(a.startEvent,a.startEvent),this.pointerEnd(a.startEvent,a.startEvent),a.smoothEnd=a.active=a.ending=!1}},addPointer:function(a){var b=bX(a),c=this.mouse?0:bF(this.pointerIds,b);-1===c&&(c=this.pointerIds.length);this.pointerIds[c]=b;this.pointers[c]=a;return c},removePointer:function(a){a=bX(a);a=this.mouse?0:bF(this.pointerIds,a);-1!==a&&(this.pointers.splice(a,1),this.pointerIds.splice(a,1),this.downTargets.splice(a,1),this.downTimes.splice(a,1),this.holdTimers.splice(a,1))},recordPointer:function(a){var b=this.mouse?0:bF(this.pointerIds,bX(a));-1!==b&&(this.pointers[b]=a)},collectEventTargets:function(h,j,k,a){function b(o,s,u){u=D?u.querySelectorAll(s):void 0;o._iEvents[a]&&bE(g)&&bK(o,g)&&!cb(o,g,k)&&ba(o,g,k)&&b2(g,s,u)&&(c.push(o),e.push(g))}var f=this.mouse?0:bF(this.pointerIds,bX(h));if("tap"!==a||!this.pointerWasMoved&&this.downTargets[f]&&this.downTargets[f]===k){for(var c=[],e=[],g=k;g;){bw.isSet(g)&&bw(g)._iEvents[a]&&(c.push(bw(g)),e.push(g)),cf.forEachSelector(b),g=bU(g)}(c.length||"tap"===a)&&this.firePointers(h,j,k,c,e,a)}},firePointers:function(e,h,j,k,o,c){var a=this.mouse?0:bF(this.pointerIds,bX(e)),b={},f,g;"doubletap"===c?b=e:(C(b,h),h!==e&&C(b,e),b.preventDefault=R,b.stopPropagation=l.prototype.stopPropagation,b.stopImmediatePropagation=l.prototype.stopImmediatePropagation,b.interaction=this,b.timeStamp=(new Date).getTime(),b.originalEvent=h,b.originalPointer=e,b.type=c,b.pointerId=bX(e),b.pointerType=this.mouse?"mouse":br?bW(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch");"tap"===c&&(b.dt=b.timeStamp-this.downTimes[a],f=b.timeStamp-this.tapTime,g=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===b.target&&500>f),b["double"]=g,this.tapTime=b.timeStamp);for(e=0;e<k.length&&!(b.currentTarget=o[e],b.interactable=k[e],k[e].fire(b),b.immediatePropagationStopped||b.propagationStopped&&o[e+1]!==b.currentTarget);e++){}g?(k={},bH(k,b),k.dt=f,k.type="doubletap",this.collectEventTargets(k,h,j,"doubletap"),this.prevTap=k):"tap"===c&&(this.prevTap=b)},validateSelector:function(h,j,k,a){for(var b=0,f=k.length;b<f;b++){var c=k[b],e=a[b],g=b7(c.getAction(h,j,this,e),c);if(g&&bQ(c,e,g)){return this.target=c,this.element=e,g}}},setSnapping:function(a,b){var c=this.target.options[this.prepared.name].snap,e=[],f,k,g;b=b||this.snapStatus;b.useStatusXY?k={x:b.x,y:b.y}:(f=ck(this.target,this.element),k=bH({},a),k.x-=f.x,k.y-=f.y);b.realX=k.x;b.realY=k.y;k.x-=this.inertiaStatus.resumeDx;k.y-=this.inertiaStatus.resumeDy;for(var h=c.targets?c.targets.length:0,o=0;o<this.snapOffsets.length;o++){var u=k.x-this.snapOffsets[o].x,w=k.y-this.snapOffsets[o].y;for(g=0;g<h;g++){(f=ce(c.targets[g])?c.targets[g](u,w,this):c.targets[g])&&e.push({x:bT(f.x)?f.x+this.snapOffsets[o].x:u,y:bT(f.y)?f.y+this.snapOffsets[o].y:w,range:bT(f.range)?f.range:c.range})}}var c=null,o=!1,y=0,E=0;g=w=u=0;for(h=e.length;g<h;g++){f=e[g];var I=f.range,ac=f.x-k.x,ad=f.y-k.y,s=O(ac,ad),j=s<=I;Infinity===I&&o&&Infinity!==E&&(j=!1);if(!c||(j?o&&Infinity!==I?s/I<y/E:Infinity===I&&Infinity!==E||s<y:!o&&s<y)){Infinity===I&&(j=!0),c=f,y=s,E=I,o=j,u=ac,w=ad,b.range=I}}c?(e=b.snappedX!==c.x||b.snappedY!==c.y,b.snappedX=c.x,b.snappedY=c.y):(e=!0,b.snappedX=NaN,b.snappedY=NaN);b.dx=u;b.dy=w;b.changed=e||o&&!b.locked;b.locked=o;return b},setRestriction:function(a,b){var c=this.target,e=c&&c.options[this.prepared.name].restrict,f=e&&e.restriction;if(!f){return b}b=b||this.restrictStatus;e=b.useStatusXY?e={x:b.x,y:b.y}:e=bH({},a);b.snap&&b.snap.locked&&(e.x+=b.snap.dx||0,e.y+=b.snap.dy||0);e.x-=this.inertiaStatus.resumeDx;e.y-=this.inertiaStatus.resumeDy;b.dx=0;b.dy=0;b.restricted=!1;if(bW(f)&&(f="parent"===f?bU(this.element):"self"===f?c.getRect(this.element):bL(this.element,f),!f)){return b}ce(f)&&(f=f(e.x,e.y,this.element));bE(f)&&(f=cd(f));(c=f)?"x" in f&&"y" in f?(f=Math.max(Math.min(c.x+c.width-this.restrictOffset.right,e.x),c.x+this.restrictOffset.left),c=Math.max(Math.min(c.y+c.height-this.restrictOffset.bottom,e.y),c.y+this.restrictOffset.top)):(f=Math.max(Math.min(c.right-this.restrictOffset.right,e.x),c.left+this.restrictOffset.left),c=Math.max(Math.min(c.bottom-this.restrictOffset.bottom,e.y),c.top+this.restrictOffset.top)):(f=e.x,c=e.y);b.dx=f-e.x;b.dy=c-e.y;b.changed=b.restrictedX!==f||b.restrictedY!==c;b.restricted=!(!b.dx&&!b.dy);b.restrictedX=f;b.restrictedY=c;return b},checkAndPreventDefault:function(a,b,c){if(b=b||this.target){b=b.options;var e=b.preventDefault;"auto"===e&&c&&!/^(input|select|textarea)$/i.test(a.target.nodeName)?/down|start/i.test(a.type)&&"drag"===this.prepared.name&&"xy"!==b.drag.axis||b[this.prepared.name]&&b[this.prepared.name].manualStart&&!this.interacting()||a.preventDefault():"always"===e&&a.preventDefault()}},calcInertia:function(a){var b=this.target.options[this.prepared.name].inertia,c=b.resistance,e=-Math.log(b.endSpeed/a.v0)/c;a.x0=this.prevEvent.pageX;a.y0=this.prevEvent.pageY;a.t0=a.startEvent.timeStamp/1000;a.sx=a.sy=0;a.modifiedXe=a.xe=(a.vx0-e)/c;a.modifiedYe=a.ye=(a.vy0-e)/c;a.te=e;a.lambda_v0=c/a.v0;a.one_ve_v0=1-b.endSpeed/a.v0},autoScrollMove:function(a){var b;if(b=this.interacting()){b=this.prepared.name;var c=this.target.options;/^resize/.test(b)&&(b="resize");b=c[b].autoScroll&&c[b].autoScroll.enabled}if(b){if(this.inertiaStatus.active){bB.x=bB.y=0}else{var e,f=this.target.options[this.prepared.name].autoScroll,g=f.container||b6(this.element);aa(g)?(e=a.clientX<bB.margin,b=a.clientY<bB.margin,c=a.clientX>g.innerWidth-bB.margin,a=a.clientY>g.innerHeight-bB.margin):(g=B(g),e=a.clientX<g.left+bB.margin,b=a.clientY<g.top+bB.margin,c=a.clientX>g.right-bB.margin,a=a.clientY>g.bottom-bB.margin);bB.x=c?1:e?-1:0;bB.y=a?1:b?-1:0;bB.isScrolling||(bB.margin=f.margin,bB.speed=f.speed,bB.start(this))}}},_updateEventTargets:function(a,b){this._eventTarget=a;this._curEventTarget=b}};l.prototype={preventDefault:Y,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var bx={},J="dragStart dragMove resizeStart resizeMove gestureStart gestureMove pointerOver pointerOut pointerHover selectorDown pointerDown pointerMove pointerUp pointerCancel pointerEnd addPointer removePointer recordPointer autoScrollMove".split(" "),r=0,N=J.length;r<N;r++){var Z=J[r];bx[Z]=bA(Z)}cf.indexOfElement=function(a,b){b=b||b1;for(var c=0;c<this.length;c++){var e=this[c];if(e.selector===a&&e._context===b||!e.selector&&e._element===a){return c}}return -1};cf.get=function(a,b){return this[this.indexOfElement(a,b&&b.context)]};cf.forEachSelector=function(a){for(var b=0;b<this.length;b++){var c=this[b];if(c.selector&&(c=a(c,c.selector,c._context,b,this),void 0!==c)){return c}}};ch.prototype={setOnEvents:function(a,b){"drop"===a?(ce(b.ondrop)&&(this.ondrop=b.ondrop),ce(b.ondropactivate)&&(this.ondropactivate=b.ondropactivate),ce(b.ondropdeactivate)&&(this.ondropdeactivate=b.ondropdeactivate),ce(b.ondragenter)&&(this.ondragenter=b.ondragenter),ce(b.ondragleave)&&(this.ondragleave=b.ondragleave),ce(b.ondropmove)&&(this.ondropmove=b.ondropmove)):(a="on"+a,ce(b.onstart)&&(this[a+"start"]=b.onstart),ce(b.onmove)&&(this[a+"move"]=b.onmove),ce(b.onend)&&(this[a+"end"]=b.onend),ce(b.oninertiastart)&&(this[a+"inertiastart"]=b.oninertiastart));return this},draggable:function(a){return bI(a)?(this.options.drag.enabled=!1===a.enabled?!1:!0,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^x$|^y$|^xy$/.test(a.axis)?this.options.drag.axis=a.axis:null===a.axis&&delete this.options.drag.axis,this):bO(a)?(this.options.drag.enabled=a,this):this.options.drag},setPerAction:function(a,b){for(var c in b){c in cj[a]&&(bI(b[c])?(this.options[a][c]=bH(this.options[a][c]||{},b[c]),bI(cj.perAction[c])&&"enabled" in cj.perAction[c]&&(this.options[a][c].enabled=!1===b[c].enabled?!1:!0)):bO(b[c])&&bI(cj.perAction[c])?this.options[a][c].enabled=b[c]:void 0!==b[c]&&(this.options[a][c]=b[c]))}},dropzone:function(a){return bI(a)?(this.options.drop.enabled=!1===a.enabled?!1:!0,this.setOnEvents("drop",a),/^(pointer|center)$/.test(a.overlap)?this.options.drop.overlap=a.overlap:bT(a.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept" in a&&(this.options.drop.accept=a.accept),"checker" in a&&(this.options.drop.checker=a.checker),this):bO(a)?(this.options.drop.enabled=a,this):this.options.drop},dropCheck:function(e,h,j,k,o,c){var a=!1;if(!(c=c||this.getRect(o))){return this.options.drop.checker?this.options.drop.checker(e,h,a,this,o,j,k):!1}var b=this.options.drop.overlap;if("pointer"===b){var f=bt(e),a=ck(j,k);f.x+=a.x;f.y+=a.y;a=f.x>c.left&&f.x<c.right;f=f.y>c.top&&f.y<c.bottom;a=a&&f}f=j.getRect(k);if("center"===b){var a=f.left+f.width/2,g=f.top+f.height/2,a=a>=c.left&&a<=c.right&&g>=c.top&&g<=c.bottom}bT(b)&&(a=Math.max(0,Math.min(c.right,f.right)-Math.max(c.left,f.left))*Math.max(0,Math.min(c.bottom,f.bottom)-Math.max(c.top,f.top))/(f.width*f.height)>=b);this.options.drop.checker&&(a=this.options.drop.checker(e,h,a,this,o,j,k));return a},dropChecker:function(a){return ce(a)?(this.options.drop.checker=a,this):null===a?(delete this.options.getRect,this):this.options.drop.checker},accept:function(a){return bE(a)||K(a)?(this.options.drop.accept=a,this):null===a?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(a){return bI(a)?(this.options.resize.enabled=!1===a.enabled?!1:!0,this.setPerAction("resize",a),this.setOnEvents("resize",a),/^x$|^y$|^xy$/.test(a.axis)?this.options.resize.axis=a.axis:null===a.axis&&(this.options.resize.axis=cj.resize.axis),bO(a.preserveAspectRatio)?this.options.resize.preserveAspectRatio=a.preserveAspectRatio:bO(a.square)&&(this.options.resize.square=a.square),this):bO(a)?(this.options.resize.enabled=a,this):this.options.resize},squareResize:function(a){return bO(a)?(this.options.resize.square=a,this):null===a?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(a){return bI(a)?(this.options.gesture.enabled=!1===a.enabled?!1:!0,this.setPerAction("gesture",a),this.setOnEvents("gesture",a),this):bO(a)?(this.options.gesture.enabled=a,this):this.options.gesture},autoScroll:function(a){bI(a)?a=bH({actions:["drag","resize"]},a):bO(a)&&(a={actions:["drag","resize"],enabled:a});return this.setOptions("autoScroll",a)},snap:function(a){a=this.setOptions("snap",a);return a===this?this:a.drag},setOptions:function(a,b){var c=b&&n(b.actions)?b.actions:["drag"],e;if(bI(b)||bO(b)){for(e=0;e<c.length;e++){var f=/resize/.test(c[e])?"resize":c[e];bI(this.options[f])&&(f=this.options[f][a],bI(b)?(bH(f,b),f.enabled=!1===b.enabled?!1:!0,"snap"===a&&("grid"===f.mode?f.targets=[bw.createSnapGrid(bH({offset:f.gridOffset||{x:0,y:0}},f.grid||{}))]:"anchor"===f.mode?f.targets=f.anchors:"path"===f.mode&&(f.targets=f.paths),"elementOrigin" in b&&(f.relativePoints=[b.elementOrigin]))):bO(b)&&(f.enabled=b))}return this}c={};f=["drag","resize","gesture"];for(e=0;e<f.length;e++){a in cj[f[e]]&&(c[f[e]]=this.options[f[e]][a])}return c},inertia:function(a){a=this.setOptions("inertia",a);return a===this?this:a.drag},getAction:function(a,b,c,e){var f=this.defaultActionChecker(a,c,e);return this.options.actionChecker?this.options.actionChecker(a,b,f,this,e,c):f},defaultActionChecker:bS,actionChecker:function(a){return ce(a)?(this.options.actionChecker=a,this):null===a?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(a){a=a||this._element;this.selector&&!bE(a)&&(a=this._context.querySelector(this.selector));return cd(a)},rectChecker:function(a){return ce(a)?(this.getRect=a,this):null===a?(delete this.options.getRect,this):this.getRect},styleCursor:function(a){return bO(a)?(this.options.styleCursor=a,this):null===a?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):bO(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault},origin:function(a){return K(a)||bI(a)?(this.options.origin=a,this):this.options.origin},deltaSource:function(a){return"page"===a||"client"===a?(this.options.deltaSource=a,this):this.options.deltaSource},restrict:function(a){if(!bI(a)){return this.setOptions("restrict",a)}for(var b=["drag","resize","gesture"],c,e=0;e<b.length;e++){var f=b[e];f in a&&(c=bH({actions:[f],restriction:a[f]},a),c=this.setOptions("restrict",c))}return c},context:function(){return this._context},_context:b1,ignoreFrom:function(a){return K(a)||bE(a)?(this.options.ignoreFrom=a,this):this.options.ignoreFrom},allowFrom:function(a){return K(a)||bE(a)?(this.options.allowFrom=a,this):this.options.allowFrom},element:function(){return this._element},fire:function(a){if(!a||!a.type||-1===bF(by,a.type)){return this}var b,c,e,f="on"+a.type;if(a.type in this._iEvents){for(b=this._iEvents[a.type],c=0,e=b.length;c<e&&!a.immediatePropagationStopped;c++){b[c](a)}}if(ce(this[f])){this[f](a)}if(a.type in b5&&(b=b5[a.type])){for(c=0,e=b.length;c<e&&!a.immediatePropagationStopped;c++){b[c](a)}}return this},on:function(a,b,c){var e;bW(a)&&-1!==a.search(" ")&&(a=a.trim().split(/ +/));if(n(a)){for(e=0;e<a.length;e++){this.on(a[e],b,c)}return this}if(bI(a)){for(e in a){this.on(e,a[e],b)}return this}"wheel"===a&&(a=G);c=c?!0:!1;if(-1!==bF(by,a)){a in this._iEvents?this._iEvents[a].push(b):this._iEvents[a]=[b]}else{if(this.selector){if(!b0[a]){for(b0[a]={selectors:[],contexts:[],listeners:[]},e=0;e<bu.length;e++){bz.add(bu[e],a,x),bz.add(bu[e],a,M,!0)}}a=b0[a];for(e=a.selectors.length-1;0<=e&&(a.selectors[e]!==this.selector||a.contexts[e]!==this._context);e--){}-1===e&&(e=a.selectors.length,a.selectors.push(this.selector),a.contexts.push(this._context),a.listeners.push([]));a.listeners[e].push([b,c])}else{bz.add(this._element,a,b,c)}}return this},off:function(h,j,k){var a;bW(h)&&-1!==h.search(" ")&&(h=h.trim().split(/ +/));if(n(h)){for(a=0;a<h.length;a++){this.off(h[a],j,k)}return this}if(bI(h)){for(var b in h){this.off(b,h[b],j)}return this}b=-1;k=k?!0:!1;"wheel"===h&&(h=G);if(-1!==bF(by,h)){(k=this._iEvents[h])&&-1!==(b=bF(k,j))&&this._iEvents[h].splice(b,1)}else{if(this.selector){var f=b0[h],c=!1;if(!f){return this}for(b=f.selectors.length-1;0<=b;b--){if(f.selectors[b]===this.selector&&f.contexts[b]===this._context){var e=f.listeners[b];for(a=e.length-1;0<=a;a--){var g=e[a][1];if(e[a][0]===j&&g===k){e.splice(a,1);e.length||(f.selectors.splice(b,1),f.contexts.splice(b,1),f.listeners.splice(b,1),bz.remove(this._context,h,x),bz.remove(this._context,h,M,!0),f.selectors.length||(b0[h]=null));c=!0;break}}if(c){break}}}}else{bz.remove(this._element,h,j,k)}}return this},set:function(a){bI(a)||(a={});this.options=bH({},cj.base);var b,c=["drag","drop","resize","gesture"],e=["draggable","dropzone","resizable","gesturable"],f=bH(bH({},cj.perAction),a[g]||{});for(b=0;b<c.length;b++){var g=c[b];this.options[g]=bH({},cj[g]);this.setPerAction(g,f);this[e[b]](a[g])}c="accept actionChecker allowFrom deltaSource dropChecker ignoreFrom origin preventDefault rectChecker styleCursor".split(" ");b=0;for(N=c.length;b<N;b++){if(e=c[b],this.options[e]=cj.base[e],e in a){this[e](a[e])}}return this},unset:function(){bz.remove(this._element,"all");if(bW(this.selector)){for(var a in b0){for(var b=b0[a];0<b.selectors.length;){b.selectors[0]===this.selector&&b.contexts[0]===this._context&&(b.selectors.splice(0,1),b.contexts.splice(0,1),b.listeners.splice(0,1),b.selectors.length||(b0[a]=null));bz.remove(this._context,a,x);bz.remove(this._context,a,M,!0);break}}}else{bz.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="")}this.dropzone(!1);cf.splice(bF(cf,this),1);return bw}};ch.prototype.snap=bV(ch.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping");ch.prototype.restrict=bV(ch.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction");ch.prototype.inertia=bV(ch.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia");ch.prototype.autoScroll=bV(ch.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll");ch.prototype.squareResize=bV(ch.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square");ch.prototype.accept=bV(ch.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead");ch.prototype.dropChecker=bV(ch.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead");ch.prototype.context=bV(ch.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead");bw.isSet=function(a,b){return -1!==cf.indexOfElement(a,b&&b.context)};bw.on=function(a,b,c){bW(a)&&-1!==a.search(" ")&&(a=a.trim().split(/ +/));if(n(a)){for(var e=0;e<a.length;e++){bw.on(a[e],b,c)}return bw}if(bI(a)){for(e in a){bw.on(e,a[e],b)}return bw}-1!==bF(by,a)?b5[a]?b5[a].push(b):b5[a]=[b]:bz.add(b1,a,b,c);return bw};bw.off=function(a,b,c){bW(a)&&-1!==a.search(" ")&&(a=a.trim().split(/ +/));if(n(a)){for(var e=0;e<a.length;e++){bw.off(a[e],b,c)}return bw}if(bI(a)){for(e in a){bw.off(e,a[e],b)}return bw}if(-1===bF(by,a)){bz.remove(b1,a,b,c)}else{var f;a in b5&&-1!==(f=bF(b5[a],b))&&b5[a].splice(f,1)}return bw};bw.enableDragging=bV(function(a){return null!==a&&void 0!==a?(b3.drag=a,bw):b3.drag},"interact.enableDragging is deprecated and will soon be removed.");bw.enableResizing=bV(function(a){return null!==a&&void 0!==a?(b3.resize=a,bw):b3.resize},"interact.enableResizing is deprecated and will soon be removed.");bw.enableGesturing=bV(function(a){return null!==a&&void 0!==a?(b3.gesture=a,bw):b3.gesture},"interact.enableGesturing is deprecated and will soon be removed.");bw.eventTypes=by;bw.debug=function(){var a=bD[0]||new Q;return{interactions:bD,target:a.target,dragging:a.dragging,resizing:a.resizing,gesturing:a.gesturing,prepared:a.prepared,matches:a.matches,matchElements:a.matchElements,prevCoords:a.prevCoords,startCoords:a.startCoords,pointerIds:a.pointerIds,pointers:a.pointers,addPointer:bx.addPointer,removePointer:bx.removePointer,recordPointer:bx.recordPointer,snap:a.snapStatus,restrict:a.restrictStatus,inertia:a.inertiaStatus,downTime:a.downTimes[0],downEvent:a.downEvent,downPointer:a.downPointer,prevEvent:a.prevEvent,Interactable:ch,interactables:cf,pointerIsDown:a.pointerIsDown,defaultOptions:cj,defaultActionChecker:bS,actionCursors:bm,dragMove:bx.dragMove,resizeMove:bx.resizeMove,gestureMove:bx.gestureMove,pointerUp:bx.pointerUp,pointerDown:bx.pointerDown,pointerMove:bx.pointerMove,pointerHover:bx.pointerHover,eventTypes:by,events:bz,globalEvents:b5,delegatedEvents:b0,prefixedPropREs:bP}};bw.getPointerAverage=L;bw.getTouchBBox=X;bw.getTouchDistance=ci;bw.getTouchAngle=bq;bw.getElementRect=cd;bw.getElementClientRect=B;bw.matchesSelector=b2;bw.closest=bL;bw.margin=bV(function(a){return bT(a)?(bM=a,bw):bM},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead.");bw.supportsTouch=function(){return ab};bw.supportsPointerEvent=function(){return br};bw.stop=function(a){for(var b=bD.length-1;0<=b;b--){bD[b].stop(a)}return bw};bw.dynamicDrop=function(a){return bO(a)?(cc=a,bw):cc};bw.pointerMoveTolerance=function(a){return bT(a)?(bJ=a,this):bJ};bw.maxInteractions=function(a){return bT(a)?(t=a,this):t};bw.createSnapGrid=function(a){return function(b,c){var e=0,f=0;bI(a.offset)&&(e=a.offset.x,f=a.offset.y);return{x:Math.round((b-e)/a.x)*a.x+e,y:Math.round((c-f)/a.y)*a.y+f,range:a.range}}};bv(b1);bn in Element.prototype&&ce(Element.prototype[bn])||(D=function(a,b,c){c=c||a.parentNode.querySelectorAll(b);b=0;for(var e=c.length;b<e;b++){if(c[b]===a){return !0}}return !1});(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!cm.requestAnimationFrame;++c){b4=cm[b[c]+"RequestAnimationFrame"],b8=cm[b[c]+"CancelAnimationFrame"]||cm[b[c]+"CancelRequestAnimationFrame"]}b4||(b4=function(h){var e=(new Date).getTime(),g=Math.max(0,16-(e-a)),f=setTimeout(function(){h(e+g)},g);a=e+g;return f});b8||(b8=function(e){clearTimeout(e)})})();"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=bw),exports.interact=bw):"function"===typeof define&&define.amd?define("interact",function(){return bw}):cm.interact=bw}})("undefined"===typeof window?void 0:window);!function(){var r=function(){this.init()};r.prototype={init:function(){var b=this||t;return b._codecs={},b._howls=[],b._muted=!1,b._volume=1,b._canPlayEvent="canplaythrough",b._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,b.masterGain=null,b.noAudio=!1,b.usingWebAudio=!0,b.autoSuspend=!0,b.ctx=null,b.mobileAutoEnable=!0,b._setup(),b},volume:function(f){var b=this||t;if(f=parseFloat(f),b.ctx||n(),"undefined"!=typeof f&&f>=0&&f<=1){if(b._volume=f,b._muted){return b}b.usingWebAudio&&(b.masterGain.gain.value=f);for(var j=0;j<b._howls.length;j++){if(!b._howls[j]._webAudio){for(var g=b._howls[j]._getSoundIds(),c=0;c<g.length;c++){var h=b._howls[j]._soundById(g[c]);h&&h._node&&(h._node.volume=h._volume*f)}}}return b}return b._volume},mute:function(f){var b=this||t;b.ctx||n(),b._muted=f,b.usingWebAudio&&(b.masterGain.gain.value=f?0:b._volume);for(var j=0;j<b._howls.length;j++){if(!b._howls[j]._webAudio){for(var g=b._howls[j]._getSoundIds(),c=0;c<g.length;c++){var h=b._howls[j]._soundById(g[c]);h&&h._node&&(h._node.muted=!!f||h._muted)}}}return b},unload:function(){for(var b=this||t,c=b._howls.length-1;c>=0;c--){b._howls[c].unload()}return b.usingWebAudio&&"undefined"!=typeof b.ctx.close&&(b.ctx.close(),b.ctx=null,n()),b},codecs:function(b){return(this||t)._codecs[b]},_setup:function(){var b=this||t;return b.state=b.ctx?b.ctx.state||"running":"running",b._autoSuspend(),b.noAudio||b._setupCodecs(),b},_setupCodecs:function(){var h=this||t,f="undefined"!=typeof Audio?new Audio:null;if(!f||"function"!=typeof f.canPlayType){return h}var g=f.canPlayType("audio/mpeg;").replace(/^no$/,""),c=h._navigator&&h._navigator.userAgent.match(/OPR\/([0-6].)/g),b=c&&parseInt(c[0].split("/")[1],10)<33;return h._codecs={mp3:!(b||!g&&!f.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!g,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!f.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},h},_enableMobileAudio:function(){var c=this||t,g=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(c._navigator&&c._navigator.userAgent),b=!!("ontouchend" in window||c._navigator&&c._navigator.maxTouchPoints>0||c._navigator&&c._navigator.msMaxTouchPoints>0);if(!c._mobileEnabled&&c.ctx&&(g||b)){c._mobileEnabled=!1,c._mobileUnloaded||44100===c.ctx.sampleRate||(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(){var h=c.ctx.createBufferSource();h.buffer=c._scratchBuffer,h.connect(c.ctx.destination),"undefined"==typeof h.start?h.noteOn(0):h.start(0),h.onended=function(){h.disconnect(0),c._mobileEnabled=!0,c.mobileAutoEnable=!1,document.removeEventListener("touchend",f,!0)}};return document.addEventListener("touchend",f,!0),c}},_autoSuspend:function(){var f=this;if(f.autoSuspend&&f.ctx&&"undefined"!=typeof f.ctx.suspend&&t.usingWebAudio){for(var c=0;c<f._howls.length;c++){if(f._howls[c]._webAudio){for(var b=0;b<f._howls[c]._sounds.length;b++){if(!f._howls[c]._sounds[b]._paused){return f}}}}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){f.autoSuspend&&(f._suspendTimer=null,f.state="suspending",f.ctx.suspend().then(function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())}))},30000),f}},_autoResume:function(){var b=this;if(b.ctx&&"undefined"!=typeof b.ctx.resume&&t.usingWebAudio){return"running"===b.state&&b._suspendTimer?(clearTimeout(b._suspendTimer),b._suspendTimer=null):"suspended"===b.state?(b.state="resuming",b.ctx.resume().then(function(){b.state="running"}),b._suspendTimer&&(clearTimeout(b._suspendTimer),b._suspendTimer=null)):"suspending"===b.state&&(b._resumeAfterSuspend=!0),b}}};var t=new r,u=function(b){var c=this;return b.src&&0!==b.src.length?void c.init(b):void console.error("An array of source files must be passed with any new Howl.")};u.prototype={init:function(b){var c=this;return t.ctx||n(),c._autoplay=b.autoplay||!1,c._format="string"!=typeof b.format?b.format:[b.format],c._html5=b.html5||!1,c._muted=b.mute||!1,c._loop=b.loop||!1,c._pool=b.pool||5,c._preload="boolean"!=typeof b.preload||b.preload,c._rate=b.rate||1,c._sprite=b.sprite||{},c._src="string"!=typeof b.src?b.src:[b.src],c._volume=void 0!==b.volume?b.volume:1,c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._onend=b.onend?[{fn:b.onend}]:[],c._onfade=b.onfade?[{fn:b.onfade}]:[],c._onload=b.onload?[{fn:b.onload}]:[],c._onloaderror=b.onloaderror?[{fn:b.onloaderror}]:[],c._onpause=b.onpause?[{fn:b.onpause}]:[],c._onplay=b.onplay?[{fn:b.onplay}]:[],c._onstop=b.onstop?[{fn:b.onstop}]:[],c._onmute=b.onmute?[{fn:b.onmute}]:[],c._onvolume=b.onvolume?[{fn:b.onvolume}]:[],c._onrate=b.onrate?[{fn:b.onrate}]:[],c._onseek=b.onseek?[{fn:b.onseek}]:[],c._webAudio=t.usingWebAudio&&!c._html5,"undefined"!=typeof t.ctx&&t.ctx&&t.mobileAutoEnable&&t._enableMobileAudio(),t._howls.push(c),c._preload&&c.load(),c},load:function(){var g=this,c=null;if(t.noAudio){return void g._emit("loaderror",null,"No audio support.")}"string"==typeof g._src&&(g._src=[g._src]);for(var h=0;h<g._src.length;h++){var b,f;if(g._format&&g._format[h]){b=g._format[h]}else{if(f=g._src[h],"string"!=typeof f){g._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(f),b||(b=/\.([^.]+)$/.exec(f.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(t.codecs(b)){c=g._src[h];break}}return c?(g._src=c,g._state="loading","https:"===window.location.protocol&&"http:"===c.slice(0,5)&&(g._html5=!0,g._webAudio=!1),new a(g),g._webAudio&&e(g),g):void g._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(h,J){var K=this,j=null;if("number"==typeof h){j=h,h=null}else{if("string"==typeof h&&"loaded"===K._state&&!K._sprite[h]){return null}if("undefined"==typeof h){h="__default";for(var L=0,b=0;b<K._sounds.length;b++){K._sounds[b]._paused&&!K._sounds[b]._ended&&(L++,j=K._sounds[b]._id)}1===L?h=null:j=null}}var g=j?K._soundById(j):K._inactiveSound();if(!g){return null}if(j&&!h&&(h=g._sprite||"__default"),"loaded"!==K._state&&!K._sprite[h]){return K._queue.push({event:"play",action:function(){K.play(K._soundById(g._id)?g._id:void 0)}}),g._id}if(j&&!g._paused){return J||setTimeout(function(){K._emit("play",g._id)},0),g._id}K._webAudio&&t._autoResume();var l=g._seek>0?g._seek:K._sprite[h][0]/1000,M=(K._sprite[h][0]+K._sprite[h][1])/1000-l,I=1000*M/Math.abs(g._rate);g._paused=!1,g._ended=!1,g._sprite=h,g._seek=l,g._start=K._sprite[h][0]/1000,g._stop=(K._sprite[h][0]+K._sprite[h][1])/1000,g._loop=!(!g._loop&&!K._sprite[h][2]);var m=g._node;if(K._webAudio){var k=function(){K._refreshBuffer(g);var w=g._muted||K._muted?0:g._volume;m.gain.setValueAtTime(w,t.ctx.currentTime),g._playStart=t.ctx.currentTime,"undefined"==typeof m.bufferSource.start?g._loop?m.bufferSource.noteGrainOn(0,l,86400):m.bufferSource.noteGrainOn(0,l,M):g._loop?m.bufferSource.start(0,l,86400):m.bufferSource.start(0,l,M),I!==1/0&&(K._endTimers[g._id]=setTimeout(K._ended.bind(K,g),I)),J||setTimeout(function(){K._emit("play",g._id)},0)};"loaded"===K._state?k():(K.once("load",k,g._id),K._clearTimer(g._id))}else{var f=function(){m.currentTime=l,m.muted=g._muted||K._muted||t._muted||m.muted,m.volume=g._volume*t.volume(),m.playbackRate=g._rate,setTimeout(function(){m.play(),I!==1/0&&(K._endTimers[g._id]=setTimeout(K._ended.bind(K,g),I)),J||K._emit("play",g._id)},0)},c="loaded"===K._state&&(window&&window.ejecta||!m.readyState&&t._navigator.isCocoonJS);if(4===m.readyState||c){f()}else{var p=function(){f(),m.removeEventListener(t._canPlayEvent,p,!1)};m.addEventListener(t._canPlayEvent,p,!1),K._clearTimer(g._id)}}return g._id},pause:function(c){var f=this;if("loaded"!==f._state){return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f}for(var g=f._getSoundIds(c),b=0;b<g.length;b++){f._clearTimer(g[b]);var h=f._soundById(g[b]);if(h&&!h._paused){if(h._seek=f.seek(g[b]),h._rateSeek=0,h._paused=!0,f._stopFade(g[b]),h._node){if(f._webAudio){if(!h._node.bufferSource){return f}"undefined"==typeof h._node.bufferSource.stop?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),f._cleanBuffer(h._node)}else{isNaN(h._node.duration)&&h._node.duration!==1/0||h._node.pause()}}arguments[1]||f._emit("pause",h._id)}}return f},stop:function(h,c){var g=this;if("loaded"!==g._state){return g._queue.push({event:"stop",action:function(){g.stop(h)}}),g}for(var j=g._getSoundIds(h),f=0;f<j.length;f++){g._clearTimer(j[f]);var b=g._soundById(j[f]);if(b&&!b._paused&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,g._stopFade(j[f]),b._node)){if(g._webAudio){if(!b._node.bufferSource){return g}"undefined"==typeof b._node.bufferSource.stop?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),g._cleanBuffer(b._node)}else{isNaN(b._node.duration)&&b._node.duration!==1/0||(b._node.currentTime=b._start||0,b._node.pause())}}b&&!c&&g._emit("stop",b._id)}return g},mute:function(f,b){var j=this;if("loaded"!==j._state){return j._queue.push({event:"mute",action:function(){j.mute(f,b)}}),j}if("undefined"==typeof b){if("boolean"!=typeof f){return j._muted}j._muted=f}for(var g=j._getSoundIds(b),c=0;c<g.length;c++){var h=j._soundById(g[c]);h&&(h._muted=f,j._webAudio&&h._node?h._node.gain.setValueAtTime(f?0:h._volume,t.ctx.currentTime):h._node&&(h._node.muted=!!t._muted||f),j._emit("mute",h._id))}return j},volume:function(){var b,j,f=this,c=arguments;if(0===c.length){return f._volume}if(1===c.length){var h=f._getSoundIds(),l=h.indexOf(c[0]);l>=0?j=parseInt(c[0],10):b=parseFloat(c[0])}else{c.length>=2&&(b=parseFloat(c[0]),j=parseInt(c[1],10))}var k;if(!("undefined"!=typeof b&&b>=0&&b<=1)){return k=j?f._soundById(j):f._sounds[0],k?k._volume:0}if("loaded"!==f._state){return f._queue.push({event:"volume",action:function(){f.volume.apply(f,c)}}),f}"undefined"==typeof j&&(f._volume=b),j=f._getSoundIds(j);for(var g=0;g<j.length;g++){k=f._soundById(j[g]),k&&(k._volume=b,c[2]||f._stopFade(j[g]),f._webAudio&&k._node&&!k._muted?k._node.gain.setValueAtTime(b,t.ctx.currentTime):k._node&&!k._muted&&(k._node.volume=b*t.volume()),f._emit("volume",k._id))}return f},fade:function(h,J,K,j){var L=this,b=Math.abs(h-J),g=h>J?"out":"in",l=b/0.01,M=K/l;if("loaded"!==L._state){return L._queue.push({event:"fade",action:function(){L.fade(h,J,K,j)}}),L}L.volume(h,j);for(var I=L._getSoundIds(j),m=0;m<I.length;m++){var k=L._soundById(I[m]);if(k){if(j||L._stopFade(I[m]),L._webAudio&&!k._muted){var f=t.ctx.currentTime,c=f+K/1000;k._volume=h,k._node.gain.setValueAtTime(h,f),k._node.gain.linearRampToValueAtTime(J,c)}var p=h;k._interval=setInterval(function(w,x){p+="in"===g?0.01:-0.01,p=Math.max(0,p),p=Math.min(1,p),p=Math.round(100*p)/100,L._webAudio?("undefined"==typeof j&&(L._volume=p),x._volume=p):L.volume(p,w,!0),p===J&&(clearInterval(x._interval),x._interval=null,L.volume(p,w),L._emit("fade",w))}.bind(L,I[m],k),M)}}return L},_stopFade:function(f){var c=this,b=c._soundById(f);return b&&b._interval&&(c._webAudio&&b._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(b._interval),b._interval=null,c._emit("fade",f)),c},loop:function(){var f,b,c,j=this,h=arguments;if(0===h.length){return j._loop}if(1===h.length){if("boolean"!=typeof h[0]){return c=j._soundById(parseInt(h[0],10)),!!c&&c._loop}f=h[0],j._loop=f}else{2===h.length&&(f=h[0],b=parseInt(h[1],10))}for(var g=j._getSoundIds(b),k=0;k<g.length;k++){c=j._soundById(g[k]),c&&(c._loop=f,j._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=f))}return j},rate:function(){var m,f,c=this,j=arguments;if(0===j.length){f=c._sounds[0]._id}else{if(1===j.length){var g=c._getSoundIds(),k=g.indexOf(j[0]);k>=0?f=parseInt(j[0],10):m=parseFloat(j[0])}else{2===j.length&&(m=parseFloat(j[0]),f=parseInt(j[1],10))}}var l;if("number"!=typeof m){return l=c._soundById(f),l?l._rate:c._rate}if("loaded"!==c._state){return c._queue.push({event:"rate",action:function(){c.rate.apply(c,j)}}),c}"undefined"==typeof f&&(c._rate=m),f=c._getSoundIds(f);for(var p=0;p<f.length;p++){if(l=c._soundById(f[p])){l._rateSeek=c.seek(f[p]),l._playStart=c._webAudio?t.ctx.currentTime:l._playStart,l._rate=m,c._webAudio&&l._node&&l._node.bufferSource?l._node.bufferSource.playbackRate.value=m:l._node&&(l._node.playbackRate=m);var h=c.seek(f[p]),b=(c._sprite[l._sprite][0]+c._sprite[l._sprite][1])/1000-h,E=1000*b/Math.abs(l._rate);!c._endTimers[f[p]]&&l._paused||(c._clearTimer(f[p]),c._endTimers[f[p]]=setTimeout(c._ended.bind(c,l),E)),c._emit("rate",l._id)}}return c},seek:function(){var m,c,f=this,h=arguments;if(0===h.length){c=f._sounds[0]._id}else{if(1===h.length){var g=f._getSoundIds(),k=g.indexOf(h[0]);k>=0?c=parseInt(h[0],10):(c=f._sounds[0]._id,m=parseFloat(h[0]))}else{2===h.length&&(m=parseFloat(h[0]),c=parseInt(h[1],10))}}if("undefined"==typeof c){return f}if("loaded"!==f._state){return f._queue.push({event:"seek",action:function(){f.seek.apply(f,h)}}),f}var l=f._soundById(c);if(l){if(!("number"==typeof m&&m>=0)){if(f._webAudio){var p=f.playing(c)?t.ctx.currentTime-l._playStart:0,j=l._rateSeek?l._rateSeek-l._seek:0;return l._seek+(j+p*Math.abs(l._rate))}return l._node.currentTime}var b=f.playing(c);b&&f.pause(c,!0),l._seek=m,l._ended=!1,f._clearTimer(c),b&&f.play(c,!0),!f._webAudio&&l._node&&(l._node.currentTime=m),f._emit("seek",c)}return f},playing:function(g){var f=this;if("number"==typeof g){var c=f._soundById(g);return !!c&&!c._paused}for(var b=0;b<f._sounds.length;b++){if(!f._sounds[b]._paused){return !0}}return !1},duration:function(g){var f=this,c=f._duration,b=f._soundById(g);return b&&(c=f._sprite[b._sprite][1]/1000),c},state:function(){return this._state},unload:function(){for(var f=this,c=f._sounds,h=0;h<c.length;h++){c[h]._paused||(f.stop(c[h]._id),f._emit("end",c[h]._id)),f._webAudio||(c[h]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",c[h]._node.removeEventListener("error",c[h]._errorFn,!1),c[h]._node.removeEventListener(t._canPlayEvent,c[h]._loadFn,!1)),delete c[h]._node,f._clearTimer(c[h]._id);var b=t._howls.indexOf(f);b>=0&&t._howls.splice(b,1)}var g=!0;for(h=0;h<t._howls.length;h++){if(t._howls[h]._src===f._src){g=!1;break}}return v&&g&&delete v[f._src],f._state="unloaded",f._sounds=[],f=null,null},on:function(h,c,g,j){var f=this,b=f["_on"+h];return"function"==typeof c&&b.push(j?{id:g,fn:c,once:j}:{id:g,fn:c}),f},off:function(f,b,c){var j=this,h=j["_on"+f],g=0;if(b){for(g=0;g<h.length;g++){if(b===h[g].fn&&c===h[g].id){h.splice(g,1);break}}}else{if(f){j["_on"+f]=[]}else{var k=Object.keys(j);for(g=0;g<k.length;g++){0===k[g].indexOf("_on")&&Array.isArray(j[k[g]])&&(j[k[g]]=[])}}}return j},once:function(g,f,c){var b=this;return b.on(g,f,c,1),b},_emit:function(h,c,g){for(var j=this,f=j["_on"+h],b=f.length-1;b>=0;b--){f[b].id&&f[b].id!==c&&"load"!==h||(setTimeout(function(k){k.call(this,c,g)}.bind(j,f[b].fn),0),f[b].once&&j.off(h,f[b].fn,f[b].id))}return j},_loadQueue:function(){var b=this;if(b._queue.length>0){var c=b._queue[0];b.once(c.event,function(){b._queue.shift(),b._loadQueue()}),c.action()}return b},_ended:function(h){var f=this,g=h._sprite,c=!(!h._loop&&!f._sprite[g][2]);if(f._emit("end",h._id),!f._webAudio&&c&&f.stop(h._id,!0).play(h._id),f._webAudio&&c){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=t.ctx.currentTime;var b=1000*(h._stop-h._start)/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),b)}return f._webAudio&&!c&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),t._autoSuspend()),f._webAudio||c||f.stop(h._id),f},_clearTimer:function(b){var c=this;return c._endTimers[b]&&(clearTimeout(c._endTimers[b]),delete c._endTimers[b]),c},_soundById:function(b){for(var c=this,f=0;f<c._sounds.length;f++){if(b===c._sounds[f]._id){return c._sounds[f]}}return null},_inactiveSound:function(){var b=this;b._drain();for(var c=0;c<b._sounds.length;c++){if(b._sounds[c]._ended){return b._sounds[c].reset()}}return new a(b)},_drain:function(){var g=this,f=g._pool,c=0,b=0;if(!(g._sounds.length<f)){for(b=0;b<g._sounds.length;b++){g._sounds[b]._ended&&c++}for(b=g._sounds.length-1;b>=0;b--){if(c<=f){return}g._sounds[b]._ended&&(g._webAudio&&g._sounds[b]._node&&g._sounds[b]._node.disconnect(0),g._sounds.splice(b,1),c--)}}},_getSoundIds:function(g){var f=this;if("undefined"==typeof g){for(var c=[],b=0;b<f._sounds.length;b++){c.push(f._sounds[b]._id)}return c}return[g]},_refreshBuffer:function(b){var c=this;return b._node.bufferSource=t.ctx.createBufferSource(),b._node.bufferSource.buffer=v[c._src],b._panner?b._node.bufferSource.connect(b._panner):b._node.bufferSource.connect(b._node),b._node.bufferSource.loop=b._loop,b._loop&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop),b._node.bufferSource.playbackRate.value=b._rate,c},_cleanBuffer:function(b){var c=this;if(c._scratchBuffer){b.bufferSource.onended=null,b.bufferSource.disconnect(0);try{b.bufferSource.buffer=c._scratchBuffer}catch(b){}}return b.bufferSource=null,c}};var a=function(b){this._parent=b,this.init()};a.prototype={init:function(){var b=this,c=b._parent;return b._muted=c._muted,b._loop=c._loop,b._volume=c._volume,b._muted=c._muted,b._rate=c._rate,b._seek=0,b._paused=!0,b._ended=!0,b._sprite="__default",b._id=Math.round(Date.now()*Math.random()),c._sounds.push(b),b.create(),b},create:function(){var f=this,c=f._parent,b=t._muted||f._muted||f._parent._muted?0:f._volume;return c._webAudio?(f._node="undefined"==typeof t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),f._node.gain.setValueAtTime(b,t.ctx.currentTime),f._node.paused=!0,f._node.connect(t.masterGain)):(f._node=new Audio,f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(t._canPlayEvent,f._loadFn,!1),f._node.src=c._src,f._node.preload="auto",f._node.volume=b*t.volume(),f._node.load()),f},reset:function(){var b=this,c=b._parent;return b._muted=c._muted,b._loop=c._loop,b._volume=c._volume,b._muted=c._muted,b._rate=c._rate,b._seek=0,b._rateSeek=0,b._paused=!0,b._ended=!0,b._sprite="__default",b._id=Math.round(Date.now()*Math.random()),b},_errorListener:function(){var b=this;b._node.error&&4===b._node.error.code&&(t.noAudio=!0),b._parent._emit("loaderror",b._id,b._node.error?b._node.error.code:0),b._node.removeEventListener("error",b._errorListener,!1)},_loadListener:function(){var b=this,c=b._parent;c._duration=Math.ceil(10*b._node.duration)/10,0===Object.keys(c._sprite).length&&(c._sprite={__default:[0,1000*c._duration]}),"loaded"!==c._state&&(c._state="loaded",c._emit("load"),c._loadQueue()),c._autoplay&&c.play(),b._node.removeEventListener(t._canPlayEvent,b._loadFn,!1)}};var v={},e=function(h){var f=h._src;if(v[f]){return h._duration=v[f].duration,void s(h)}if(/^data:[^;]+;base64,/.test(f)){for(var g=atob(f.split(",")[1]),c=new Uint8Array(g.length),j=0;j<g.length;++j){c[j]=g.charCodeAt(j)}q(c.buffer,h)}else{var b=new XMLHttpRequest;b.open("GET",f,!0),b.responseType="arraybuffer",b.onload=function(){var k=(b.status+"")[0];return"0"!==k&&"2"!==k&&"3"!==k?void h._emit("loaderror",null,"Failed loading audio file with status: "+b.status+"."):void q(b.response,h)},b.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete v[f],h.load())},o(b)}},o=function(b){try{b.send()}catch(c){b.onerror()}},q=function(b,c){t.ctx.decodeAudioData(b,function(f){f&&c._sounds.length>0&&(v[c._src]=f,s(c,f))},function(){c._emit("loaderror",null,"Decoding audio data failed.")})},s=function(b,c){c&&!b._duration&&(b._duration=c.duration),0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1000*b._duration]}),"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue()),b._autoplay&&b.play()},n=function(){t.noAudio=!1;try{"undefined"!=typeof AudioContext?t.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(h){t.usingWebAudio=!1}if(!t.usingWebAudio){if("undefined"!=typeof Audio){try{var h=new Audio;"undefined"==typeof h.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(h){t.noAudio=!0}}else{t.noAudio=!0}}try{var h=new Audio;h.muted&&(t.noAudio=!0)}catch(h){}var f=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),g=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=g?parseInt(g[1],10):null;if(f&&c&&c<9){var b=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());(t._navigator&&t._navigator.standalone&&!b||t._navigator&&!t._navigator.standalone&&!b)&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain="undefined"==typeof t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.value=1,t.masterGain.connect(t.ctx.destination)),t._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:t,Howl:u}}),"undefined"!=typeof exports&&(exports.Howler=t,exports.Howl=u),"undefined"!=typeof window?(window.HowlerGlobal=r,window.Howler=t,window.Howl=u,window.Sound=a):"undefined"!=typeof global&&(global.HowlerGlobal=r,global.Howler=t,global.Howl=u,global.Sound=a)}();!function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(f){var e=this;if(!e.ctx||!e.ctx.listener){return e}for(var a=e._howls.length-1;a>=0;a--){e._howls[a].stereo(f)}return e},HowlerGlobal.prototype.pos=function(h,e,a){var g=this;return g.ctx&&g.ctx.listener?(e="number"!=typeof e?g._pos[1]:e,a="number"!=typeof a?g._pos[2]:a,"number"!=typeof h?g._pos:(g._pos=[h,e,a],g.ctx.listener.setPosition(g._pos[0],g._pos[1],g._pos[2]),g)):g},HowlerGlobal.prototype.orientation=function(m,e,p,l,o,q){var a=this;if(!a.ctx||!a.ctx.listener){return a}var n=a._orientation;return e="number"!=typeof e?n[1]:e,p="number"!=typeof p?n[2]:p,l="number"!=typeof l?n[3]:l,o="number"!=typeof o?n[4]:o,q="number"!=typeof q?n[5]:q,"number"!=typeof m?n:(a._orientation=[m,e,p,l,o,q],a.ctx.listener.setOrientation(m,e,p,l,o,q),a)},Howl.prototype.init=function(a){return function(e){var f=this;return f._orientation=e.orientation||[1,0,0],f._stereo=e.stereo||null,f._pos=e.pos||null,f._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:10000,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},f._onstereo=e.onstereo?[{fn:e.onstereo}]:[],f._onpos=e.onpos?[{fn:e.onpos}]:[],f._onorientation=e.onorientation?[{fn:e.onorientation}]:[],a.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(j,n){var k=this;if(!k._webAudio){return k}if("loaded"!==k._state){return k._queue.push({event:"stereo",action:function(){k.stereo(j,n)}}),k}var m="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof j){return k._stereo}k._stereo=j,k._pos=[j,0,0]}for(var o=k._getSoundIds(n),a=0;a<o.length;a++){var l=k._soundById(o[a]);if(l){if("number"!=typeof j){return l._stereo}l._stereo=j,l._pos=[j,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",l._panner&&l._panner.pan||b(l,m),"spatial"===m?l._panner.setPosition(j,0,0):l._panner.pan.value=j),k._emit("stereo",l._id)}}return k},Howl.prototype.pos=function(f,p,l,o){var q=this;if(!q._webAudio){return q}if("loaded"!==q._state){return q._queue.push({event:"pos",action:function(){q.pos(f,p,l,o)}}),q}if(p="number"!=typeof p?0:p,l="number"!=typeof l?-0.5:l,"undefined"==typeof o){if("number"!=typeof f){return q._pos}q._pos=[f,p,l]}for(var a=q._getSoundIds(o),m=0;m<a.length;m++){var n=q._soundById(a[m]);if(n){if("number"!=typeof f){return n._pos}n._pos=[f,p,l],n._node&&(n._panner&&!n._panner.pan||b(n,"spatial"),n._panner.setPosition(f,p,l)),q._emit("pos",n._id)}}return q},Howl.prototype.orientation=function(f,p,l,o){var q=this;if(!q._webAudio){return q}if("loaded"!==q._state){return q._queue.push({event:"orientation",action:function(){q.orientation(f,p,l,o)}}),q}if(p="number"!=typeof p?q._orientation[1]:p,l="number"!=typeof l?q._orientation[2]:l,"undefined"==typeof o){if("number"!=typeof f){return q._orientation}q._orientation=[f,p,l]}for(var a=q._getSoundIds(o),m=0;m<a.length;m++){var n=q._soundById(a[m]);if(n){if("number"!=typeof f){return n._orientation}n._orientation=[f,p,l],n._node&&(n._panner||(n._pos||(n._pos=q._pos||[0,0,-0.5]),b(n,"spatial")),n._panner.setOrientation(f,p,l)),q._emit("orientation",n._id)}}return q},Howl.prototype.pannerAttr=function(){var p,f,q,s=this,o=arguments;if(!s._webAudio){return s}if(0===o.length){return s._pannerAttr}if(1===o.length){if("object"!=typeof o[0]){return q=s._soundById(parseInt(o[0],10)),q?q._pannerAttr:s._pannerAttr}p=o[0],"undefined"==typeof f&&(s._pannerAttr={coneInnerAngle:"undefined"!=typeof p.coneInnerAngle?p.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:"undefined"!=typeof p.coneOuterAngle?p.coneOuterAngle:s._coneOuterAngle,coneOuterGain:"undefined"!=typeof p.coneOuterGain?p.coneOuterGain:s._coneOuterGain,distanceModel:"undefined"!=typeof p.distanceModel?p.distanceModel:s._distanceModel,maxDistance:"undefined"!=typeof p.maxDistance?p.maxDistance:s._maxDistance,panningModel:"undefined"!=typeof p.panningModel?p.panningModel:s._panningModel,refDistance:"undefined"!=typeof p.refDistance?p.refDistance:s._refDistance,rolloffFactor:"undefined"!=typeof p.rolloffFactor?p.rolloffFactor:s._rolloffFactor})}else{2===o.length&&(p=o[0],f=parseInt(o[1],10))}for(var m=s._getSoundIds(f),r=0;r<m.length;r++){if(q=s._soundById(m[r])){var n=q._pannerAttr;n={coneInnerAngle:"undefined"!=typeof p.coneInnerAngle?p.coneInnerAngle:n.coneInnerAngle,coneOuterAngle:"undefined"!=typeof p.coneOuterAngle?p.coneOuterAngle:n.coneOuterAngle,coneOuterGain:"undefined"!=typeof p.coneOuterGain?p.coneOuterGain:n.coneOuterGain,distanceModel:"undefined"!=typeof p.distanceModel?p.distanceModel:n.distanceModel,maxDistance:"undefined"!=typeof p.maxDistance?p.maxDistance:n.maxDistance,panningModel:"undefined"!=typeof p.panningModel?p.panningModel:n.panningModel,refDistance:"undefined"!=typeof p.refDistance?p.refDistance:n.refDistance,rolloffFactor:"undefined"!=typeof p.rolloffFactor?p.rolloffFactor:n.rolloffFactor};var a=q._panner;a?(a.coneInnerAngle=n.coneInnerAngle,a.coneOuterAngle=n.coneOuterAngle,a.coneOuterGain=n.coneOuterGain,a.distanceModel=n.distanceModel,a.maxDistance=n.maxDistance,a.panningModel=n.panningModel,a.refDistance=n.refDistance,a.rolloffFactor=n.rolloffFactor):(q._pos||(q._pos=s._pos||[0,0,-0.5]),b(q,"spatial"))}}return s},Sound.prototype.init=function(a){return function(){var e=this,f=e._parent;e._orientation=f._orientation,e._stereo=f._stereo,e._pos=f._pos,e._pannerAttr=f._pannerAttr,a.call(this),e._stereo?f.stereo(e._stereo):e._pos&&f.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(a){return function(){var e=this,f=e._parent;return e._orientation=f._orientation,e._pos=f._pos,e._pannerAttr=f._pannerAttr,a.call(this)}}(Sound.prototype.reset);var b=function(a,e){e=e||"spatial","spatial"===e?(a._panner=Howler.ctx.createPanner(),a._panner.coneInnerAngle=a._pannerAttr.coneInnerAngle,a._panner.coneOuterAngle=a._pannerAttr.coneOuterAngle,a._panner.coneOuterGain=a._pannerAttr.coneOuterGain,a._panner.distanceModel=a._pannerAttr.distanceModel,a._panner.maxDistance=a._pannerAttr.maxDistance,a._panner.panningModel=a._pannerAttr.panningModel,a._panner.refDistance=a._pannerAttr.refDistance,a._panner.rolloffFactor=a._pannerAttr.rolloffFactor,a._panner.setPosition(a._pos[0],a._pos[1],a._pos[2]),a._panner.setOrientation(a._orientation[0],a._orientation[1],a._orientation[2])):(a._panner=Howler.ctx.createStereoPanner(),a._panner.pan.value=a._stereo),a._panner.connect(a._node),a._paused||a._parent.pause(a._id,!0).play(a._id)}}();var NUMBERS="0123456789";var LOWERCASE="abcdefghijklmnopqrstuvwxyz";var UPPERCASE="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function ValidString(c,e){if(c==""){return false}for(i=0;i<c.length;i++){if(e.indexOf(c.charAt(i),0)==-1){return false}}return true}function IsNumber(b){return ValidString(b,NUMBERS)}function IsLower(b){return ValidString(b,LOWERCASE)}function IsUpper(b){return ValidString(b,UPPERCASE)}function IsAlpha(b){return ValidString(b,LOWERCASE+UPPERCASE)}function IsAlphanum(b){return ValidString(b,LOWERCASE+UPPERCASE+NUMBERS)}function EncodeEntities(b){if(!b){return""}return b.replace(/&/g,"&amp;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e){var f=e.charCodeAt(0);var a=e.charCodeAt(1);return"&#"+(((f-55296)*1024)+(a-56320)+65536)+";"}).replace(/([^\#-~| |!])/g,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Merge(){var j={};for(var k=0,g=arguments.length;k<g;k++){var h=arguments[k];for(var f in h){j[f]=h[f]}}return j}function DeepCopy(g){var e,f,h;e=Array.isArray(g)?[]:{};for(h in g){f=g[h];e[h]=(typeof f==="object")?DeepCopy(f):f}return e}function PrintArray(u,y){var t=[];y=y||0;var r=[];for(var w=0;w<y+1;w++){r.push("\t")}r=r.join("");if(typeof(u)=="object"){var x=0;for(var p in u){if(p.length>x){x=p.length}}for(var p in u){var q=u[p];if(typeof(q)=="object"){t.push(r+p+":");t.push(PrintArray(q,y+1))}else{var j=p.length;var o=Math.floor((x-j)/6)+1;var s=[];for(var v=0;v<o;v++){s.push("\t")}s=s.join("");t.push(r+p+":"+s+q)}}}else{t.push(r+u+"\t("+typeof(u)+")")}return t.join("\n")}function PrintTimestamp(l,n){if(l){var p=new Date(l*1000)}else{var p=new Date()}var o=p.getFullYear();var q=p.getMonth()+1;q=q<10?"0"+q:q;var m=p.getDate();m=m<10?"0"+m:m;if(n){return o+"-"+q+"-"+m}var r=p.getHours();r=r<10?"0"+r:r;var s=p.getMinutes();s=s<10?"0"+s:s;var t=p.getSeconds();t=t<10?"0"+t:t;return o+"-"+q+"-"+m+" "+r+":"+s+":"+t}function SecondsToTime(j,f){f=f||0;var g=Math.floor(j/3600);g=g<10?"0"+g:g;var k=Math.floor((j%3600)/60);k=k<10?"0"+k:k;var h=j%60;h=h<10?"0"+h.toFixed(f):h.toFixed(f);return g+":"+k+":"+h}function GMTToLocal(g){if(!g){var h=new Date();var e=h.toISOString().substr(0,19);var g=h.toTimeString();return e.substr(0,11)+g.substr(0,8)+e.substr(19)}g=g.replace(" ","T");var h=new Date();var j=new Date(g);if(isNaN(j.getTime())){throw new Error("Invalid date: "+g)}j.setMinutes(j.getMinutes()+h.getTimezoneOffset());return j.toISOString().substr(0,19)}function LocalToGMT(f){var g=new Date();if(!f){var e=new Date(g.toISOString().substr(0,19).replace(" ","T")+"Z");e.setMinutes(e.getMinutes()-g.getTimezoneOffset());return e.toISOString().substr(0,19)}f=f.replace(" ","T");var e=new Date(f+"Z");if(isNaN(e.getTime())){throw new Error("Invalid date: "+f)}e.setMinutes(e.getMinutes()-g.getTimezoneOffset());return e.toISOString().substr(0,19)}function DisplayTime(b){return b.substr(0,19).replace("T"," ")}function Keys(g){var e=[];for(var f in g){e.push(f)}return e}function Values(g){var f=[];for(var e in g){switch(typeof g[e]){case"function":continue}f.push(g[e])}return f}function IsFunc(b){return typeof b==="function"}function IsEmpty(c){if(typeof c==="undefined"){return true}if(Array.isArray(c)){if(c.length==0){return true}}else{for(var e in c){if(c.hasOwnProperty(e)){return false}}return true}return false}function NestObjects(){var g=arguments[0];for(var h=1,f=arguments.length;h<f;h++){var e=arguments[h];if(IsEmpty(g[e])){g[e]={}}g=g[e]}return g}function basename(b){return b.replace(/\\/g,"/").replace(/.*\//,"")}function dirname(b){return b.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}String.prototype.startswith=function(b){return this.indexOf(b)==0};String.prototype.endswith=function(b){return this.indexOf(b,this.length-b.length)!==-1};String.prototype.replaceAll=function(e,f,g){return this.replace(new RegExp(e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(g?"gi":"g")),(typeof(f)=="string")?f.replace(/\$/g,"$$$$"):f)};String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})};Array.prototype.remove=function(){var f,h=arguments,a=h.length,g;while(a&&this.length){f=h[--a];while((g=this.indexOf(f))!==-1){this.splice(g,1)}}return this};Array.prototype.contains=function(g){var f=this.length;for(var e=0;e<this.length;e++){if(this[e]==g){return true}}return false};Array.prototype.addtext=function(e,c){c=c||"\n";this.push(e.join(c))};function Shuffle(a){var j=a.length,k,g,h;if(j==0){return false}while(--j){k=Math.floor(Math.random()*(j+1));g=a[j];h=a[k];a[j]=h;a[k]=g}return a}function strcmp(b,f,a){if(a){b=b.toUpperCase();f=f.toUpperCase()}if(b>f){return 1}if(f>b){return -1}return 0}function RandInt(c,e){return Math.floor(Math.random()*(e-c))+c}function Range(j,g,h){var f=Array();for(var k=j;k<g;k+=h){f.push(k)}return f}function IsString(b){return(typeof b=="string"||b instanceof String)}function IsNum(b){return typeof b=="number"}function IsArray(b){return(b instanceof Array)||(Object.prototype.toString.apply(b)==="[object Array]")}function IsObject(b){return b===Object(b)}function isIE(){var b=navigator.userAgent.toLowerCase();return(b.indexOf("msie")!=-1)?parseInt(b.split("msie")[1]):false}(function(){var a=/\{\{|\}\}|\{(\d*)((?:\.(?:\w+)|\[(?:[^\]]*)\])*)(?::(?:([^{}]?)([<>=^]))?([-+\x20])?(\#)?(0)?(\d*)(,)?(?:\.(\d+))?([bcdeEfFgGosxX%])?)?\}/g;function b(e){var f=-1;var j=Array.prototype.slice.call(arguments,1);return e.replace(a,function c(L,y,Q,m,g,R,q,I,C,H,t,A){function S(n,o){var s="";while(o>0){if(o&1){s+=n}o>>=1;n+=n}return s}var D;var ad;var h;var k=new ReferenceError(L+" is "+D+".");var J={b:function O(){if(q){q="0b"}return q+D.toString(16)},c:function B(){return String.fromCharCode(20)},d:function z(){return D},e:function v(){return D.toExponential(t||6)},E:function M(){return D.toExponential(t||6).toUpperCase()},f:function p(){return D.toFixed(t||6)},F:function K(){return J.f()},g:function r(){if(D===0){return 1/D===Infinity?"0":"-0"}if(t===0){t=1}var n=Math.abs(D);if(0.0001<=n&&n<Math.pow(10,t||6)){return +J.f()}else{return D.toExponential(t)}},G:function l(){return J.g().toUpperCase()},n:function af(){return J.g()},o:function ae(){if(q){q="0o"}return q+D.toString(8)},s:function N(){return(""+D).substring(0,t)},x:function U(){if(q){q="0x"}return q+D.toString(16)},X:function w(){if(q){q="0x"}return q+D.toString(16).toUpperCase()},"%":function u(){D*=100;return J.f()+"%"}};if(L==="{{"){return"{"}if(L==="}}"){return"}"}if(I){m=m||"0";g=g||"="}y=y||++f;D=j[y];Q.replace(/\.(\w+)|\[([^\]]*)\]/g,function(o,n,s){if(D==null){throw k}D=D[n||s]});if(D==null){throw k}if(!D.toExponential){if(A&&A!="s"){throw new TypeError(L+" used on "+D)}A="s";g=g||"<"}if(D==null){throw new TypeError(L+" is "+D)}ad=""+J[A||"g"]();if(H){h=ad.split(".");h[0]=h[0].replace(/(?=\d(?:\d{3})+$)/g,",");ad=h.join(".")}if(C){m=m||" ";switch(g){case"<":ad+=S(m,C-ad.length);break;case"=":switch(R){case"+":case" ":if(ad.charAt(0)==="-"){R="-";ad=ad.substring(1)}break;default:if(ad.charAt(0)!=="-"){R=""}break}ad=R+S(m,C-ad.length-(""+R).length)+ad;break;case"^":C-=ad.length;ad=S(m,Math.floor(C/2))+ad+S(m,Math.ceil(C/2));break;default:ad=S(m,C-ad.length)+ad;break}}return ad})}if(typeof module!=="undefined"){module.exports=b}else{this.format=b}}.call(this));function ToParams(k){var h=[];for(var j in k){if(k.hasOwnProperty(j)){var f=j,g=k[j];h.push(typeof g=="object"?ToParams(g,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}}return h.join("&")}function DB(){this.intransaction=false;this.commands=[]}DB.prototype.Begin=function(){this.intransaction=true;return this};DB.prototype.Commit=function(){if(!this.commands.length){return}var b=_.promise();P.API("db/run",{commands:this.commands},function(a){b.fire(a.error?false:true,a)},{timeout:300,handleerror:0});this.intransaction=false;this.commands=[];return b};DB.prototype.Load=function(f,j,h,g,k){g=g||"*";k=k||[];this.commands.push({result:f,command:"load",model:j,ids:h,fields:g,methods:k});if(!this.intransaction){return this.Commit()}return this};DB.prototype.LoadMany=function(e,h,g,f){f=f||"*";this.commands.push({result:e,command:"loadmany",model:h,ids:g,fields:f});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Find=function(h,m,l,g){var j=null;var k=0;var g=g||{};start=g.start||0;limit=g.limit||100;orderby=g.orderby||"";fields=g.fields||"*";methods=g.methods||[];this.commands.push({result:h,command:"find",model:m,cond:l,start:start,limit:limit,orderby:orderby,fields:fields});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Update=function(f,e,h,g){this.commands.push({result:f,command:"update",model:e,ids:h,data:g});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Save=function(f,e,g){this.commands.push({result:f,command:"save",model:e,data:g});if(!this.intransaction){return this.Commit()}return this};DB.prototype.SaveMany=function(f,e,g){this.commands.push({result:f,command:"savemany",model:e,data:g});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Delete=function(f,g,e){this.commands.push({command:"delete",model:f,ids:g,cond:e});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Link=function(k,n,m,o,h,j,l){h=h||0;j=j||0;l=l||"";this.commands.push({command:"link",model1:k,id1:n,model2:m,id2:o,linktype:h,num:j,comment:l});if(!this.intransaction){return this.Commit()}return this};DB.prototype.LinkArray=function(k,n,m,o,h,j,l){h=h||0;j=j||0;l=l||"";this.commands.push({command:"linkarray",model1:k,id1:n,model2:m,id2:o,linktype:h,num:j,comment:l});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Unlink=function(h,k,j,f,g){this.commands.push({command:"unlink",model1:h,id1:k,model2:j,id2:f,linktype:g});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Linked=function(j,k,n,l,o,m,h){o=o||0;m=m||"";h=h||[];this.commands.push({result:j,command:"linked",model1:k,id1:n,model2:l,linktype:o,orderby:m,methods:h});if(!this.intransaction){return this.Commit()}return this};DB.prototype.UnlinkMany=function(g,e,h,f){f=f||0;this.commands.push({command:"unlinkmany",model1:g,id1:e,model2:h,linktype:f});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Query=function(e,c){this.commands.push({result:e,command:"query",query:c});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Eval=function(e,c){this.commands.push({result:e,command:"eval",code:c});if(!this.intransaction){return this.Commit()}return this};DB.prototype.Fields=function(e,c){this.commands.push({result:e,command:"fields",model:c});if(!this.intransaction){return this.Commit()}return this};DB.prototype.ListTypes=function(b){this.commands.push({result:b,command:"listtypes"});if(!this.intransaction){return this.Commit()}return this};DB.prototype.SaveTranslation=function(f,h,g,e){this.commands.push({result:f,command:"savetranslation",model:h,ids:g,translations:e});if(!this.intransaction){return this.Commit()}return this};var _db=new DB();LBUTTON=0;RBUTTON=1;MBUTTON=2;P={Init:function(){this.lang=1;this.userid=0;this.wallpaper="blue";this.texttheme="dark";this.media={};this.mediatoload=[];this.onmedialoaded=[];this.currentmediaid=0;this.events={};this.messageboxids=[];this.features=[];this.possumbot="possum";this.quickfuncs=[];this.istouch=0;this.mousex=0;this.mousey=0;this.currenty=0;this.holdpos=0;this.ignoreup=0;this.lastclicktime=0;this.emsize=0;this.firstview=1;this.screensize="small";this.currenturl="";this.viewportwidth=0;this.viewportheight=0;this.dontrestorecontent=[];this.timeoffset=new Date().getTimezoneOffset();this.ischrome=/\bChrome\b/.test(navigator.userAgent);this.isfirefox=/\bFirefox\b/.test(navigator.userAgent);this.issafari=/\bSafari\b/.test(navigator.userAgent);this.isedge=/\bEdge\b/.test(navigator.userAgent);this.useadvanced=this.ischrome||this.isfirefox||this.issafari||this.isedge;this.preloads={};this.screenorientation=window.innerWidth>window.innerHeight?"landscape":"portrait";this.currentpermissions="";this.inphoneapp=(typeof JSBridge!="undefined");this.onuploadfinished=0;this.layerstack=[]},URL:function(e,c){c=c||P.currentapp;return P.baseurl+c+"/"+e},APIURL:function(e,c){c=c||P.currentapp;return P.baseurl+"a/"+c+"/"+e},DataURL:function(e,c){c=c||P.currentapp;return P.baseurl+"d/"+c+"/"+e},ImageURL:function(e,c){c=c||P.currentapp;return P.baseurl+"i/"+c+"/"+e},SoundURL:function(e,c){c=c||P.currentapp;return P.baseurl+"s/"+c+"/"+e},CSSURL:function(e,c){c=c||P.currentapp;return P.baseurl+"c/"+c+"/"+e+".css"},JSURL:function(e,c){c=c||P.currentapp;return P.baseurl+"j/"+c+"/"+e+".js"},Target:function(c){c=c||window.event;var e=c.target||c.srcElement;return $(e)},Selected:function(e){var c=$$(e);return c.options[c.selectedIndex]},Debug:function(b){$$(".DebugMessages").innerHTML+=b+"\n"},CancelBubble:function(b){b=b||window.event;if(b.stopPropagation){b.preventDefault();b.stopPropagation()}else{b.cancelBubble=true}},HTML:function(f,e){var g=$$(f);if(g){g.innerHTML=e.join("\n")}},CodeDir:function(h){var f=[];for(var j=0,g=h.length;j<g;j+=3){f.push(h.substr(j,3))}return f.join("/")},DoneTyping:function(h,k,j){j=j||1000;var g=$(h);var l=g[0];g.on("|change |keydown |paste |input",function(a){if(l.typingtimeoutid){clearTimeout(l.typingtimeoutid)}l.typingtimeoutid=setTimeout(function(){l.typingtimeoutid=0;k(g)},j)});g.on("|blur",function(a){if(l.typingtimeoutid){clearTimeout(l.typingtimeoutid);l.typingtimeoutid=0;k(g)}})},OnClick:function(j,l,n,h,m){var k=interact(j);if(n){k.on("tap",function(a){var b=Date.now();if(n&&(a.button==l||a.button==undefined)){if((!P.holdpos||(Math.abs(a.screenX-P.holdpos.x)>32||Math.abs(a.screenY-P.holdpos.y)>32))&&(P.lastclicktime+300<b)){P.lastclicktime=b;n(a)}P.holdpos=0}})}if(h){k.on("doubletap",function(a){if(h&&(a.button==l||a.button==undefined)){h(a)}})}if(m){k.on("hold",function(a){if(m&&(a.button==l||a.button==undefined)){m(a);P.holdpos={x:a.screenX,y:a.screenY}}})}},AddHandler:function(c,e){if(!this.events[c]){this.events[c]=[]}this.events[c].push(e)},ClearHandlers:function(b){this.events[b]=[]},Loading:function(e){var c=$(e);if(c.length){c.ht(["<div class=Center>",'<img style="height: 1.3em;" src="'+this.baseurl+'i/h/loading.gif">',"<div class=Cleared></div>","</div>"].join("\n"));P.ScrollTo(c)}},ScrollTo:function(b){setTimeout(function(){var f=$(b);if(f.length){var g=P.AbsoluteRect(f);var a=g.top<window.pageYOffset;if(a||g.bottom>window.pageYOffset+window.innerHeight){f[0].scrollIntoView({behavior:"smooth",block:a?"start":"end"})}}},200)},AbsoluteRect:function(g){var e=$$(g);if(!e){return 0}var f=e.getBoundingClientRect();return{left:f.left+window.pageXOffset,top:f.top+window.pageYOffset,right:f.right+window.pageXOffset,bottom:f.bottom+window.pageYOffset,width:f.width,height:f.height}},EMSize:function(b){b=b||document.body;return Number(getComputedStyle(b,"").fontSize.match(/(\d*(\.\d*)?)px/)[1])},AutoWidth:function(){$(".AutoWidth").each(function(k,u,z){k=$(k);var r=k.up();var p=r.get("$width",true);var q=P.EMSize($$(r));var y=k.get("%autowidth",true);var w=Math.round(p/(q*y));var s=0;var x=k.get(["$marginLeft","$paddingLeft","$paddingRight","$marginRight"],true);for(var v in x){if(x[v]){s+=x[v]}}if(!w){w=1}var t=Math.floor((p/w)-s);k.set("$width",t+"px");if(k.get("%autosquare")){k.set("$height",t+"px")}})},SameWidth:function(x,A,r){var B=$(x);if(!B.length){return}var k=$(B[0]);var s=k.up();var q=s.get("$width",true);var v=P.EMSize($$(s));var y=Math.round(q/(A*v));var t=0;var z=k.get(["$marginLeft","$paddingLeft","$paddingRight","$marginRight"],true);for(var w in z){if(z[w]){t+=z[w]}}if(!y){y=1}var u=Math.floor((q/y)-t);B.set("$width",u+"px");if(r){B.set("$height",Math.floor(u*r)+"px")}return u+"px"},SameMaxWidth:function(g){var h=0;var j=$(g);if(!j.length){return}j.each(function(a,e,c){var b=parseFloat($$(a).clientWidth);if(b>h){h=b}});var l=P.EMSize($$(j[0]));var k=Math.round(((h/l)+0.00001)*100)/100;j.set("$width",k+"em")},SameMaxHeight:function(h){var j=0;var k=$(h);if(!k.length){return}k.each(function(a,c,b){var e=parseFloat($$(a).clientHeight);if(e>j){j=e}});var g=P.EMSize($$(k[0]));var l=Math.round(((j/g)+0.00001)*100)/100;k.set("$height",l+"em")},Trace:function(){StackTrace.get().then(function(e){var c=e.map(function(a){return a.toString()}).join("\n");console.log(c)})},Popup:function(p,m){var r={"$width":"16em","$color":"black","$backgroundColor":"transparent","$zIndex":1000};switch(P.screensize){case"medium":r.width="22em";break;case"large":r.width="30em";break}m=Merge(r,m);var t=m.popupclass?m.popupclass:0;if(!t){for(;;){t="Popup"+RandInt(1,999999999);if(!$("."+t).length){break}}}$("body").add(HTML('<div class="Popup '+t+'" style="position: absolute; left: 0; top: 0;"></div>'));var v=$("."+t);v.fill(p);v.set(m);var n=P.ViewPortRect();var u=v[0].getBoundingClientRect();var s=0;var o=0;if(m.parent){var q=P.AbsoluteRect(m.parent);switch(m.position){case"left":s=q.left-u.width;o=q.top;break;case"top":s=q.left;o=q.top-u.height;break;case"right":s=q.right;o=q.top;break;default:s=q.left;o=q.bottom}}else{var q={left:P.mousex,top:P.mousey,width:0,height:0};s=m["$left"]?parseInt(m["$left"]):n.width/2-u.width/2+n.left;o=m["$top"]?parseInt(m["$top"]):n.height/2-u.height/2+n.top}if(s+u.width>n.right){s=n.right-u.width-P.emsize}if(o+u.height>n.bottom){o=n.bottom-u.height}if(s<n.left){s=n.left}if(o<n.top){o=n.top}v.set({"$left":q.left+"px","$top":q.top+"px","$width":q.width+"px","$height":q.height+"px"}).show().animate({"$left":s+"px","$top":o+"px","$width":m["$width"],"$height":"auto"},300);if(m.closeonmouseout){setTimeout(function(){P.mousex=s+1;P.mousey=o+1;P.ClosePopupOnMouseOut([m.parent,"."+t])},500)}P.AddLayer(t);return"."+t},ClosePopupOnMouseOut:function(l,j){var n=0;for(var m=0,o=l.length;m<o;m++){var p=P.AbsoluteRect(l[m]);if(P.InRect(P.mousex,P.mousey,p)){n=1;break}}if(!n){var k=l[l.length-1];P.RemoveLayer(k);$(k).remove();if(j){j()}return}setTimeout(function(){P.ClosePopupOnMouseOut(l,j)},500)},CloseThisPopup:function(e){var c=$(e);if(c.is(".Popup")){P.ClosePopup(c)}else{P.ClosePopup(c.up("div.Popup"))}},MessageBox:function(k,l,g){if(!g){g={}}if(!g.popupclass){var j=RandInt(1,99999999);while(P.messageboxids.indexOf(j)!=-1){j=RandInt(1,99999999)}g.popupclass="MsgBox"+j}var h=['<div class="Pad50 whiteb Raised">'];if(!IsArray(k)){k=[k]}h.addtext(k);h.push("<div class=MessageBoxBar></div></div>");P.Popup(HTML(h.join("\n")),g);if(!l){l=[[T[1],function(){P.CloseThisPopup("."+g.popupclass+" .MessageBoxBar")}]]}P.MakeButtonBar("."+g.popupclass+" .MessageBoxBar",l)},ErrorPopup:function(c,e){P.MessageBox(['<div class="Pad100 Error">','<img src="/i/h/icons/caution.png" class="FloatLeft Padded">',"<span class=ErrorPopupMsg>"+c+"</span>","</div>","<br class=Cleared>"],[[T[1],function(){P.CloseThisPopup(".ErrorPopupMsg")}]],Merge({popupclass:"ErrorPopup"},e))},ClosePopup:function(b){b=b||".Popup";$(b).animate({"$left":"0px","$top":"0px","$width":"0px","$height":"0px"},300);setTimeout(function(){var a=$(b);if(a.length){a.remove()}},300)},EditPopup:function(k,W,ag){ag=ag||{};var Y={"$backgroundColor":"white",popupclass:"EditPopup"};var ah=ag.formdiv;var aj=ah?ah+"Form":"EditPopupForm";var l=ag.cancelfunc;var ak=ag.fullscreen;var ae=ag.gobuttontext;var L=ag.cancelbuttontext;var ac=ag.extrabuttons||"";var N=ah?(ah+"Results"):"EditPopupResults";delete ag.formdiv;delete ag.cancelfunc;delete ag.fullscreen;delete ag.gobuttontext;delete ag.cancelbuttontext;delete ag.extrabuttons;ag=Merge(Y,ag);var ad=['<form class="'+aj+'">'];if(P.screensize!="small"){ad.push('<table class="Width100 EditPopupTable"><tbody>');if(!ag["$width"]){ag["$width"]="40em"}}for(var M=0,U=k.length;M<U;M++){if(!k[M]){continue}var j=k[M][0];var m=k[M][1];var X=k[M][2];var al=k[M][3];var af=k[M][4];var ab=k[M][5];if(!ab){ab=""}if(!X){X=""}if(!af){af=""}switch(m){case"select":var R=[];if(IsArray(af)){for(var O=0,aa=af.length;O<aa;O++){var S=af[O];R.push("<option "+((X==S)?"selected":"")+">"+S+"</option>")}}else{for(var Q in af){var S=af[Q];R.push('<option value="'+S+'" '+((X==S)?"selected":"")+">"+Q+"</option>")}}editfield='<select name="'+j+'" class="'+j+'" '+ab+">"+R.join("\n")+"</select>";break;case"multitext":editfield='<div class=FlexInput data-name="'+j+'" class="'+j+'" data-value="'+EncodeEntities(X.toString())+'" placeholder="'+EncodeEntities(af)+'" data-attrs="'+EncodeEntities(ab)+'">';break;case"int":editfield='<input type=number name="'+j+'" class="'+j+'" value="'+X+'" placeholder="'+EncodeEntities(af)+'" '+ab+">";break;case"float":editfield='<input type=number step=any name="'+j+'" class="'+j+'" value="'+X+'" placeholder="'+EncodeEntities(af)+'"'+ab+">";break;case"datetime-local":editfield='<input type=datetime-local name="'+j+'" class="'+j+'" value="'+GMTToLocal(X)+'" placeholder="'+EncodeEntities(af)+'"'+ab+">";break;case"custom":editfield='<input type=hidden name="'+j+'" class="'+j+'" value="'+EncodeEntities(X.toString())+'"'+ab+'><div class="FormRow '+af+'"></div>';break;default:editfield="<input type="+m+' name="'+j+'" class="'+j+'" value="'+EncodeEntities(X.toString())+'" placeholder="'+EncodeEntities(af)+'"'+ab+">"}if(m=="hidden"){ad.push(editfield)}else{if(P.screensize=="small"){ad=ad.concat(['<div class="'+j+'Row">',"<label>"+al+"</label>",editfield,"</div>"])}else{ad=ad.concat(['<tr class="'+j+'Row">',"<th class=Width8>"+al+"</th>","<td>"+editfield+"</td>","</tr>"])}}}if(P.screensize!="small"){ad.push("</tbody></table><br>")}ad.addtext(["<br class=Cleared>","<div class=ButtonBar>",'<a class="ConfirmButton Color3"><img class="LineHeight BusyIcon">'+(ae?ae:T[47])+"</a>",'<a class="Spacer Width2"></a>',ah?'<a class="ResetButton Color2"><img class="LineHeight BusyIcon">'+T[39]+"</a>":"",'<a class="CancelButton Color1"><img class="LineHeight BusyIcon">'+(L?L:T[1])+"</a>",ac,"</div>","</form>",'<div class="'+N+'"></div>',"<div class=Cleared></div>"]);if(ah){P.HTML("."+ah,ad);var V="."+ah+" .ResetButton";$(V).on("click",P.Busy(V,function(){$$("."+aj).reset()}));if(l){var v="."+ah+" .CancelButton";$(v).on("click",P.Busy(v,function(){l("."+ah)}))}}else{if(ak||P.screensize=="small"){$(".FullScreen").set("+dblueg").ht(ad.join("\n")).show();var v=".FullScreen .CancelButton";$(v).on("click",P.Busy(v,function(){$(".FullScreen").hide();if(l){l(".FullScreen")}}));ah="FullScreen"}else{ah=P.Popup(HTML('<div class="whiteb Pad50 Raised">'+ad.join("\n")+"</div>"),ag);var v=ah+" .CancelButton";$(v).on("click",P.Busy(v,function(){$(ah).remove();if(l){l(ah)}}))}}var Z="."+aj+" .ConfirmButton";$(Z).on("click",P.Busy(Z,function(){if(W("."+ah,P.FormToArray("."+aj),$("."+N))){if(ah=="FullScreen"){$(".FullScreen").hide()}else{if(ah.indexOf("#Popup")!=-1){P.CloseThisPopup(this)}}}}));$("."+aj).on("submit",function(a){if(a.preventDefault){a.preventDefault()}});P.FlexInput();var ai=$("."+aj+" input");if(ai.length){ai[0].focus()}else{ai=$("."+aj+" textarea");if(ai.length){ai[0].focus()}}if(P.screensize!="small"){$(".EditPopupTable select").set({"$position":"relative","$top":"1em"});$(".EditPopupTable th").set({"$position":"relative","$top":"0.5em"});$(".EditPopupTable input").set({"$margin":"0px","$width":"110%"});$(".EditPopupTable .FlexInput").set({"$marginTop":"1em","$border":"0.01em solid transparent"})}},EditThis:function(j,f,g){j=$(j);if(g){g=[["newvalue"].concat(g)]}else{g=[["newvalue","multitext",h,"Change text"]]}var h=j.text();P.EditPopup(g,function(){var a=$(".newvalue").get("value");j.fill(a);if(f){f(j,a)}return true},{parent:j,popupclass:"EditThisPopup"})},FlagToToggle:function(h,f,g){var j=" data-toggled=";if(h&f){return j+"on"}if(h&g){return j+"off"}return j+"unset"},EditPermissionPopup:function(e,c){P.HTML(".FullScreenContent",['<div class="Pad50 EditPermissions">',"<h2>Editing Permissions for "+e+"("+JSON.stringify(c)+")</h2>","<div class=PermissionResults></div>","<div class=ButtonBar>",'<a class="ConfirmButton Color3" onclick="P.SavePermissions()">'+T[34]+"</a>",'<a class="AddButton Color2" onclick="P.AddPermissionPopup()">'+T[21]+"</a>",'<a class="CancelButton Color1" onclick="$(\'.FullScreen\').hide();">'+T[1]+"</a>","</div>","<div class=Cleared></div>","<div class=SavePermissionResults></div>","</div>"]);$(".FullScreen").set("+dblueg").show();P.LoadingAPI(".PermissionResults","permissions/get",{model:e,objid:c},function(a,b){a.item.model=e;a.item.ids=c;P.currentpermissions=a.item;P.DisplayPermissions()})},DisplayPermissions:function(){var o=$(".PermissionResults");if(!P.currentpermissions){o.ht("No permissions found");return}var n=P.currentpermissions;var r=['<table class="Width100 Permissions">',"<tr data-type=owner>","<th>Owner</th>",'<td colspan=7 class="greeng Owner HoverHighlight" data-objid='+n.owner+">"+n.ownername+"</td>","</tr>","<tr data-type=defaults>","<th>Defaults</th>","<td class=ToggleButton"+P.FlagToToggle(n.access,1,2)+">Create</td>","<td class=ToggleButton"+P.FlagToToggle(n.access,64,128)+">Read</td>","<td class=ToggleButton"+P.FlagToToggle(n.access,4,8)+">Write</td>","<td class=ToggleButton"+P.FlagToToggle(n.access,16,32)+">Delete</td>","<td class=ToggleButton"+P.FlagToToggle(n.access,256,512)+">Link</td>","<td class=ToggleButton"+P.FlagToToggle(n.access,4096,8192)+">View All</td>","<td></td>","</tr>","<tr data-type=header class=usersheader>","<th colspan=7>Users</th>","</tr>"];var k=n.users.length;if(!k){r.push("<tr data-type=none><td colspan=7>No users added.</td></tr>")}else{for(var p=0,k=n.users.length;p<k;p++){var q=n.users[p];var l=q.access;r.addtext(["<tr data-type=user data-objid="+q.id+">","<th>"+q.name+"</th>","<td class=ToggleButton"+P.FlagToToggle(l,1,2)+">Create</td>","<td class=ToggleButton"+P.FlagToToggle(l,64,128)+">Read</td>","<td class=ToggleButton"+P.FlagToToggle(l,4,8)+">Write</td>","<td class=ToggleButton"+P.FlagToToggle(l,16,32)+">Delete</td>","<td class=ToggleButton"+P.FlagToToggle(l,256,512)+">Link</td>","<td class=ToggleButton"+P.FlagToToggle(l,4096,8192)+">View All</td>",'<td class=Color1 onclick="P.DeletePermissions(this)">Delete</td>',"</tr>"])}}r.addtext(["<tr data-type=header class=groupsheader>","<th colspan=7>Groups</th>","</tr>"]);if(!k){r.push("<tr data-type=none><td colspan=7>No groups added.</td></tr>")}else{for(var p=0,k=n.groups.length;p<k;p++){var m=n.groups[p];var l=m.access;r.addtext(["<tr data-type=user data-objid="+m.id+">","<th>"+m.name+"</th>","<td class=ToggleButton"+P.FlagToToggle(l,1,2)+">Create</td>","<td class=ToggleButton"+P.FlagToToggle(l,64,128)+">Read</td>","<td class=ToggleButton"+P.FlagToToggle(l,4,8)+">Write</td>","<td class=ToggleButton"+P.FlagToToggle(l,16,32)+">Delete</td>","<td class=ToggleButton"+P.FlagToToggle(l,256,512)+">Link</td>","<td class=ToggleButton"+P.FlagToToggle(l,4096,8192)+">View All</td>",'<td class=Color1 onclick="P.DeletePermissions(this)">Delete</td>',"</tr>"])}}r.push("</table>");P.HTML(o,r);P.MakeToggleButtons(".EditPermissions .ToggleButton",1);P.OnClick(".Permissions .Owner",LBUTTON,P.ChangeOwnerPopup)},DeletePermissions:function(p){var o=$(p).up("tr");var e=parseInt(o.get("%objid"));var t=$("th",o,1).text();var l=P.currentpermissions;switch(o.get("%type")){case"user":for(var q=0,s=l.users.length;q<s;q++){var r=l.users[q];if((e&&r.id==e)||r.name==t){P.currentpermissions.users.splice(q,1);break}}break;case"groups":for(var q=0,s=l.groups.length;q<s;q++){var n=l.groups[q];if((e&&n.id==e)||n.name==t){P.currentpermissions.groups.splice(q,1);break}}break}P.DisplayPermissions()},ChangeOwner:function(){var b=$$(".newowner").value;$(".Permissions .Owner").set("%objid",0).fill(b);P.currentpermissions.owner=0;P.currentpermissions.ownername=b;P.ClosePopup(".ChangeOwnerPopup");return true},ChangeOwnerPopup:function(){P.EditPopup([["newowner","text","",T[53]]],P.ChangeOwner,{parent:".Permissions .Owner",cancelfunc:function(b){P.CloseThisPopup(b)},popupclass:"ChangeOwnerPopup"});P.OnEnter(".newowner",P.ChangeOwner)},AddPermissionPopup:function(e,c){P.Popup(HTML(['<div class="Pad50 whiteb AddPermission">',"<div>Type of permissions to add:</div>",'<div class="Radio AddTypeSelect">',"<input type=text value=users class=addtype>","<div data-value=users>User</div>","<div data-value=groups>Group</div>","</div>","<br class=Cleared><br>","<div>","Name or phone to add:","</div>","<div>","<input type=text class=addid>","</div>","<div class=ButtonBar>",'<a class="ConfirmButton Color3" onclick="P.AddPermission()">'+T[21]+"</a>",'<a class="Spacer Width400"></>','<a class="CancelButton Color1" onclick="P.CloseThisPopup(this);">'+T[1]+"</a>","</div>","<div class=Cleared></div>","</div>"].join("\n")),{popupclass:"AddPermissionPopup"});P.MakeRadioButtons(".AddTypeSelect");P.OnEnter(".addid",P.AddPermission)},AddPermission:function(){P.currentpermissions[$$(".addtype").value].push({id:0,name:$$(".addid").value,access:0});P.DisplayPermissions();P.ClosePopup(".AddPermissionPopup")},RowToAccess:function(c){var e=0;$("td",c,1).each(function(b,g){var a=$(b).get("%toggled");switch(a){case"on":switch(g){case 0:e|=1;break;case 1:e|=64;break;case 2:e|=4;break;case 3:e|=16;break;case 4:e|=256;break;case 5:e|=4096;break}break;case"off":switch(g){case 0:e|=2;break;case 1:e|=128;break;case 2:e|=8;break;case 3:e|=32;break;case 4:e|=512;break;case 5:e|=8192;break}break}});return e},SavePermissions:function(){var b={owner:$(".Owner").get("%objid"),ownername:$(".Owner").text(),users:[],groups:[],model:P.currentpermissions.model,objid:P.currentpermissions.ids};$(".Permissions tr").each(function(a){a=$(a);switch(a.get("%type")){case"user":b.users.push({id:a.get("%objid"),name:$("th",a,1).text(),access:P.RowToAccess(a)});break;case"group":b.groups.push({id:a.get("%objid"),name:$("th",a,1).text(),access:P.RowToAccess(a)});break;case"owner":var e=$("td",a,1);b.owner=e.get("%objid");b.ownername=e.text();break;case"defaults":b.access=P.RowToAccess(a);break}});P.LoadingAPI(".SavePermissionResults","permissions/set",b,function(){$(".FullScreen").hide()},{timeout:600})},Icon:function(b){return'<img class=LineHeight src="'+P.IconURL(b)+'">'},IconURL:function(b){return P.baseurl+"i/h/svg/"+b+".svg"},IconTD:function(c,e){return'<td class="Color'+e+' Center"><img class=LineHeight src="'+P.IconURL(c)+'"></td>'},Tooltip:function(f,g,e){e=e||1000;$(f).onOver(function(c,j){var b=$(this);if(c){b.set("%tooltiptimer",setTimeout(function(){var h=P.Popup(HTML(g(b)),{parent:b,position:"top",closeonmouseout:1});$(h).set("+Tooltip")},e))}else{var a=b.get("%tooltiptimer");if(a){clearTimeout(a);b.set("%tooltiptimer","")}}})},MakeButtonBar:function(l,m){var q=[];var p=1;var n=0;var r="";for(var o=0,k=m.length;o<k;o++){n=m[o];if(n[1]=="custom"){q.push(n[0]);continue}if(n.length>2&&n[2]){p=n[2]}r=(n.length>3)?n[3]:"";q.push('<a class="Color'+p+" Button"+o+" "+r+'"><img class="LineHeight BusyIcon">'+n[0]+"</a>");p++;if(p>6){p=1}}$(l).set("+ButtonBar").ht(q.join("\n"));for(var o=0,k=m.length;o<k;o++){var n=l+" .Button"+o;P.OnClick(n,LBUTTON,P.Busy(n,m[o][1]))}},DragMoveListener:function(f){var j=f.target,g=(parseFloat(j.getAttribute("data-x"))||0)+f.dx,h=(parseFloat(j.getAttribute("data-y"))||0)+f.dy;j.style.webkitTransform=j.style.transform="translate("+g+"px, "+h+"px)";j.setAttribute("data-x",g);j.setAttribute("data-y",h)},MakeFloatingButton:function(g,h){var j=$(g);if(!j.length){var f=P.Popup(HTML(h));j=$(f);j.hide()}setTimeout(function(){j.set("+"+g.substr(1)).set({"$zIndex":"1100","$position":"fixed","$left":"110%","$top":"80%","$cursor":"nwse-resize"}).show().animate({"$left":"80%","$top":"80%","$width":"auto"},300)},500);interact(g).draggable({inertia:true,autoScroll:true,onmove:P.DragMoveListener,restrict:{restriction:"parent",endOnly:true,elementRect:{top:0,left:0,bottom:1,right:1}}});return g},Busy:function(e,c){return function(j,a){var h=$(e+" .BusyIcon");var b=h.get("@src");h.set("@src",P.ImageURL("busy.svg","h"));c(j,a);setTimeout(function(){h.set("@src",b)},500)}},MakeRange:function(k,n,q,l,o,m,r){o=o?o:q;m=m||"";var p=$(k);P.HTML(p,["<div class=ButtonBar>",m?"<span class=RangeTitle>"+m+"</span>":"",'<meter class="Range '+n+'" min='+q+" max="+l+" value="+o+"></meter>","<span class=RangeDisplay>"+o+"</span>","</div>"]);P.OnClick(k+" .Range",LBUTTON,function(e){var h=$(k+" .Range");var g=parseInt(h.get("@min"));var c=parseInt(h.get("@max"));var f=h[0].value;var b=P.AbsoluteRect(h);var a=Math.round(((P.mousex-b.left)/b.width)*(c-g))+g;if(f==a){return}h[0].value=a;$(k+" .RangeDisplay").fill(a);r(h,a)})},MoveUp:function(j,g,f){j=$(j);if(g){j=j.up(g)}if(!j.length){return}var h=$(j.trav("previousSibling")[0]);j.addAfter(h.clone());h.remove();if(f){f(j)}},MoveDown:function(h,g,f){h=$(h);if(g){h=h.up(g)}if(!h.length){return}var j=h.next();h.addBefore(j.clone());j.remove();if(f){f(h)}},MakeSortableTable:function(b){$(b).on("click",function(h){var j=P.Target(h);if(j[0].tagName!="TD"){j=j.up("td")}var a=j.up("tr");var e=$("img",j).get("@src");if(!e){return}if(e.indexOf("up")!=-1){P.MoveUp(a)}else{if(e.indexOf("down")!=-1){P.MoveDown(a)}else{if(e.indexOf("delete")!=-1){a.remove()}}}})},ConfirmDeletePopup:function(c,e){P.Popup(HTML(['<div class="DeletePopup yellowb Pad50">',"<p>",T[57]+c+"?","</p>","<div class=DeleteButtonBar></div>","<div class=Cleared></div>","<div class=ConfirmDeleteResults></div>","<div class=Cleared></div>","</div>"].join("\n")),{popupclass:"ConfirmDeletePopup"});P.MakeButtonBar(".DeleteButtonBar",[[T[34],e][T[1],function(b,a){P.CloseThisPopup(a)}]])},ViewPortRect:function(){var e=window,k=document,l=k.documentElement,m=k.getElementsByTagName("body")[0];var n=e.innerWidth;var g=e.innerHeight;return{left:e.pageXOffset,top:e.pageYOffset,right:e.pageXOffset+n,bottom:e.pageYOffset+g,width:n,height:g}},OnResize:function(){if(!P.emsize){return}var h=P.ViewPortRect();P.viewportwidth=h.width;P.viewportheight=h.height;P.numems=h.width/P.emsize;if(P.numems<25){P.screensize="small"}else{if(P.numems<50){P.screensize="medium"}else{P.screensize="large"}}$("#ScreenSizeStylesheet").set("@href",P.baseurl+"c/h/"+P.screensize+".css");if(P.wallpaper){$("body").set("$backgroundImage","url('/i/h/wallpapers/"+P.wallpaper+"-"+P.screensize+".jpg')")}if(P.texttheme){$("#TextThemeStylesheet").set("@href","/c/h/themes/"+P.texttheme+".css")}if(!IsEmpty(P.events.resize)){var f=P.events.resize;for(var j=0,g=f.length;j<g;j++){f[j]()}}},StoreInArray:function(r,q,m){var n=q.split(".");var k=n.length;var l=r;for(var o=0;o<k;o++){var p=n[o];if(o!=k-1){if(!IsObject(l[p])){l[p]={}}}else{if(l[p]){if(!IsArray(l[p])){l[p]=[]}l[p].push(m)}else{l[p]=m}}l=l[n[o]]}return r},FormToArray:function(f){var g={};var e=$(f);$("input",e).each(function(b,n,m){var p=$(b);var o=p.get("@name");var a=p.get("value");var c=p.get("@type");if(!o){return}switch(c){case"number":a=parseFloat(a);break;case"datetime-local":a=LocalToGMT(a);break}P.StoreInArray(g,o,a)});$("textarea",e).each(function(b,l,c){var n=$(b);var m=n.get("@name");var a=n.get("value");if(!m){return}P.StoreInArray(g,m,a)});$("select",e).each(function(b,l,c){var n=$(b);var m=n.get("@name");var a=n.get("value");if(!m){return}P.StoreInArray(g,m,a)});$(".ToggleButton",e).each(function(b,l,c){var n=$(b);var m=n.get("%name");var a=n.get("%toggled");if(m){P.StoreInArray(g,m,a)}});$(".FormInput",e).each(function(b,l,c){var n=$(b);var m=n.get("%name");var a=n.get("%value");if(m&&a){P.StoreInArray(g,m,a)}});return g},NumToPath:function(h,k){k=k||9;var l=format("{:0"+k+"}",h);var m=[];var j=l.length-2;for(var n=0;n<j;n+=3){m.push(l.substr(n,3))}return m.join("/")},DeleteParent:function(c,e){$(e).up(c).remove()},SortArray:function(l,n,m,o){var j=[];var p=null;for(var k in l){if(l[k]){if(o){p=l[k][m][o]}else{if(m){p=l[k][m]}else{p=l[k]}}if(p==undefined){continue}if(p&&n){p=p.toString().toLowerCase()}j.push([k,p])}}j.sort(function(a,b){if(a[1]==b[1]){return 0}return(a[1]>b[1])?1:-1});return j},MakeToggleNext:function(b){$(b).each(function(g,j){var a=$(g);var h=a.next();h.hide();a.set("+HoverHighlight");a.add(HTML('<img src="'+P.baseurl+'i/h/icons/down.png" class="ToggleIcon">'));h.add(HTML('<a class="Button MiniButton Color4" onclick="P.ToggleThis(this)">'+T[37]+'<img src="'+P.baseurl+'i/h/icons/up.png" class="ToggleIcon"></a>'))});P.OnClick(b,LBUTTON,P.ToggleNext)},ToggleNext:function(k,m){var j=$(m);var n=j.next();var l=$(".ToggleIcon",j);var e=l.get("@src")==(P.baseurl+"i/h/icons/up.png");if(e){n.hide();l.set("@src",P.baseurl+"i/h/icons/down.png")}else{n.show();l.set("@src",P.baseurl+"i/h/icons/up.png")}},ToggleThis:function(g){var f=$(g).up();var e=$(f.trav("previousSibling")[0]);f.hide();$(".ToggleIcon",e).set("@src",P.baseurl+"i/h/icons/down.png")},SortChildrenByText:function(h,g,l){l=l||"";var j=$(h);var k=j.children(g).get();k.sort(function(c,e){var a=$(c).find(l).text().toLowerCase();var b=$(e).find(l).text().toLowerCase();return(a<b)?-1:(a>b)?1:0});j.empty().append(k)},MakeToggleButtons:function(e,c){$(e).each(function(a,b){var g=$(a);switch(g.get("%toggled")){case"on":g.set("-redg -grayg +greeng");break;case"off":g.set("+redg -grayg -greeng");break;case"unset":g.set("-redg +grayg -greeng")}});P.OnClick(e,LBUTTON,function(a){var h=P.Target(a);switch(h.get("%toggled")){case"on":if(c){h.set("%toggled","off").set("+redg -grayg -greeng")}else{h.set("%toggled","unset").set("-redg +grayg -greeng")}break;case"off":h.set("%toggled","unset").set("-redg +grayg -greeng");break;default:h.set("%toggled","on").set("-redg -grayg +greeng")}var b=h.get("%ontoggle");console.log("ontoggle",b);if(b){window[b](a,h)}})},ToggledButtons:function(e){var c={on:[],off:[],unset:[]};$(e).each(function(b,k,j){var l=$(b);var a=l.get("%value");c[l.get("%toggled")].push(l.text())});return c},MakeRadioButtons:function(b){$(b).each(function(h){var j=$(h);var a=$("input",h);var g=a[0].value;$("div",j,true).each(function(c){var e=$(c);if(e.get("%value")==g){e.set("-grayg +greeng")}else{e.set("-greeng +grayg")}});P.OnClick($("div",j,true),LBUTTON,function(c){var l=$(this);var e=l.get("%value");var f=l.up();f.select("input",true)[0].value=e;f.select("div",true).each(function(n){var k=$(n);if(k.get("%value")==e){k.set("-grayg +greeng")}else{k.set("-greeng +grayg")}})})})},Set:function(b){P.API("h/sessions/set",{values:b})},API:function(j,l,h,g){var k={method:"post",timeout:10,handleerror:1};g=Merge(k,g);P.AJAX("/a/"+j,JSON.stringify(l),g).then(function(b){var a=$.parseJSON(b.response);if(!a){throw new Error("P.API: No JSON returned! "+b.statusText+": "+b.response)}else{if(a.error&&g.handleerror){throw new Error("P.API: "+a.error)}else{if(h){h(a)}}}},function(a){throw new Error("P.API: "+a.statusText+": "+a.response)})},LoadingAPI:function(h,k,m,n,j){var l={handleerror:0};j=Merge(l,j);h=$(h);P.Loading(h);this.API(k,m,function(a){if(a.error){h.ht("<div class=Error>"+a.error+"</div>")}else{n(a,h)}},j)},LoadingDialog:function(){return P.Popup(HTML(['<div class="LoadingResults Padded FullWidth Centered">','<img src="/i/h/loading.gif" style="width: 96%"></div>'].join("\n")))},DialogAPI:function(k,m,n,j){var l={handleerror:0};j=Merge(l,j);var h=P.LoadingDialog();this.API(k,m,function(a){if(a.error){$(".LoadingResults").ht(['<div class="whiteb Rounded Pad50">',"<div class=Error>"+a.error+"</div>","<br>",'<div><a class="Button Color1 Width93" onclick="P.CloseThisPopup(this)">'+T[37]+"</a></div>","</div>"].join("\n"))}else{P.ClosePopup(h);n(a)}},j)},ChangeWallpaper:function(f,e){var g=f.split("-");this.wallpaper=g[0];this.texttheme=g[1].replace(".jpg","");this.OnResize();if(!e){this.API("wallpapers/set",{filename:g[0]},function(){})}},SetLanguage:function(b){this.API("translations/setlang",{langcode:b},function(){window.location.reload(1)})},AJAX:function(j,m,h){var k={method:"get",timeout:15};h=Merge(k,h||{});if(h.method=="get"&&m){j+="?"+ToParams(m)}var l=_.promise();var n=new XMLHttpRequest();n.open(h.method,j);n.timeout=h.timeout*1000;n.addEventListener("load",function(){l.fire(true,[n,"loaded"])});n.addEventListener("error",function(){l.fire(false,[n,"error"])});n.addEventListener("abort",function(){l.fire(false,[n,"aborted"])});n.addEventListener("timeout",function(){l.fire(false,[n,"timeout"])});if(h.method=="post"&&m){n.send(m)}else{n.send()}return l},EvalInlineScripts:function(contentdiv){$("script",contentdiv).each(function(item,index,context){var src=$(item).get("@src");if(!src){eval($(this).text())}})},LoadURL:function(g,f,e){e=e||{};title=e.title||"";content=e.content||"";contentfunc=e.contentfunc||"";data=e.data||{};contentdiv=e.contentdiv||"#Content";if(g==P.currenturl){return}P.currenturl=g;if(!f||!P.useadvanced){P.LoadingDialog();window.location=g}else{if(content||contentfunc){history.pushState({title:title,content:content,contentdiv:contentdiv,contentfunc:contentfunc,data:data},title,g);if(contentfunc){window[contentfunc](data);P.dontrestorecontent.push(1)}}else{contentdiv=$(contentdiv);P.Loading(contentdiv);P.AJAX(g,{contentonly:true},{timeout:10000}).then(function(a){d=$.parseJSON(a.response);if(!d){contentdiv.ht("<div class=Error>Problem getting content... Please try again</div>")}else{if(d.error){contentdiv.ht("<div class=Error>"+d.error+"</div>")}else{contentdiv[0].innerHTML=d.content;$("script",contentdiv).each(function(c,l,k){var b=$(c).get("@src");if(b){_loader.Load(b)}});_loader.OnFinished(function(){P.EvalInlineScripts(contentdiv)});history.pushState(d,d.title,g);window.scrollTo(0,0)}}}).error(function(b,a){contentdiv.ht("<div class=Error>"+b.reason+"<br>"+b.responseText+"</div>")})}}},CloseTopLayer:function(){if(P.layerstack.length){for(;;){if(!P.layerstack.length){break}var e=P.layerstack.pop();var c=$(e);if(!c.length){break}if(e.indexOf("Popup")>-1){$(e).remove()}else{$(e).ht("").hide()}window.history.back();return 1}}return 0},OnPopState:function(e){if(P.CloseTopLayer()){return}if(e.state){if(e.state.contentfunc){window[e.state.contentfunc](e.state.data)}else{if(!P.dontrestorecontent.pop()){var contentdiv=$(e.state.contentdiv);contentdiv.ht(e.state.content);$("script",contentdiv).each(function(){eval($(this).text())})}}}else{if(!P.dontrestorecontent.pop()){window.location.reload(1)}}},PageBar:function(r,z,v,q,p,o){r=parseInt(r);z=parseInt(z);p=parseInt(p);o=o||"ListObjects";v=parseInt(v)||100;numpages=Math.ceil(r/v);var t=["<div class=Cleared></div>","<div class=Pad50>",(r?(z+1):0)+" - "+(z+p)+" / ~"+r,"</div>",'<div class="ButtonBar PageBar">'];if(r>v){if(z){t.push('<a class="FirstPage" onclick="'+o+"('"+q+"', 0)\">&lt;&lt;</a>");if(z>=v){t.push('<a class="PreviousPage" onclick="'+o+"('"+q+"', "+(z-v)+')">&lt;</a>')}}var y=Math.floor(z/v);var x=0;var s=numpages;if(numpages>16){x=y>8?y-8:0;s=y+8<numpages?y+8:numpages}for(var u=x;u<s;u++){var w=u*v;if(w!=z){t.push('<a onclick="'+o+"('"+q+"', "+w+')">'+w+"</a>")}}if(z+v<r){if(z+v<r-v){t.push('<a class="NextPage" onclick="'+o+"('"+q+"', "+(z+v)+')">&gt;</a>')}t.push('<a class="LastPage" onclick="'+o+"('"+q+"', "+(Math.ceil((r-v)/v)*v)+')">&gt;&gt;</a>')}}if(numpages>16){t.push("<a class=ChoosePage onclick=\"P.ChoosePage('"+q+"', "+z+", "+v+", "+r+", '"+o+"')\">"+T[34]+"</a>")}t.push("</div>");t.push("<div class=Cleared></div>");return t},ChoosePage:function(o,l,k,j,m){var n=Math.floor(l/k)+1;var p=Math.ceil(j/k);P.EditPopup([["pagenum","int",n,T[35]+" (1-"+p+")","","min=1 max="+p]],function(){P.GotoPage(o,k,m)});P.OnEnter(".pagenum",function(){P.GotoPage(o,k,m)});setTimeout(function(){var a=$$(".pagenum");a.focus();a.select()},500)},GotoPage:function(f,g,j){var h=g*(parseInt($$(".pagenum").value)-1);P.ClosePopup();window[j](f,h,g)},OnPauseButton:function(e){var c=P.media[e];if(c){if(c.playing()){$(".PlayBar .PauseButton").set("@src",P.ImageURL("icons/pause.png","h"));c.pause()}else{$(".PlayBar .PauseButton").set("@src",P.ImageURL("icons/play.png","h"));c.play(P.currentmediaid)}}},OnPlayTimer:function(e){if(P.media[e]&&P.media[e].playing()){var c=P.media[e].seek();$(".PlayBar .CurrentPos").fill(SecondsToTime(c,1));$(".PlayBar .Position").set("value",c);setTimeout(function(){P.OnPlayTimer(e)},300)}},MakePlayButtons:function(b){$(b).each(function(e,a){$(e).set("+HoverHighlight").ht('<img class=DoubleLineHeight src="'+P.ImageURL("icons/play.png","h")+'"/>')});P.OnClick(b,LBUTTON,function(j){var k=P.Target(j);var l=k.get("%url");var a=$("img",k,1);var e=a.get("@src");a.set("@src",P.ImageURL("busy.svg","h"));P.Popup(HTML(['<div class="whiteb Pad50 Raised Rounded PlayBar">','<img src="'+P.ImageURL("loading.gif","h")+'"/>',"</div>"].join("\n")),{closeonmouseout:1,parent:k});P.Play(l,l,{autoplay:1,onplay:function(){var f=P.media[l];var c=f.duration();P.HTML(".PlayBar",['<img class="DoubleLineHeight PauseButton HoverHighlight" src="'+P.ImageURL("icons/play.png","h")+'"/>',"<span class=CurrentPos>"+SecondsToTime(0,1)+"</span> / <span class=Duration>"+SecondsToTime(c,1)+"</span>",'<meter class="Position Width100" min=0 max='+c.toFixed(0)+"></meter>"]);P.OnClick(".PlayBar .PauseButton",LBUTTON,function(){P.OnPauseButton(l)});P.OnClick(".PlayBar .Position",LBUTTON,function(s){var v=P.Target(s);var u=parseInt(v.get("@min"));var r=parseInt(v.get("@max"));var t=v[0].value;var h=P.AbsoluteRect(v);var g=Math.round(((P.mousex-h.left)/h.width)*(r-u))+u;if(t==g){return}v[0].value=g;if(P.media[l]){P.media[l].seek(g)}});a.set("@src",e);setTimeout(function(){P.OnPlayTimer(l)},300)},onloaderror:function(c,f){$(".PlayBar").ht("<div class=Error>"+f+"</div>");a.set("@src",e)}})})},Play:function(h,f,g){g=g||{};g.src=[f];if(!P.media[h]){P.mediatoload.push(f);var j=g.onload;g.onload=function(){P.mediatoload.remove(f);if(!P.mediatoload.length){for(var a=0,b=P.onmedialoaded.length;a<b;a++){P.onmedialoaded[a]()}P.onmedialoaded=[]}if(j){j()}};P.media[h]=new Howl(g)}else{if(g.autoplay!=0){P.currentmediaid=P.media[h].play()}}},OnMediaLoaded:function(b){P.onmedialoaded.push(b)},AddLayer:function(b){P.layerstack.push(b)},RemoveLayer:function(e){var c=P.layerstack.indexOf(e);if(c>-1){P.layerstack.remove(c)}},EnterFullScreen:function(g,j,f){g=parseInt(g);g=g||"";P.AddLayer(".FullScreen"+g);var h=$(".FullScreen"+g);if(j){h.set(j)}h.ht(f.join("\n")).set("$left","-"+window.outerWidth+"px").show().animate({$left:"0px"},300)},ExitFullScreen:function(e){e=parseInt(e);e=e||"";var f="FullScreen"+e;P.RemoveLayer("."+f);var g=$("."+f);g.animate({"$left":"-"+window.outerWidth+"px"},300);setTimeout(function(){g.set("@class",f).ht("").hide()},500)},ShowDrawer:function(n,o,p,j){var m=$("."+n+"Drawer");if(p){m.set(p)}var l=(n=="left"||n=="right")?"$width":"$height";var k={};k[l]=o;m.ht(j.join("\n")).set(l,"0px").show().animate(k,300)},HideDrawer:function(f){var j=$("."+f+"Drawer");j.set("@class","Drawer "+f+"Drawer");var h=(f=="left"||f=="right")?"$width":"$height";var g={};g[h]="0px";j.animate(g,300)},ReloadPage:function(){window.location.reload(1)},NoPaste:function(b){$(b).on("copy paste drag drop",function(a){a.preventDefault()})},CaptureMousePos:function(b){P.mousex=b.changedTouches?b.changedTouches[0].pageX:b.pageX;P.mousey=b.changedTouches?b.changedTouches[0].pageY:b.pageY;P.istouch=(b.type.indexOf("touch")!=-1)},MousePos:function(){return[P.mousex,P.mousey]},InRect:function(f,g,e){if(!e){return 0}return(e.left<=f&&f<=e.right&&e.top<=g&&g<=e.bottom)},FlexInput:function(){$(".FlexInput").each(function(m,p){var k=$(m);var j=k.get("%name");var l=k.get("%value");if(!j){k.ht("<div class=Error>No name provided</div>");return}P.HTML(k,["<pre><span></span><br></pre>",'<textarea class="'+j+'" name="'+j+'"></textarea>']);var n=$("textarea",k);var o=$("span",k);n.on("input",function(){o.fill(n.get("value"))});n.fill(l);o.fill(l);k.set("+active")})},SetCookie:function(r,o,k,m,p,n){m=m||"/";var l=new Date();if(k){k=expires*1000*60*60*24}var q=new Date(l.getTime()+k);document.cookie=r+"="+escape(o)+(k?";expires="+q.toGMTString():"")+";path="+m+(p?";domain="+p:"")+(n?";secure":"")},Emit:function(e,g){if(document.createEvent){var f=document.createEvent("HTMLEvents");f.initEvent(g,true,true);return !e.dispatchEvent(f)}else{var f=document.createEventObject();return e.fireEvent("on"+g,f)}},MakeCalendar:function(F,y,Q,H){var A=y?new Date(y):new Date();if(isNaN(A.getTime())){$(F).ht("<div class=Error>Invalid date: "+y+"</div>");return}var M=A.getDate();var O=A.getDay();var E=A.getFullYear();var I=A.getMonth();var z=I==11?0:I+1;var D=(I==11)?(E+1)+"-01":E+"-"+(I<8?"0"+(I+2):(I+2));var G=(I==0)?(E-1)+"-12":E+"-"+(I<10?"0"+I:I);var K=['<table class="Styled Calendar Width100 Center">',"<tr>",Q?'<td class="Color1 PreviousMonthButton">&lt;&lt;</td>':"<th></th>","<td colspan=5 class=ThisMonth>"+E+"-"+(I<9?"0"+(I+1):(I+1))+"</td>",Q?'<td class="Color2 NextMonthButton">&gt;&gt;</td>':"<th></th>","</tr>","<tr>","<th>"+T_CALENDAR[9]+"</th>","<th>"+T_CALENDAR[10]+"</th>","<th>"+T_CALENDAR[11]+"</th>","<th>"+T_CALENDAR[12]+"</th>","<th>"+T_CALENDAR[13]+"</th>","<th>"+T_CALENDAR[14]+"</th>","<th>"+T_CALENDAR[15]+"</th>","</tr>"];A.setDate(1);A.setDate(A.getDate()-A.getDay()+1);var C=0;var N=new Date();var w=N.getMonth();var x=N.getDate();for(;;){K.push("<tr>");for(var C=0;C<7;C++){var J=A.getDate();var B=A.getMonth();var L=(J<10?"0"+J:J);K.addtext(['<td class="'+((B==w&&J==x)?"Today ":"")+(B==I?"Day Day"+L+'" data-date="'+L:"OtherMonth")+'">'+J+"</td>"]);A.setDate(J+1)}K.push("</tr>");if(A.getMonth()==z||C>60){break}C++}K.push("</table>");P.HTML(F,K);if(Q){P.OnClick(F+" .NextMonthButton",LBUTTON,function(){Q(F,D)});P.OnClick(F+" .PreviousMonthButton",LBUTTON,function(){Q(F,G)})}if(H){P.OnClick(F+" .Calendar",LBUTTON,H)}},OnEnter:function(e,c){$(e).on("?keypress",function(a){if(a.keyCode==13){c();return false}return true})},MiniLogin:function(){P.DialogAPI("login/login",{phonenumber:$(".MiniLogin input.phonenumber").sub(1).get("value"),place:$(".MiniLogin input.place").sub(1).get("value"),password:$(".MiniLogin input.password").sub(1).get("value")},function(b){window.location=document.location})},PopupMiniLogin:function(){$(".MiniLogin .phonenumber")[1].focus();P.OnEnter(".MiniLogin",P.MiniLogin);P.OnClick(".MiniLoginButton",LBUTTON,P.MiniLogin)},PreloadImage:function(k){if(IsArray(k)){for(var j=0,h=k.length;j<h;j++){P.Preload(k[j])}return}for(var l in P.preloads){if(l==k){return P.preloads[l]}}var g=new Image();g.src=k;P.preloads[k]=g;return g},SlideShow:function(j,l,n){var e={nextimage:"random",timeout:4000,imgfraction:0.7};Merge(e,n);var m=$(j);var k=m[0];k.slides=l;k.slidepos=0;k.imgfraction=e.imgfraction;k.nextimage=e.nextimage;k.timeout=e.timeout;k.selector=j;m.set("+SlideShow");P.NextSlide(k)},NextSlide:function(e){var c=P.ViewPortRect().width;$(e.selector+" .Slide").set("$transform","translate(-"+(c*1.2)+"px, 0)");setTimeout(function(){var a=-1;if(e.nextimage=="random"){do{a=RandInt(0,e.slides.length)}while(a==e.slidepos)}else{a=e.slidepos+1;if(a>=e.urls.length){a=0}}e.slidepos=a;e.innerHTML='<div class=Slide style="position: relative; left: '+(c*0.5)+'px;">'+e.slides[e.slidepos]+"</div>";$(e.selector+" img").set("$height",$$(".SlideShow").getBoundingClientRect().height*e.imgfraction+"px");$(e.selector+" img").set("$width","auto");$(e.selector+" .Slide").set("$transform","translate(-"+(c*0.5)+"px, 0)");setTimeout(function(){P.NextSlide(e)},e.timeout)},1000)},MakeTabs:function(k,n){k=$(k);k.set("+TabBar");var p=[];for(var o=0,j=n.length;o<j;o++){var l=n[o];var m=window.location.href.match(l[1])?"class=Selected":"";p.push('<a data-regex="'+EncodeEntities(l[1])+'" href="'+EncodeEntities(l[2])+'" '+m+">"+l[0]+"</a>")}p.push("<div class=Cleared></div>");P.HTML(k,p)},MakeEditTags:function(h,j,l){var k=$(h);k.set("+EditTags");var m=k[0];m.origtaglist=j.slice();var n=["<p class=EditTagsList>","</p>","<div class=ButtonBar>",'<a class="Color1 AddTagButton">+</a>','<a class="Color2 ResetTagsButton">'+T[39]+"</a>",'<a class="Color3 SaveTagsButton">'+T[25]+"</a>","</div>","<div class=SaveTagsResults></div>"];P.HTML(k,n);P.MakeEditTagsContent(h,j);P.OnClick(".EditTags .Tag",LBUTTON,function(){$(this).remove()});$(".AddTagButton").on("click",function(){var a=$(this);P.EditPopup([["newtag","text",T[54]]],function(){var b=$(".newtag").get("value");if(!j.contains(b)){j.push(b);P.MakeEditTagsContent(h,j)}return true},{parent:a})});$(".ResetTagsButton").on("click",function(){P.MakeEditTagsContent(h,m.origtaglist)});P.OnClick(".SaveTagButton",LBUTTON,function(){onsavefunc(h)})},MakeEditTagsContent:function(g,h){h.sort();var k=[];for(var j=0,l=h.length;j<l;j++){k.push('<a class=Tag><img src="/i/h/svg/tag.svg">'+h[j]+"</a>")}P.HTML(g+" .EditTagsList",k)},InterceptHREF:function(){$("body").on("?click",function(g){var e=P.Target(g);if(e[0].tagName!="A"){e=e.up("a")}if(!e.length){return 1}var f=e.get("@href");if(P.baseurl!="/"&&!f.indexOf(P.baseurl)){P.LoadingDialog();return 1}if(!e.get("%nointercept")&&f&&f.indexOf("http")!=-1){P.LoadURL(f,1);g.preventDefault();g.stopPropagation();return 0}return 1})},ListObjects:function(b){start=b.start||0;limit=b.limit||100;data=Merge({start:start,limit:limit,orderby:b.orderby},b.data);P.LoadingAPI(b.selector,b.api,data,function(j,k){var m=j.items;if(!m.length){k.ht("No items found");return}var n=[];for(var l=0,a=m.length;l<a;l++){n.addtext(b.itemfunc(l,m[l]))}n.addtext(P.PageBar(j.count,start,limit,b.orderby,m.length,b.listfunc));P.HTML(k,n);P.AutoWidth()})},RotateImage:function(e,c){},RotateImage:function(g,j){var f=$(g);var h=parseInt(f.get("%angle"));if(!h){h=0}h+=j;if(h<0){h+=360}if(h>=360){h-=360}f.set({"%angle":h,"$transform":"rotate("+h+"deg)"})},Emit:function(l,p,n){n=Merge({pointerX:0,pointerY:0,button:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,bubbles:true,cancelable:true},n||{});var j,m=null;for(var o in {HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/}){if(eventMatchers[o].test(p)){m=o;break}}if(!m){throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported")}if(document.createEvent){j=document.createEvent(m);if(m=="HTMLEvents"){j.initEvent(p,n.bubbles,n.cancelable)}else{j.initMouseEvent(p,n.bubbles,n.cancelable,document.defaultView,n.button,n.pointerX,n.pointerY,n.pointerX,n.pointerY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,l)}l.dispatchEvent(j)}else{n.clientX=n.pointerX;n.clientY=n.pointerY;var k=document.createEventObject();j=extend(k,n);l.fireEvent("on"+p,j)}return l},ChangeWallpaperPopup:function(){var f=['<div class="Wallpapers">'];for(var j=0,g=availablewallpapers.length;j<g;j++){var h=availablewallpapers[j];f.push('<img class=HoverHighlight src="'+P.ImageURL("wallpapers/"+h,"h")+'" onclick="P.ChangeWallpaper(\''+h+"')\">")}f.push("</div>");P.Popup(HTML(f.join("\n")),{closeonmouseout:1,parent:".WallpapersMenu","$width":"10em"})},ChangeLanguagePopup:function(){var g=['<div class="Languages">'];var l=1;for(var k=0,h=availablelanguages.length;k<h;k++){var j=availablelanguages[k];g.push('<a class="Button Color'+l+'" onclick="P.SetLanguage(\''+j[0]+"')\">"+j[1]+"</a>");l++;if(l>6){l=1}}g.push("</div>");P.Popup(HTML(g.join("\n")),{closeonmouseout:1,parent:".LanguagesMenu","$width":"10em"})},UserMenuPopup:function(){var e=["<div>"];var c=1;if(P.userid){e.push('<a class="Button Color1" href="/logout">'+T[27]+"</a>")}else{P.EditPopup([["phonenumber","text","",T[42]],["place","text","",T[43]],["password","password","",T[17]]],P.MiniLogin,{parent:".UserMenu",closeonmouseout:1,gobuttontext:T[47],cancelbuttontext:T[1],cancelfunc:function(){P.CloseThisPopup(".password")}});P.OnEnter(".EditPopupForm input",function(){P.MiniLogin($(".EditPopup"),P.FormToArray(".EditPopupForm"))});setTimeout(function(){var a=$$(".EditPopup .phonenumber");if(a){a.focus()}},200);return}e.push("</div>");P.Popup(HTML(e.join("\n")),{closeonmouseout:1,parent:".UserMenu","$width":"10em"})},MiniLogin:function(c,e){if(!e.phonenumber||!e.place||!e.password){P.ErrorPopup("<?=$T_SYSTEM[48]?>");return}P.LoadingAPI(".EditPopupResults","login/login",e,function(a,b){window.location.reload(1)})},AdminMenuPopup:function(){var h=["<div>"];var m=1;adminpages.sort();for(var l=0,j=adminpages.length;l<j;l++){var k=adminpages[l];if(k.indexOf("/")>-1){var n=P.baseurl+"m/"+k}else{var n=P.baseurl+"m/h/"+k}h.push('<a class="Button Color'+m+'" href="'+n+'">'+k+"</a>");m++;if(m>6){m=1}}h.push("</div>");P.Popup(HTML(h.join("\n")),{closeonmouseout:1,parent:".AdminMenu","$width":"10em"})},HoverPopup:function(e,c){$(e).set("+HoverHighlight");P.OnClick(e,LBUTTON,c)},UploadFilePopup:function(c,e){e=e||{};e.accept=e.accept||"image/*; capture=camera";e.maxsize=e.maxsize||4294967296;e.filetype=e.filetype||"";e.title=e.title||0;e.onfinished=e.onfinished||0;e.resizeimage=e.resizeimage||0;P.MessageBox(['<form class="UploadFileForm" method="post" enctype="multipart/form-data">','<input type=file class=FilesToUpload accept="'+e.accept+'" data-maxsize="'+e.maxsize+'" data-filetype="'+e.filetype+'" data-uploadurl="'+EncodeEntities(c)+'" multiple style="cursor: pointer;"><br><br>',(e.title?("<label>"+EncodeEntities(e.title)+"</label><input type=text class=uploadtitle>"):""),"<div class=UploadedFiles></div>","</form>","<br>"],[[T[47],function(){P.UploadFile(0,e)},3],[T[1],function(){P.CloseThisPopup(".UploadFileForm")},1]]);$$(".FilesToUpload").click();if(!e.title){$(".FilesToUpload").on("change",function(){P.UploadFile(0,e)})}},MakeProgressHandler:function(b){return function(e){var a=$(".UploadedFiles .Upload"+b+" .Right");P.UploadFileProgress(e,a)}},UploadProgress:function(c,e){return function(a){var b=$(".UploadedFiles .Upload"+i+" .Right");P.UploadFileProgress(a,b)}},UploadFile:function(D,l){D=D||".FilesToUpload";var A=$(D);var C=$$(A).files;var y=C.length;var F=$(".uploadtitle");var s=F.length?$$(F).value:0;if(!y){P.ErrorPopup(T[65]);return}if(F.length&&!s){P.ErrorPopup(T[48]);return}var t=A.get("%uploadurl");var u=A.get("%filetype");var v=A.get("%maxsize");for(var w=0;w<y;w++){var z=C[w];if(u&&!z.type.match(u)){P.ErrorPopup(z.name+" is the wrong type");continue}$(".UploadedFiles").add(HTML(['<table class="Width100 Upload'+w+'">',"<tr><td>"+EncodeEntities(z.name)+"</td><td class=Right>0%</td></tr>","</table>"].join("\n")));var E=t+"/"+(s?encodeURIComponent(s)+"/":"")+encodeURIComponent(z.name);if(l.resizeimage&&z.type.match(/image.*/)){var x=document.createElement("img");x.src=window.URL.createObjectURL(z);var B=document.createElement("canvas");B.width=l.resizeimage[0];B.height=l.resizeimage[1];pica.resizeCanvas(x,B,{unsharpAmount:50,unsharpRadius:1,unsharpThreshold:70},function(a){P.SendFile(w,E,z,l)})}else{P.SendFile(w,E,z,l)}}},SendFile:function(k,g,l,h){var j=new XMLHttpRequest();j.open("post",g,true);j.upload.addEventListener("progress",P.MakeProgressHandler(k,l.name));if(h&&h.onfinished){j.onload=function(a){h.onfinished(a,j,l.name)}}j.send(l)},UploadFileProgress:function(g,f){var e=Math.round(g.loaded/g.total*100);f.fill(e+"%")},DeleteUpload:function(c,e){P.DialogAPI("upload/delete/"+c,{},function(a){if(e){e(a,c)}})},Location:function(b){if(P.inphoneapp){b(JSON.parse(JSBridge.Location()))}else{navigator.geolocation.getCurrentPosition(function(a){b(a.coords)},function(){P.ErrorPopup(T[66])},{enableHighAccuracy:true,maximumAge:30000,timeout:20000})}},MakeOnClick:function(e,c){return function(b){var a=P.Target(b);if(!a.is(e)){a=a.up(e)}if(!a){return}if($(e+" .Selected").length){if(a.is(".Selected")){a.set("-Selected");if(!$(e+" .Selected").length){$(".BottomDrawer").hide()}}else{a.set("+Selected")}return}if(c){c(b,a)}}},MakeOnHold:function(f,g,e){return function(l){if(l.button==1||l.button==2){return}var u=P.Target(l);if(!u.is(f)){u=u.up(f)}if(!u){return}var q=$(".Selected").length;var t=u.get(g);var a=$(f);var b=0;for(var r=0,s=a.length;r<s;r++){var c=$(a[r]);if(c.get(g)==t){break}if(b){c.set("+Selected")}else{if(c.is(".Selected")){b=1}}}b=0;for(var r=a.length-1;r>=0;r--){var c=$(a[r]);if(c.get(g)==t){break}if(b){c.set("+Selected")}else{if(c.is(".Selected")){b=1}}}u.set("+Selected");$(".BottomDrawer").set({"$width":"100%","$height":"2.3em"}).set("+lgrayg").show();if(e){e(l,u)}}},MakeContextMenu:function(e,c){c=c||{};c.width=c.width||"12em";return function(b){var n=P.Target(b);if(c.topclass&&!n.is(c.topclass)){n=n.up(c.topclass)}if(!n.length){return}P.CancelBubble(b);var p=['<div class="Raised">',"<div class=ContextMenu>"];var a=IsFunc(e)?e(n):e;for(var o=0,q=a.length;o<q;o++){var l=a[o];p.push("<a class=ContextMenuItem data-pos="+o+">"+l[0]+"</a>")}p.push("</div></div>");P.Popup(HTML(p.join("\n")),{"$left":P.mousex+"px","$top":P.mousey+"px","$width":c.width,closeonmouseout:1});P.contextmenuitems=a;P.OnClick(".ContextMenu",LBUTTON,function(g){var h=P.Target(g);if(!h.is(".ContextMenuItem")){h=h.up(".ContextMenuItem")}if(!h.length){return}P.CloseThisPopup(".ContextMenu");var f=P.contextmenuitems[parseInt(h.get("%pos"))][1];f(g,n)})}},OnAltEnter:function(e,c){$(e).on("?keydown",function(a){if(a.defaultPrevented){return}var b=false;if(a.key!==undefined){if(a.key==="Enter"&&a.altKey){c(e,a)}}else{if(a.keyIdentifier!==undefined){if(a.keyIdentifier==="Enter"&&a.altKey){alert("Alt + Enter pressed!")}}else{if(a.keyCode!==undefined){if(a.keyCode===13&&a.altKey){alert("Alt + Enter pressed!")}}}}if(b){a.preventDefault();return 0}return 1})},MakeQuickFuncsButton:function(e,c){e=e||".QuickFuncsButton";c=c||P.possumbot;P.MakeFloatingButton(e,'<div class="redb HoverHighlight Pad50 Rounded Raised"><img class=DoubleLineHeight src="/i/h/avatars/'+c+'.png" /></div>');P.OnClick(e,LBUTTON,P.ShowQuickFuncsPopup)},ShowQuickFuncsPopup:function(j,h){h=h||"";var e=P.Popup(HTML(['<div class="whiteb Pad50 Raised">','<div class="FlexInput QuickFuncInput" data-name="quickfuncinput" data-value="'+EncodeEntities(h)+'"></div>',"<div class=QuickFuncsButtons></div>","<div class=QuickFuncResults></div>","</div>"].join("\n")),{"$width":(window.innerWidth*0.8)+"px"});P.FlexInput();P.MakeButtonBar(".QuickFuncsButtons",[[T[47],P.ProcessQuickFunc],[T[71],P.QuickFuncsHelp],[T[1],function(){P.CloseThisPopup(".QuickFuncInput")}]]);var g=$(e+" textarea");P.OnAltEnter(g,P.ProcessQuickFunc);$$(g).focus()},AddQuickFunc:function(h,g,j,f){P.quickfuncs.push([h,g,j,f]);P.quickfuncs.sort(function(b,c){var e=b[0].length;var a=c[0].length;if(e>a){return -1}if(e<a){return 1}return 0})},ProcessQuickFunc:function(){var k=$(".QuickFuncInput textarea").get("value");if(k){var h=k.toLowerCase();var m=0;for(var n=0,j=P.quickfuncs.length;n<j;n++){var l=P.quickfuncs[n][0];if(h.startswith(l.toLowerCase())){P.quickfuncs[n][3](k.substr(l.length).trim(),$(".QuickFuncResults"));m=1;break}}if(!m){$(".QuickFuncResults").ht('<div class="yellowb Pad50">'+T[72]+"</div>")}}},QuickFuncsHelp:function(){var j=['<div class="Pad50 whiteb">',"<div class=Left>","<h2>"+T_POSSUMBOT[1]+"</h2>","<p>"+T_POSSUMBOT[2]+"</p>","<h3>"+T_POSSUMBOT[3]+"</h3>","<dl>"];for(var l=0,h=P.quickfuncs.length;l<h;l++){var k=P.quickfuncs[l];var g=(l%6)+1;j.addtext(["<dt>",'<a class="Button Color'+g+'" onclick="P.CopyQuickFuncCommand(\''+EncodeEntities(k[0])+"')\">",k[1],"</a>","</dt>","<dd><p>"+k[2]+"</p></dd>"])}j.addtext(["</dl>","<p>"+T_POSSUMBOT[9]+"</p>","<div class=ButtonBar>",'<a class=Color1 onclick="P.ExitFullScreen(1)">'+T[1]+"</a>","</div>","</div>","</div>"]);P.CloseThisPopup(".QuickFuncInput");P.EnterFullScreen(1,"",j)},CopyQuickFuncCommand:function(b){P.ExitFullScreen(1);P.ShowQuickFuncsPopup(0,b)},QuickChangePassword:function(c,e){if(!c){e.ht('<div class="yellowb Pad50">'+T[4]+"</div>");return}P.LoadingAPI(e,"login/changepassword",{password:c},function(a,b){b.ht('<div class="greenb Pad50">'+T[41]+"</div>");setTimeout(function(){P.CloseThisPopup(".QuickFuncInput")},2000)})},QuickChangeAvatar:function(c,e){if(c.length){P.LoadingAPI(e,"possumbot/set",{avatar:c},function(a,b){$(".QuickFuncsButton img").set("@src",P.ImageURL("avatars/"+c+".png","h"));b.ht('<div class="greenb Pad50">'+T[41]+"</div>")})}else{P.LoadingAPI(e,"possumbot/list",{},function(a,k){var b=a.items;var m=["<div class=Cards4>"];for(var l=0,n=b.length;l<n;l++){m.addtext(['<div class="lgrayb Card HoverHighlight" onclick="P.QuickChangeAvatar(\''+b[l]+"')\">",'<img class=CardIcon src="'+P.ImageURL("avatars/"+b[l]+".png","h")+'">',"<div class=Center>"+b[l]+"</div>","</div>"])}m.push("</div><div class=Cleared></div>");P.HTML(k,m)})}}};P.Init();$.ready(function(){P.emsize=P.EMSize();window.onerror=function(h,j,a,k,l){StackTrace.fromError(l).then(function(e){var c=e.map(function(f){return f.toString()}).join("\n");console.log(c);P.Debug(h+"\n"+c)})};P.SetCookie("timeoffset",P.timeoffset);P.ChangeWallpaper(P.wallpaper+"-"+P.texttheme+".jpg",1);for(var b=1;b<=6;b++){$(".Color"+b).set("$color","white !important")}P.HoverPopup(".WallpapersMenu",P.ChangeWallpaperPopup);P.HoverPopup(".LanguagesMenu",P.ChangeLanguagePopup);P.HoverPopup(".UserMenu",P.UserMenuPopup);P.HoverPopup(".AdminMenu",P.AdminMenuPopup);$(window).on("|resize",P.OnResize).on("|mousemove |mouseenter |touchmove",P.CaptureMousePos).on("|orientationchange",function(){switch(window.orientation){case 90:case -90:P.screenorientation="landscape";break;default:P.screenorientation="portrait"}P.OnResize()});if(P.useadvanced){if(P.isfirefox||P.ischrome||P.issafari){$(window).on("popstate",P.OnPopState)}$(window).on(P.isfirefox?"|keypress ":"|keypress |keydown ",function(a){if(a.keyCode==27){P.CloseTopLayer()}});P.InterceptHREF()}if(window.location.href.indexOf("pafera.com")==-1){$("body").set("$fontFamily","serif")}if(P.userid){P.MakeQuickFuncsButton();P.AddQuickFunc(T_POSSUMBOT[8],T_POSSUMBOT[4],T_POSSUMBOT[5],P.QuickChangePassword);P.AddQuickFunc(T_POSSUMBOT[6],T_POSSUMBOT[6],T_POSSUMBOT[7],function(){$(".QuickFuncsButton").hide();P.CloseThisPopup(".QuickFuncInput")});P.AddQuickFunc(T_POSSUMBOT[10],T_POSSUMBOT[10],T_POSSUMBOT[11],P.QuickChangeAvatar)}interact.pointerMoveTolerance(32)});